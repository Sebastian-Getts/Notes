---
title: tree
date: 2020-02-22 13:51:52
categories: Java
tags: datastructure
---

# 序

同之前的合集框架一样，树也是一种数据结构。不同的是，之前是线性结构，而树是层次结构。

# 堆

这里的堆指的是二叉堆，应用于堆排序。首先将所有的元素添加到一个堆上，然后**不断移除最大的元素**以获得一个排好序的线性表。

## 属性

形状：完全二叉树

堆：每个结点大于或等于它的任意一个孩子

### 完全二叉树

如果一棵二叉树的每一层都是满的或者最后一层可以不满并且最后一层的叶子都是靠左放置的，那么这这棵二叉树就是完全的（complete）。

# 二叉查找树(BST)

Binary search tree, BST：对于树中的每一个结点，它的左子树中结点的值都小于该结点的值，而它的右子树结点的值都大于该结点的值。

结点可以定义为一个类：

```java
Class TreeNode<E>{
    protected E element;
    protected TreeNode<E> left;
    protected TreeNode<E> right;
    
    public TreeNode(E e){
        element = e;
    }
}
```



## 遍历

Tree traversal，即访问树中每个结点一次且只有一次的过程。

### 中、前、后序

inorder, preorder, postorder traversal 都是**以中间结点为主观对象**（或者说是当做当前结点）来说的。中序就是中间结点放在中间，对于一个树来说，就是左中右。前序就是中左右。后序就是左右中。

### 深度优先(depth-first)

深度优先遍历法与前序遍历法相同。他们的一个应用就是打印一个结构性文档（如书的目录）。

### 广度优先(breadth-frist)

逐层访问树中的结点。首先访问根节点，然后从左往右访问根节点的所有子节点，再从左往右访问根节点的所有孙子结点，以此类推。

## i.e.

![Untitled.png](https://i.loli.net/2020/05/04/V32zlOcSEd1uJXh.png)

preorder traversal

> 60 55 45 57 59 100 67 107 101

inorder traversal

> 45 55 57 59 60 67 100 101 107

postorder traversal

> 45 59 57 55 67 101 107 100 60

depth-first

> 60 55 45 57 59 100 67 107 101

beadth-first

> 60 55 100 45 57 67 107 59 101



# 应用：数据压缩

霍夫曼编码：通过使用更少的比特对经常出现的字符编码来压缩数据。字符的编码是基于字符在文本中出现的次数使用二叉树来构建的，该树称为霍夫曼编码树。

ASCII码中每个字符都是8比特，如果一个文件100个字符，保存的话就要800比特。

# AVL树

二叉树的查找、插入和删除操作的时间依赖于树的高度，最坏情况下高度为O(n)，而如果树是**完全平衡的（完全二叉树）**，他的高度是O(logn)。可以保证一棵树完全平衡，但代价比较大。一个**妥协**的做法是保持一颗**良好平衡**的树——**每个结点的两个子树的高度基本一样**。(AVL树就是良好平衡的)

AVL树中的插入和删除一个元素的过程与普通BST中的过程一样，不同的是插入或删除后必须进行重新平衡。

在一棵AVL树中，每个结点的子树的高度差距为0或者1，可以得出树的最大高度。它于1962年被两名俄罗斯（应该是前苏联吧）科学家G.M.Adelson-Velsky和E.M.landis发明，也因此命名为AVL树。

## balance factor(平衡因子)

一个结点的平衡因子是它**右子树的高度减去左子树的高度**。如果一个结点的平衡因子为-1,0或者1，那么结点就是平衡的。-1表示左偏重（left-heavy），+1同理。

## 重新平衡

插入、删除后，如果树变得不平衡了，需要执行旋转操作来重新平衡。有4种可能的旋转：LL，RR，LR以及RL。

一棵树的高度又两个决定因素，因为树有俩分支。于是就出现了上面的四种可能。

RR: 根节点的平衡因子为+2，且右子树的平衡因子为+1或0.

RL: 根节点的平衡因子为+2，且右子树的平衡因子为-1.

LL: 根节点的平衡因子为-2， 且左子树的平衡因子为+1或0.

LR: 根节点的平衡因子为-2，且左子树的平衡因子为-1.

## 时间复杂度

高度为O(log n)，所以时间复杂度也为O(log n)。

# 2-4树

也称为2-3-4树，他是一个**完全平衡**的BST，所有叶子节点都在同一个高度。在2-4树中，一个结点可能有1,2或者3个元素。在BST中一个结点只有一个元素，2-4树则不同，所以会比BST更短。

# B树

# 红黑树