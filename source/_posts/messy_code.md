---
title: messy code
date: 2019-11-02 22:48:39
categories: CS
tags: unicode
---
## 锟斤拷

中文乱码。

`字符编码`：_Character encoding_是一套法则，使用该法则能够对自然语言的字符的一个集合（如字母表或音节表）与其他东西的一个集合（如号码或电脉冲）进行配对。和莫尔斯电码功能类似，美国定制了一套字符编码，对英语字符与二进制位之间的关系做了统一规定，即ASCII码。



`ASCII`(_American Standard Code for Information Interchange，美国信息交换标准代码_)基于拉丁字母的一套编码系统，主要用于显示现代英语，共128个字符。



`Unicode`(_万国码、国际码、统一码、单一码_)，至今仍在不断修增，每个新版本都加入更多的字符。虽然统一了全世界字符的编码，但没有规定如何存储。于是有了UTF(_Unicode Transformation Format_)，常见的有: 

+ UTF-8 使用一至四个字节为每个字符编码

+ UTF-16 使用二或四个字节为每个字符编码

+ UTF-32 使用四个字节为每个字符编码

排在前面的优先纳入Unicode的文字，可能优先使用1、2字节存储了，对于后面纳入的文字，就要使用3字节或四字节存储了，后纳入的对存储空间要求就会很大。对于常用的汉字，在UTF-8中采用3字节进行编码。但是如果有一种只包含中文和ASCII编码的话，就不需要3个字节了，2个就够了。几乎不会出现别国文字的网站（只服务于国家或地区的）就方便使用。



`GB2312`1981年，国标局制定并实施了GB2312-80编码，标准简体中文字符集（不支持繁体中文）

`GBK`微软利用GB2312-80未使用的编码空间，收录GB13000.1-93全部字符制定了GBK编码，这样，一个纯中文网站可以采用这种编码节省存储空间。



`乱码`锟斤拷的由来：**把一串中文字符通过_UTF-8_进行编码传输给别人，别人拿到这串文字后，通过_GBK_进行解码，得到的内容就会是“锟斤拷……” **



`锟斤拷`Unicode官方定义无法显示的字为_0xFFFD REPLACEMENT CHARACTER_，他的16进制形式是三个字节_0xEF 0xBF 0xBD_，如果有两个连续的字符都无法显示，那么这编码放在GBK（一个汉字两个字节）正好对应的就是锟(0xEFBF)斤(0xBDEF)拷(0xBFBD)。所以出现这三个字，就是**UTF-8**和**GBK**的转换出了问题。
