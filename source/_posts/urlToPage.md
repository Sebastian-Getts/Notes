---
title: urlToPage
date: 2020-01-11 16:04:21
categories: CS
tags: 
- url
- update
---

从输入URL到页面展现到眼前，中间发生了什么？面试的时候被问到过这个问题，我的回答主要集中在了DNS上，其实中间还有很多可以细细讨论的地方。

<!-- more -->

# 序

- DNS
- HTTP请求
- 浏览器解析、渲染页面



# DNS

Domain Name System，域名解析，浏览器不是通过域名找到对应的服务器，而是要通过IP地址。

寻找url对应的ip：

1. 浏览器缓存
2. 操作系统缓存
3. 路由缓存
4. ISP（Internet Service Provider）的DNS服务器
5. 跟服务器

浏览器通过向DNS服务器发送域名获取到对应的IP地址，然后将IP地址放入协议中发送给对应的服务器。



# HTTP请求

从DNS中获取到IP后就可以进行http请求了。正式发送请求前会进行三次TCP的三次握手，通过后发送请求报文。

数据传输完毕后还要进行TCP四次握手。

# 浏览器解析、渲染页面

浏览器拿到HTML后，就开始解析渲染。

## 根据HTML解析出**DOM**树

深度优先遍历

## 根据CSS解析生成**CSS规则树**

## 结合DOM树和CSS规则树，生成**渲染树**

## 根据渲染树计算每一个节点的信息

## 根据计算好的信息绘制页面





