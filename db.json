{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/tranquilpeak/source/assets/css/all.css","path":"assets/css/all.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/gitalk.css","path":"assets/css/gitalk.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/gitment.css","path":"assets/css/gitment.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/jquery.fancybox.css","path":"assets/css/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/style-xsmpikcbczzhpff1zqybzgesjqcgmkdkx9b5ntr0bkmk6wqucpktuaodiuvy.min.css","path":"assets/css/style-xsmpikcbczzhpff1zqybzgesjqcgmkdkx9b5ntr0bkmk6wqucpktuaodiuvy.min.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/style.css","path":"assets/css/style.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/thumbs.css","path":"assets/css/thumbs.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/css/tranquilpeak.css","path":"assets/css/tranquilpeak.css","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.eot","path":"assets/fonts/fa-brands-400.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.svg","path":"assets/fonts/fa-brands-400.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.ttf","path":"assets/fonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff","path":"assets/fonts/fa-brands-400.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff2","path":"assets/fonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.eot","path":"assets/fonts/fa-regular-400.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.svg","path":"assets/fonts/fa-regular-400.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.ttf","path":"assets/fonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff","path":"assets/fonts/fa-regular-400.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff2","path":"assets/fonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.eot","path":"assets/fonts/fa-solid-900.eot","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.svg","path":"assets/fonts/fa-solid-900.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.ttf","path":"assets/fonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff","path":"assets/fonts/fa-solid-900.woff","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff2","path":"assets/fonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold-italic.ttf","path":"assets/fonts/merriweather-bold-italic.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold.ttf","path":"assets/fonts/merriweather-bold.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light-italic.ttf","path":"assets/fonts/merriweather-light-italic.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light.ttf","path":"assets/fonts/merriweather-light.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather.ttf","path":"assets/fonts/merriweather.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans-bold.ttf","path":"assets/fonts/open-sans-bold.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans.ttf","path":"assets/fonts/open-sans.ttf","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/cover-v1.2.0.jpg","path":"assets/images/cover-v1.2.0.jpg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/cover.jpg","path":"assets/images/cover.jpg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/images/logo-algolia-nebula-blue-full.svg","path":"assets/images/logo-algolia-nebula-blue-full.svg","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/algoliasearch.js","path":"assets/js/algoliasearch.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/gitalk.js","path":"assets/js/gitalk.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/gitment.js","path":"assets/js/gitment.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/jquery.fancybox.js","path":"assets/js/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/jquery.js","path":"assets/js/jquery.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/moment-with-locales.js","path":"assets/js/moment-with-locales.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/script-jsoeqoqa2ajw9nwj0xf5gmftvb2jhopk3sxu8iodabvev2jdlmr0zsitv3jm.min.js","path":"assets/js/script-jsoeqoqa2ajw9nwj0xf5gmftvb2jhopk3sxu8iodabvev2jdlmr0zsitv3jm.min.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/script.js","path":"assets/js/script.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/thumbs.js","path":"assets/js/thumbs.js","modified":0,"renderable":1},{"_id":"themes/tranquilpeak/source/assets/js/tranquilpeak.js","path":"assets/js/tranquilpeak.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/contest201.md","hash":"bd260341d42c02016a549ee95cbfa97d50c3f513","modified":1604820016385},{"_id":"source/_posts/bitwise.md","hash":"e432378421cad9c100e07bd267360fcbf4e415e0","modified":1604820016381},{"_id":"source/_posts/decorating.md","hash":"50ef4d6d65214ed26ae3df8231b5e92dec3b5e10","modified":1604820016385},{"_id":"source/_posts/contest203.md","hash":"506cdc75078718c8bf5643df8416f5e9dce1b812","modified":1604820016385},{"_id":"source/_posts/hashmap.md","hash":"7336c111a485a4ee03ddeb872d50a72104fca117","modified":1604820016385},{"_id":"source/_posts/contest200.md","hash":"c68b5064a92a3fcbd3f84c348dea4bfbdc684ebb","modified":1604820016385},{"_id":"source/_posts/contest202.md","hash":"ff7d44f03dd7681bb0b3d8cf862af07a4a29a40f","modified":1604820016385},{"_id":"source/_posts/heap.md","hash":"712bd551b9ec195eacc671ba92e05fd20a592322","modified":1604820016385},{"_id":"source/_posts/jvm.md","hash":"b3114ece9daccaf267b7b111c04227a1fa1045fc","modified":1604820016385},{"_id":"source/_posts/https.md","hash":"14a02c81c40ec171d0129f5ed75c6207df3e30ce","modified":1604820016385},{"_id":"source/_posts/kafka.md","hash":"63c58e790291526a93f022e539758f76a9a83c3a","modified":1604820016385},{"_id":"source/_posts/lock.md","hash":"c8c80b88f63bfb80eded1cc7505718b07651a0c1","modified":1604820016385},{"_id":"source/_posts/mq.md","hash":"cba47c0da597e997b680bd69c9d1880f4e613c4e","modified":1604820016385},{"_id":"source/_posts/nginx.md","hash":"43adb94f931736a928d1b2c80bc1b8513d244168","modified":1604820016385},{"_id":"source/_posts/redis.md","hash":"bdc31bde46b4e469d2ef9bcdbc25db0a146fd6d0","modified":1604820016385},{"_id":"source/_posts/springAOP.md","hash":"ba49cc222ef8aaae3c492eb1c46c92897d6b4f80","modified":1604820016385},{"_id":"source/_posts/mybatis.md","hash":"05a0686732c5a777370af6d94882eddcaad3bf4a","modified":1604820016385},{"_id":"source/_posts/observer.md","hash":"490d5864c09f76ff42ddf243a6aa9d75932ae044","modified":1604820016385},{"_id":"source/_posts/uml.md","hash":"3486af2f10efacb5f68dd533568a78f042bfe992","modified":1604820016385},{"_id":"source/_posts/volatile.md","hash":"bfc35bbc8dea0ae74acd0e5d95e9ffcd0a27b0f8","modified":1604820016385},{"_id":"source/all-tags/index.md","hash":"9328f34da1aa2d20dadfdf895d6356720a484353","modified":1604820016385},{"_id":"source/tags/index.md","hash":"9c3e184d51c00399c9ab869d6345d6231025afa5","modified":1604820016385},{"_id":"source/top/index.md","hash":"9f7492a48015822ab20b5c3ca8356d15760667bb","modified":1604820016385},{"_id":"source/categories/index.md","hash":"5ed5ee833af50b986e1a543ace747994814a7cb0","modified":1604820016385},{"_id":"source/all-archives/index.md","hash":"fa34028baad36af6c9feb24ef61cc0f3b3c51746","modified":1604820016385},{"_id":"source/all-categories/index.md","hash":"5ba8c7b70cc60dc7bf0cefeb22b4d9b86d1aa2e0","modified":1604820016385},{"_id":"source/about/index.md","hash":"d0ec051b60eab664ce613d6a7df07508e1cbdb54","modified":1604820016385},{"_id":"themes/tranquilpeak/.gitignore","hash":"19e27dd778896662e6d604b69411d2dc3cf5fec6","modified":1599420980000},{"_id":"themes/tranquilpeak/.eslintrc","hash":"ea1da9c0b0863a612ace47bd336cff95497bd878","modified":1599420980000},{"_id":"themes/tranquilpeak/.eslintignore","hash":"1f78f00553adf9ee374b343191ed809b0f8ba073","modified":1599420980000},{"_id":"themes/tranquilpeak/Gruntfile.js","hash":"b2b078651cf8c5dcde2e847169ce242ad3319ca3","modified":1599420980000},{"_id":"themes/tranquilpeak/DOCUMENTATION.md","hash":"daaa36cff0cf7aeb7682372d6697a55d6a0f2f5b","modified":1599420980000},{"_id":"themes/tranquilpeak/README.md","hash":"c18f2fea9ceeec6efa85d892df67a191d6c84ec5","modified":1599420980000},{"_id":"themes/tranquilpeak/LICENSE","hash":"7a3b30ddb56760b35a6b7cd210aeb271cd292b60","modified":1599420980000},{"_id":"themes/tranquilpeak/_config.yml","hash":"931c5d492eca5b5c6d3652fec6f029eab13e3292","modified":1599420980000},{"_id":"themes/tranquilpeak/package.json","hash":"e7ae06164db660858af35a2183417a518b081a80","modified":1599420980000},{"_id":"themes/tranquilpeak/renovate.json","hash":"f902d35646d7a6a637f727b02cd832c4339a4ca9","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/CONTRIBUTING.md","hash":"8873700e439b6fc8aa4804b70a90fd81bf310d6c","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE.md","hash":"ec6bf3eb708f8eb62736ede6d2080f6610849802","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/PULL_REQUEST_TEMPLATE.md","hash":"03cdb93ca72cd6a19043ea4bb1ec4f5b7479a0a9","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/de-DE.yml","hash":"c9a7514af3c5c58023f8d3ed9503be4253146015","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/en.yml","hash":"1d8f8e3dd95dc67a1991898fc849323a1cf46ec3","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/es.yml","hash":"b5f37df87377d985339a21f343bf54db46926f1a","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/fr-FR.yml","hash":"c644bb587a5360bb70a12c2d83f8d5973fb0055c","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/it-IT.yml","hash":"a5655d08a311f3292df5805ea2d6d72fd68726ca","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/fa.yml","hash":"ec86c6fd655ed0c6df017c17f62b784b916d3a4a","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/ja.yml","hash":"3c6f7cda21ac91abc9f728e3093b1e98b42d5295","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/pt-br.yml","hash":"e2edf45fae5a5290a3dc2111ef38d5cd40d43771","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/ko.yml","hash":"b56376775c5bc7f8f1d1b356340597cc61aae392","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/ru.yml","hash":"262f781591cf2dd1584411ed4a780369d4d2e30a","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/zh-cn.yml","hash":"fea995175f5aeb58f8a958b00556bc2336d37a07","modified":1599420980000},{"_id":"themes/tranquilpeak/languages/zh-tw.yml","hash":"f04e0e91edacb8f6cae7308007bd5e5158e6c77e","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/all-archives.ejs","hash":"28a4e97d1cfe4730dbcc8fde27b079320b5eec35","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/all-tags.ejs","hash":"aabb765f51a8d7582a5bafdbc8876b46ff1e6ea1","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/all-categories.ejs","hash":"c2257b8265a9a328e69c92f4a88cb2cdd99c047a","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/archive.ejs","hash":"0df1edf4ed40b316715ef1949b09aa9c98d22359","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/category.ejs","hash":"67902c418e299399133fe2a7ebc39cadd17de861","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/index.ejs","hash":"36e89b37f520533bef85fb32b714214257fad1d0","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/page.ejs","hash":"ae761feddc98f4d3260e7591ed9fc91d9a49d0ab","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/post.ejs","hash":"ae761feddc98f4d3260e7591ed9fc91d9a49d0ab","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/layout.ejs","hash":"29c1291c7ca3f5da7bee6385b7f716d179199933","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/tag.ejs","hash":"72bff1ae241fbe2ddca0537e8ed77c791a7d1766","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/.eslintrc.json","hash":"4cd7451f0bc15440bc8147912c63a11acd0e280f","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/pipeline.js","hash":"75b65cbd6d6ae471739ba80c9f792f602a0769d4","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/bug-report.md","hash":"b9a9ffe556f1fca39009403f87bb8c8e840dc369","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/feature-request---improvement.md","hash":"7d53b0c0d65dd28da17ff9d948e842883cab467f","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/ISSUE_TEMPLATE/question.md","hash":"443c4f27268d39e89390edb7dcffda407a070fd7","modified":1599420980000},{"_id":"themes/tranquilpeak/.github/workflows/nodejs.yml","hash":"595c32bcb8ba72cd0737c6009f24dabda12af834","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/about.ejs","hash":"c92588fcb4435e19b8c7e10fe24484aa6639060e","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/baidu-analytics.ejs","hash":"736eca2ecf6fdeea032d47c02c51688f006cafb4","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/archive.ejs","hash":"bdd73d1f70bd91533863943f940f8193d44e0fdd","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/archive-post.ejs","hash":"e19455749c5c1bf773214d965f173613dd8f30f6","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/footer.ejs","hash":"67962257d9e3cb6a4d56e3f0263f192ba9a413dd","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/cover.ejs","hash":"18b9a620fca9b648fd59467a66b3f4fdbba42613","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/google-analytics.ejs","hash":"b756aa731678a37d22c97c7dc30767331b08d109","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/header.ejs","hash":"94bde50d2911814ae08c4a9c681657cc3392c05b","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/head.ejs","hash":"52459d08c7d6b172124fa1ea09bd7414419fc779","modified":1607953738996},{"_id":"themes/tranquilpeak/layout/_partial/pagination.ejs","hash":"89d3be71ff2f5a847850d50e117896056f0ca1a6","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/index.ejs","hash":"34d9260021e4b8b4bf232c2786d8e90e0db5bd20","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post.ejs","hash":"cdccf8f0ea1c01997fafdabb7cf044d3939cbb6c","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/script.ejs","hash":"30f080e514007a8411b30373592d257407fe7aaf","modified":1607953738996},{"_id":"themes/tranquilpeak/layout/_partial/search.ejs","hash":"0fd5f75117912cd1e6e7e6094079bccdc79c0000","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/filters/excerpt.js","hash":"5e0e473d46f8c7aac988ebf0b25ab2eab0af73bb","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/helpers/absolute_url.js","hash":"0d520a946b6f0abbac60529017ed3133265aac60","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/sidebar.ejs","hash":"39fb0c9f214cc36f4f96cbcacc832e542d723881","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/helpers/generate_sharing_link.js","hash":"89069677e8acddef5fba0d3093f5f73fde4fa485","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/helpers/is_remote_url.js","hash":"471237ea295bcc9a392a5bb6738ef4c6ab673afb","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/helpers/resolve_asset_url.js","hash":"c813e9daaed374b386b91876923f10c0cf1d624c","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/filters/thumbnail_image_url.js","hash":"0ad2d9304c991e2989708bdbfa6a59030ee691d3","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/alert.js","hash":"5b86358dd53c9b0d44c385ec12cf9e76383e229a","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/helpers/json_ld.js","hash":"4cd07766ed9436f0c4cb8a9ae22644272918b837","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/fancybox.js","hash":"55ce02f9ef084f43932eb9b0f10db1d5e9c3a250","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/highlight_text.js","hash":"8e093f21e9a4b10c19be6f300dc90bcc39685ec9","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/image.js","hash":"ab6b04db8fe2ad21ec52dac5e1c3ee76400c6a79","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/tabbed_codeblock.js","hash":"7dccd36bdd85c96eb7af125b30d634f44125700c","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/video.js","hash":"497d64fd454cc6fd5c26a42cb8e38db90b83cf4f","modified":1599420980000},{"_id":"themes/tranquilpeak/scripts/tags/wide_image.js","hash":"d3596c62694548a3a684e8dfeb5372038ef6f450","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/tranquilpeak.scss","hash":"e69c62b19ece4ab35d992e163b47f2a8374d7611","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/.eslintrc.json","hash":"27d4e7223eee3eca7eb717bea2d28d35714eccbc","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/about.js","hash":"ce68bcc929192dfca6e699fe8e528990cd2d9590","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/archives-filter.js","hash":"8b8998b0e67c745a20450001c0739f6977b63309","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/categories-filter.js","hash":"a5f3c4b9bbef1c8ec881eb39551060ca95bfbb33","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/fancybox.js","hash":"659aaad375ecff9748a5d3b0ff1378a549236513","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/codeblock-resizer.js","hash":"391c2c9135579ea50c2060e0612e7105e06a8ff7","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/image-gallery.js","hash":"90efc47246af69b7e17fab6e0bd1578043fcc2b0","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/header.js","hash":"58ca619f851ebff35724c07dca7f1ed25e9cd5f2","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/post-bottom-bar.js","hash":"64f78c44d29d3559d5e14e436b8cfe1d24b8c965","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/share-options.js","hash":"c2046697540786721ff7c4754774f94fcaf32696","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/sidebar.js","hash":"18dc623dd237c519bb79ce93283a5446cc11a487","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/search-modal.js","hash":"7ea9ab668bc3118c28e6212516f366ef764d3550","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/smartresize.js","hash":"7342a21f94d7bb0525ccbd917d43a6824d7ae63e","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/clean.js","hash":"ea70743eb4ed0d9ead68d6fc8b65b9f936229a00","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/tags-filter.js","hash":"d33625df51d7b9788eeea338626f04387c96f053","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_js/tabbed-codeblocks.js","hash":"1282e11aacb036c8c9310cac49b75d7e2200125c","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/concat.js","hash":"0c2c4dbbfac52f20a3035a2f8cd1c24f1759b17e","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/cssmin.js","hash":"352185864437728c9c19169f4fec6fc3308e8b6d","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/copy.js","hash":"4b9a4e724c65ec71cfec36b387a2625fc0f1074c","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/replace.js","hash":"984ba7ed966c16b1fadf47c62f76e99940d4b12d","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/sass.js","hash":"84ba6be74f99c502543b7f77a105ce16931fd38e","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/sails-linker.js","hash":"c1103119ec7d1f04cfbb1cda83b40d11e8f2d218","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/sync.js","hash":"fbc09d0ed201993bc1918223b8f8ad5b68f50490","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/uglify.js","hash":"57c7341a004b61539f5b3f02bd772f40494b8306","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/config/watch.js","hash":"933eecd8a2506c627dbb9a1137305a16dd2d9f9a","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/build.js","hash":"f64c77127a2d4bfdbb9866fcf368913334f44603","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/buildProd.js","hash":"450ff77a1bf631d1799206d218c6468592a59862","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/compileAssets.js","hash":"a65122ba0d1a1b6044e3b635a644882577b628ba","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/default.js","hash":"80174db9b8a729980770e639e70999ce5a816b78","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/eslint.js","hash":"718cd8a80d060e2587b84e0e20ceaa39c2cc9411","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/linkAssets.js","hash":"079cd274cb29f9984eb7150d88f61819d2ef6235","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/linkAssetsProd.js","hash":"37f2fab80f25757be3e34b40bc5a26a82f088491","modified":1599420980000},{"_id":"themes/tranquilpeak/tasks/register/syncAssets.js","hash":"0813093c3e252a58371db53e914183a97e3186a1","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/category.ejs","hash":"d4b26aa8c66aa8dbfae7a4aafed874745efb2f8e","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/disqus.ejs","hash":"9e0d238ed918e3138d5a9bb23a90408669e19169","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/duoshuo.ejs","hash":"992368f8863f34d1dccf90c0cabc33d5dcdbe92a","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/actions.ejs","hash":"419223bff6146c46d4e993e4aa2e3636b051edc8","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/gitalk.ejs","hash":"8c91c60ffeab780a8a628145c572456187142101","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/gallery.ejs","hash":"71b4ad77ab08c0980bf85b85c98a90c7de2be107","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/gitment.ejs","hash":"1dcfdca4d20bab5a43bda44cf37df506ab3a0fb7","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/header.ejs","hash":"19c5f0d680db08fe2880f41de3a085ef0298a386","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/meta.ejs","hash":"f13cb5089b0d5898c9606519d1c872725a63a5f9","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/header-cover.ejs","hash":"4d3a73d0c6f26769f778d02a559e5055ef1ee0ca","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/tag.ejs","hash":"2a52f38fa359f8ec8ae776e44e92c48795e31272","modified":1599420980000},{"_id":"themes/tranquilpeak/layout/_partial/post/share-options.ejs","hash":"896158d62beba2ecb7d6af6e0f01f8f1ea23e706","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/base/_base.scss","hash":"f0a46b090a0a4dd21edfd89095761895c5278ecb","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_alert.scss","hash":"1e6bf40de34a341dd0228357e288153b9292977c","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_archive.scss","hash":"cfdf53475d228643d5c5e62689b3c6a593e4ccce","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_box.scss","hash":"eebaacf55234fdaa156edb7dc4d9a4f382eaf4d4","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_caption.scss","hash":"dad2683f5f3235b335eebcbda3db59a1cfbb2283","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_button.scss","hash":"ea9bd41800fe04860f7e892c17010588b2563a06","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_code.scss","hash":"0a14fe197c221a4d4d91ee9d41541ce7969043ca","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_fancybox.scss","hash":"e162e2ecafc2be70238a9885fd57a9a7ad642757","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_form.scss","hash":"368187e0c5f1a57d8c423f2ec23e897ee94a1a27","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_figure.scss","hash":"9828521c34d91f04813db23e174708f510fe30bf","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_hide.scss","hash":"c2f5ed51086b9ea5d94ff548bdc4653ea5cd7912","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_highlight-text.scss","hash":"7a7a8a78f75d6c43a46fd020e2d44546e716751b","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_icon.scss","hash":"60dc972bcd81b4f95ab2c067ca910a5bf324d907","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_link.scss","hash":"7460155ebf7ce0d3e9acd090b6b99673127fd0be","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_image-gallery.scss","hash":"95ee5be04c523bf914596042574780ee527e6b38","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_main-content.scss","hash":"90c46c87289a8b3cf7c14d36900f5ced9db36c25","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_media.scss","hash":"84aa03c01b741bbeb31c6b48122930f30ad40de3","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_markdown.scss","hash":"ba6d7e8f84b3b6dfef339f28b5c6ae372ead674f","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_modal.scss","hash":"bc56f823cd67b2ed65b5cf2c3e1851fa3e82f0f9","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_pagination.scss","hash":"809b9330a0e2d79c9285c1a452d61648248c8b70","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_post-actions.scss","hash":"1cc3ba46b1752043207bb820f4f886b0f982e445","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_post.scss","hash":"0457c281b7893f8fde8a0590e4c1ff2ffb4bc1a6","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_post-header-cover.scss","hash":"c4bf950602ccb3fbdad54938979651a7b488236e","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_postShorten.scss","hash":"9a2fdf8021c71d09fcd6ef5bc269055d78290fdb","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_pullquote.scss","hash":"86bc35ba358d1340debc459a344f5f6d34acaa42","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_tag.scss","hash":"ddd1c2ce17f0116655bdacda598e7f1d6fd18262","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_share-options-bar.scss","hash":"f6289a7cce6efe039614c77085945923c32d9673","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_text.scss","hash":"7b38858248da2f73cf64c5949fd475a8e0a246ae","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_video.scss","hash":"f9727fd300d73e8844abf0e2575c45e6c7769333","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/components/_tooltip.scss","hash":"f33ad3e677761af1ceb42d337691b8b354ff70bd","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_about.scss","hash":"4a1c4cca6623449602208256dee6422173daf1ef","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_blog.scss","hash":"2450e07594a5e5186170fb5b5b157cc340808a9a","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_cover.scss","hash":"03a951c9b35dd4e35456caa36950e6d6bef77ac3","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_bottom-bar.scss","hash":"c7816c7ebc253d46466355860ead6669a3707ac6","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_footer.scss","hash":"645161942c66e6afbd666b4755337a6a6261e5e0","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_header.scss","hash":"d840a4be850cb258167ee1081e1b288dc64b3d2c","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_main.scss","hash":"ee4648502b355db51fc6cb7b05375003331f2f6e","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/pages/_search.scss","hash":"5f7cde0b68156ea802c3caf6cd673cab948b09d9","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/layouts/_sidebar.scss","hash":"facaff0ca816a4ace67c7689e4286e88eb1010c2","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/themes/_hljs-custom.scss","hash":"a0ffab53db35bbd4881aeb077400cba55551f3bd","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/_fonts.scss","hash":"4da4074668be0e0abe756aa537a406d14da7ceff","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/_variables.scss","hash":"fc62fcffcdb16fb823c3cb170bbcf34493f0467f","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/themes/_hljs-tranquilpeak.scss","hash":"3c1e0d8b6e2f37820d00572878d060080c5a6fe7","modified":1599420980000},{"_id":"themes/tranquilpeak/source/assets/css/gitment.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1607953729145},{"_id":"themes/tranquilpeak/source/assets/css/gitalk.css","hash":"fe5406a41cf222f39919630efd9012d08b7414aa","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/css/jquery.fancybox.css","hash":"00ce8430edb0a4ca35e08a9813e039d3a4b7868c","modified":1607953729388},{"_id":"themes/tranquilpeak/source/assets/css/thumbs.css","hash":"133acf84f948218219d3f23eb466fe54aceda97d","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.eot","hash":"3306178c90d9df939d2a5eabf533ba3650fbe80e","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff","hash":"da17a9f1dcae379c8ba20f1089059c202216cba7","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.ttf","hash":"517a3b41c1e01b65898b5f1074434d43a361a54f","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.woff2","hash":"5e4d45052f43e55aaad7f14d13280215e39aa45b","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1607953729364},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1607953729364},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1607953729364},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1607953729380},{"_id":"themes/tranquilpeak/source/assets/fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1607953729380},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1607953729380},{"_id":"themes/tranquilpeak/source/assets/fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1607953729380},{"_id":"themes/tranquilpeak/source/assets/images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1607953729364},{"_id":"themes/tranquilpeak/source/assets/js/thumbs.js","hash":"ee9a65e280178b9525441b751ad7c0e6eb887022","modified":499162500000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_bottom-bar.scss","hash":"ab28b4d66f021e44d7a46a76157c6a2b5fd23496","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_button.scss","hash":"70c64560144d7d6015bbedeca0531258f9bafa07","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_category.scss","hash":"8cfc45772365e537949a4cd20cfa2a79e1a75dc8","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_form.scss","hash":"14026f13b54ef9f2cd7109cf1bca43040816e542","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_header.scss","hash":"52de2cb5f49a3b5748557fe2d25791ce52457d62","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_main.scss","hash":"0ad55a6191d0a533917845006ceae329353c0b90","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_opacity.scss","hash":"cfc9905b6df3b5100a30b5c47fd331068f238f97","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_post-header-cover.scss","hash":"ecd9078372d8bd1b7f4979bae3251e8efb345a9b","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_prefix.scss","hash":"5e04cd54ba375f69c97b62b7d4e535118ec78177","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_share-options-bar.scss","hash":"06f84bceb82df4d3bda64144f6fe4ad8e3e45f89","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_sidebar.scss","hash":"6c3dc034c3d5fdf7f0c4c39a6913f5bae4fc4767","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_css/utils/mixins/_tag.scss","hash":"c8a87e586e27f999ffa46f273f78a812f1cf2f0a","modified":1599420980000},{"_id":"themes/tranquilpeak/source/assets/css/all.css","hash":"9e798ebfbdf41ffcd68b02a5af2a9d997ddd6d12","modified":1607953729392},{"_id":"themes/tranquilpeak/source/assets/css/tranquilpeak.css","hash":"a6c317a8f3222d738f6cad9273729f8a915eb918","modified":1607953729412},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff","hash":"fddb95d7a0f48d2bf90a5ee3095e8264dca18053","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.woff2","hash":"62584b9868428fd75af3fc5ee2f9918dda428be5","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff","hash":"f13e252f8a51a5279fd21e26ada0bd2f55bcefd8","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.woff2","hash":"6290834672aba86d5b6c1c73b30b57c9c53996f7","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/tranquilpeak.js","hash":"ed9d93b9de4037c97c8699b7b9b985ec48c1b25d","modified":1607953729416},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.eot","hash":"40c8f2a0dc154160fde50e0c27f694f12c7b1636","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.ttf","hash":"29f59b4eecc72052d9110a5d4030a10ad9bf73d7","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-regular-400.svg","hash":"51afca56e309df6fdc56b53fa6a7d3ce64826490","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/gitment.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1607953729145},{"_id":"themes/tranquilpeak/source/assets/js/jquery.fancybox.js","hash":"048f1f8464eba59ccc706250693bc2ab060098a9","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/script-jsoeqoqa2ajw9nwj0xf5gmftvb2jhopk3sxu8iodabvev2jdlmr0zsitv3jm.min.js","hash":"5f7046b160a695d9cac75b4eace17a2f70d7c365","modified":1607953738972},{"_id":"themes/tranquilpeak/package-lock.json","hash":"da9b5df3e93b6e72d4c0c9e8f1839de886ab1e77","modified":1599420980000},{"_id":"themes/tranquilpeak/source/_images/cover.jpg","hash":"df915f5b3eeed6bad93a183f65e5c6f536e551fe","modified":1599420980000},{"_id":"themes/tranquilpeak/source/assets/css/style-xsmpikcbczzhpff1zqybzgesjqcgmkdkx9b5ntr0bkmk6wqucpktuaodiuvy.min.css","hash":"5373bff083c63d4e6f97f9fcf9c53cd76553770c","modified":1607953731375},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.eot","hash":"96a5637429426764ea9b28bf4d1eb55ae10de57e","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.ttf","hash":"874c650701d0cbfb8f1de48a496dabed3bbf22e6","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/algoliasearch.js","hash":"6948fcdf071e4983e784e8c458cf201536f77792","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/css/style.css","hash":"cdef36fb7aba6b5157a5d7389275b5d94c39d886","modified":1607953729440},{"_id":"themes/tranquilpeak/source/assets/images/cover.jpg","hash":"df915f5b3eeed6bad93a183f65e5c6f536e551fe","modified":1607953729360},{"_id":"themes/tranquilpeak/source/_images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1599420980000},{"_id":"themes/tranquilpeak/source/assets/images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1607953729356},{"_id":"themes/tranquilpeak/source/assets/js/jquery.js","hash":"ad16c4a132ad2a03b4951185fed46d55397b5e88","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/script.js","hash":"a7d90b628cd71bc7a40ffab53f2bfeb73bb352da","modified":1607953729472},{"_id":"themes/tranquilpeak/source/assets/js/gitalk.js","hash":"c7a382307a7fdc77ba4c4f5a440bd14483741ff1","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/js/moment-with-locales.js","hash":"d39047f5013a835e3db43fa17b78bf625712825d","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-brands-400.svg","hash":"99dff0739882276ad6c434d73228efc7971b0a66","modified":499162500000},{"_id":"themes/tranquilpeak/source/assets/fonts/fa-solid-900.svg","hash":"5501fb62e20a89bdd89bf3fa147ca4dbcd2fc67f","modified":499162500000},{"_id":"public/categories/index.html","hash":"3db52272100fe4f83be1ae917536a4b1fd209d99","modified":1607953979797},{"_id":"public/tags/index.html","hash":"5609be8daa368929d49f5d9c343cb58461999bfa","modified":1607953979797},{"_id":"public/archives/2020/01/index.html","hash":"138a8659f4c056ec00a4e88cf146b35d871635e2","modified":1607953979797},{"_id":"public/archives/2020/03/index.html","hash":"cbad0670dcd8047817cedfff8d5a9739e11c4fe7","modified":1607953979797},{"_id":"public/archives/2020/05/index.html","hash":"8fa1070059b521e71020505aa1844a4aab76e8dd","modified":1607953979797},{"_id":"public/archives/2020/07/index.html","hash":"cf2f518b7dcfcf89b01be73018a297a00674f092","modified":1607953979797},{"_id":"public/categories/Leetcode/index.html","hash":"11e9fad48f896a85de40a4f1bf32214553189db3","modified":1607953979797},{"_id":"public/categories/DesignPatterns/index.html","hash":"29db50705585f8f4cd1e3aaedd42353a31571999","modified":1607953979797},{"_id":"public/categories/JVM/index.html","hash":"de956afe5cf3c5d0cd43221e786ae30f7a32d566","modified":1607953979797},{"_id":"public/categories/DB/index.html","hash":"1ee63e542d4b82e2b286a599427d0eb7cd05ad35","modified":1607953979797},{"_id":"public/categories/Spring/index.html","hash":"8943051bca678990bdfc72104fd3c769e31a1746","modified":1607953979797},{"_id":"public/categories/Utils/index.html","hash":"1464161cad420cacbc3762013b78e88a5bf40c60","modified":1607953979797},{"_id":"public/tags/bitwise/index.html","hash":"907b9d5ffeaa1071614fd96599a7438d70812293","modified":1607953979797},{"_id":"public/tags/algorithm/index.html","hash":"b3d1ea886c4cfb65352d4e346919337c1bb65140","modified":1607953979797},{"_id":"public/tags/LeetCode/index.html","hash":"2756a383f2caa7199ee7886d5cfdfde27208c5bc","modified":1607953979797},{"_id":"public/tags/design-patterns/index.html","hash":"01cb6dc81e6a45b3b6bbf3d385e1335fa870db5f","modified":1607953979797},{"_id":"public/tags/hashmap-data-structure/index.html","hash":"7c6b5f32688af7308ecd26c067b217f406668d5d","modified":1607953979797},{"_id":"public/tags/datastructure/index.html","hash":"9488efb295a31085f281dbc8da929e86378292bc","modified":1607953979797},{"_id":"public/tags/http/index.html","hash":"a3442b9d32e428e01d392faf7327440a7cefea44","modified":1607953979797},{"_id":"public/tags/https/index.html","hash":"28888598b5b4e39e322fa25dc31c0d0bf6321ec4","modified":1607953979797},{"_id":"public/tags/jvm/index.html","hash":"7414788ab01d7e1a734b2e55022e60bbdbcd5551","modified":1607953979797},{"_id":"public/tags/lock/index.html","hash":"06a6645103a76c6b97804891409fc5e968f25939","modified":1607953979797},{"_id":"public/tags/mybatis/index.html","hash":"1f788cfaa30789364379db73b552099ffc078c91","modified":1607953979797},{"_id":"public/tags/redis/index.html","hash":"29add4ab81e55ca54536aac5f3a5c47e79b065ac","modified":1607953979797},{"_id":"public/tags/nosql/index.html","hash":"d3e0fa6e6bd1610dd41662c571bbaf6fb123ebee","modified":1607953979797},{"_id":"public/tags/aop/index.html","hash":"9e3d405d207df66d16b19c40fe67413b71d374fb","modified":1607953979797},{"_id":"public/tags/utils/index.html","hash":"ad99eb02e52374f18b69db79e2705f4b5df12d0f","modified":1607953979797},{"_id":"public/tags/activemq/index.html","hash":"b5efb442f7ab9ab985a2b6e85c1ef8f7f1e91f07","modified":1607953979797},{"_id":"public/about/index.html","hash":"5e0f589013191f5f6dedf83a11168466cf1f8570","modified":1607953979797},{"_id":"public/all-tags/index.html","hash":"78a375c4eba7259a2d004282b43dae7f3b51befb","modified":1607953979797},{"_id":"public/all-archives/index.html","hash":"da80f6d3d74a2bb8c76aa0e7e73e9be09f8d7558","modified":1607953979797},{"_id":"public/top/index.html","hash":"a71978b7b1dce15b1789e47419b1f63f3235c6f3","modified":1607953979797},{"_id":"public/all-categories/index.html","hash":"428a806e87a2432bf4b0d8a238f7c94e47d1038a","modified":1607953979797},{"_id":"public/2020/08/23/contest203/index.html","hash":"97ff847231b1d9c81ff542f9f949f04f38f57d5b","modified":1607953979797},{"_id":"public/2020/08/20/hashmap/index.html","hash":"ec0e173507ffdc4dd77b31ebcdba59a08bfac43f","modified":1607953979797},{"_id":"public/2020/08/16/contest202/index.html","hash":"4f4f55f6304c36abee73f854484b19b131d1e51f","modified":1607953979797},{"_id":"public/2020/08/09/contest201/index.html","hash":"4b683e87687b3b7bd542ceee9b94365bd88c4ee6","modified":1607953979797},{"_id":"public/2020/08/05/mybatis/index.html","hash":"8e1660a205e3ddf0652e6bd84bc38d6d9f34ba07","modified":1607953979797},{"_id":"public/2020/08/02/contest200/index.html","hash":"5c11a9496d3ea4179f8d52a6dac7d1c482a76c4e","modified":1607953979797},{"_id":"public/2020/07/20/lock/index.html","hash":"ebb89c273e6afb503d78c70cd61b0d9779a9e77c","modified":1607953979797},{"_id":"public/2020/07/20/volatile/index.html","hash":"dca1fc4c3e845fdf96b4c75b0cd638d2618e7f1b","modified":1607953979797},{"_id":"public/2020/07/20/mq/index.html","hash":"3405e12e18a6b8092393f220c920b2b1c46bc433","modified":1607953979797},{"_id":"public/2020/06/12/decorating/index.html","hash":"1ec6b2e2bb78e400144edb3468545f225a8f4160","modified":1607953979797},{"_id":"public/2020/06/12/observer/index.html","hash":"3d1f6f6b11679aeff9074c1e491c4b94000fec6b","modified":1607953979797},{"_id":"public/2020/06/09/redis/index.html","hash":"3182ae17154838b4863b160ee5b29d1131075645","modified":1607953979797},{"_id":"public/2020/06/06/heap/index.html","hash":"606460868c511e53e62e86d9b3ddf8c6871b5c23","modified":1607953979797},{"_id":"public/2020/06/01/bitwise/index.html","hash":"639e3c761525e9a6b8b16a3c274f42b52070bfa3","modified":1607953979797},{"_id":"public/2020/05/24/jvm/index.html","hash":"ceff74a8bf577a3700e831d355c99b85fafb2bc0","modified":1607953979797},{"_id":"public/2020/03/28/springAOP/index.html","hash":"4a0a76054049f279ee84ba9930429e2d221211f2","modified":1607953979797},{"_id":"public/2020/03/14/https/index.html","hash":"8e34d208d0176a50f29cb04c35453d07da80670e","modified":1607953979797},{"_id":"public/2020/01/12/uml/index.html","hash":"bc1c4eccead082617fa4d566f26eed2fccc3eb46","modified":1607953979797},{"_id":"public/2019/12/03/kafka/index.html","hash":"054e0ca3d6dec7647fd03986c02d061aa80336af","modified":1607953979797},{"_id":"public/2019/11/02/nginx/index.html","hash":"6ba8fda6c59e9f6987b9a2c8289f8c83955f4d62","modified":1607953979797},{"_id":"public/archives/index.html","hash":"35da8032fa92a80adc1882a80f0beac0ae03e69f","modified":1607953979797},{"_id":"public/archives/page/2/index.html","hash":"67386e88961790a0d200d7b09084cb8dfaf1fd2a","modified":1607953979797},{"_id":"public/archives/2019/index.html","hash":"49cdd42cdaacce6ccab17ec36d33a25df542df37","modified":1607953979797},{"_id":"public/archives/2019/11/index.html","hash":"4450e6fa7a2a89690e46dcb4e7ad5e83c37fde57","modified":1607953979797},{"_id":"public/archives/2019/12/index.html","hash":"5f08b07bf739121d07ebbf4e4ac09068b0c1e5b0","modified":1607953979797},{"_id":"public/archives/2020/index.html","hash":"2449f8529c63c33ad87b329768a05f2f77be24cd","modified":1607953979797},{"_id":"public/archives/2020/page/2/index.html","hash":"2e2d3e34efd8756090d9ce9087f0b3c442f10053","modified":1607953979797},{"_id":"public/archives/2020/06/index.html","hash":"6a18586e69c3904578b6e2515f47b86f544de7d2","modified":1607953979797},{"_id":"public/archives/2020/08/index.html","hash":"ac46fef4ea31bdde35a5e43051536cb9e450cdf8","modified":1607953979797},{"_id":"public/categories/Java/index.html","hash":"18195dbfa518e9de011ff7f351e7362617bfae72","modified":1607953979797},{"_id":"public/categories/Network/index.html","hash":"a5c523290946568cd81cfbe1176f00d654177b96","modified":1607953979797},{"_id":"public/categories/MiddleWare/index.html","hash":"4333329c1932fb0082a2472902500c5502ae52fc","modified":1607953979797},{"_id":"public/index.html","hash":"a71fd7237f7942b734c9d48b9e797f8bf7c59e54","modified":1607953979797},{"_id":"public/page/2/index.html","hash":"8ecba401af701c05b4a40dbaf80ff7542193f54e","modified":1607953979797},{"_id":"public/tags/kafka/index.html","hash":"88a0e0c306994114b7c9a2c81d5d837589e2730d","modified":1607953979797},{"_id":"public/tags/network/index.html","hash":"a1b7cf40fb72a35c6ec9f1026d7a16aac6de8a28","modified":1607953979797},{"_id":"public/assets/fonts/fa-regular-400.eot","hash":"3306178c90d9df939d2a5eabf533ba3650fbe80e","modified":1607953979797},{"_id":"public/assets/fonts/fa-regular-400.ttf","hash":"517a3b41c1e01b65898b5f1074434d43a361a54f","modified":1607953979797},{"_id":"public/assets/fonts/fa-regular-400.woff","hash":"da17a9f1dcae379c8ba20f1089059c202216cba7","modified":1607953979797},{"_id":"public/assets/fonts/fa-regular-400.woff2","hash":"5e4d45052f43e55aaad7f14d13280215e39aa45b","modified":1607953979797},{"_id":"public/assets/fonts/merriweather-bold-italic.ttf","hash":"c1b8593dc9ddbf1a1a6268d31e08c4041448ed76","modified":1607953979797},{"_id":"public/assets/fonts/merriweather-bold.ttf","hash":"e6d0ffb2d0348d9e22de97e57214b7db795e9513","modified":1607953979797},{"_id":"public/assets/fonts/merriweather-light-italic.ttf","hash":"c3835119c62e78a21cfb33e2de6686fb4a5929a0","modified":1607953979797},{"_id":"public/assets/fonts/merriweather-light.ttf","hash":"69bd3f15962cf91348a133d3d38571a5c67eca65","modified":1607953979797},{"_id":"public/assets/fonts/merriweather.ttf","hash":"d392237948e74246a2fb0d0d886498776a185e54","modified":1607953979797},{"_id":"public/assets/fonts/open-sans-bold.ttf","hash":"3823779db9f51a34658809ce66bdd6ed1145ed8e","modified":1607953979797},{"_id":"public/assets/fonts/open-sans.ttf","hash":"618b78a8f6ffe7e1998eab67268859e2ab54be8e","modified":1607953979797},{"_id":"public/assets/images/logo-algolia-nebula-blue-full.svg","hash":"d5e4426b6bd2d8b8c3f477f83d348d8f3b3ec1ca","modified":1607953979797},{"_id":"public/assets/fonts/fa-brands-400.woff","hash":"fddb95d7a0f48d2bf90a5ee3095e8264dca18053","modified":1607953979797},{"_id":"public/assets/fonts/fa-brands-400.woff2","hash":"62584b9868428fd75af3fc5ee2f9918dda428be5","modified":1607953979797},{"_id":"public/assets/fonts/fa-solid-900.woff","hash":"f13e252f8a51a5279fd21e26ada0bd2f55bcefd8","modified":1607953979797},{"_id":"public/assets/fonts/fa-solid-900.woff2","hash":"6290834672aba86d5b6c1c73b30b57c9c53996f7","modified":1607953979797},{"_id":"public/assets/fonts/fa-brands-400.ttf","hash":"29f59b4eecc72052d9110a5d4030a10ad9bf73d7","modified":1607953979797},{"_id":"public/assets/fonts/fa-regular-400.svg","hash":"51afca56e309df6fdc56b53fa6a7d3ce64826490","modified":1607953979797},{"_id":"public/assets/fonts/fa-brands-400.eot","hash":"40c8f2a0dc154160fde50e0c27f694f12c7b1636","modified":1607953979797},{"_id":"public/assets/css/thumbs.css","hash":"3673ba1f616738f588fe887863846a958343b970","modified":1607953979797},{"_id":"public/assets/js/thumbs.js","hash":"1dacca749bad458211a886d3bcbbeb4600aaceac","modified":1607953979797},{"_id":"public/assets/css/gitalk.css","hash":"fe5406a41cf222f39919630efd9012d08b7414aa","modified":1607953979797},{"_id":"public/assets/css/gitment.css","hash":"7fbb18b73b44ed11193739c55fce53a6f173cf68","modified":1607953979797},{"_id":"public/assets/css/jquery.fancybox.css","hash":"e43435fb9eaa918f5b8e35c9e110124b8bd13751","modified":1607953979797},{"_id":"public/assets/fonts/fa-solid-900.ttf","hash":"874c650701d0cbfb8f1de48a496dabed3bbf22e6","modified":1607953979797},{"_id":"public/assets/fonts/fa-solid-900.eot","hash":"96a5637429426764ea9b28bf4d1eb55ae10de57e","modified":1607953979797},{"_id":"public/assets/images/cover.jpg","hash":"df915f5b3eeed6bad93a183f65e5c6f536e551fe","modified":1607953979797},{"_id":"public/assets/js/tranquilpeak.js","hash":"ed9d93b9de4037c97c8699b7b9b985ec48c1b25d","modified":1607953979797},{"_id":"public/assets/css/all.css","hash":"9e798ebfbdf41ffcd68b02a5af2a9d997ddd6d12","modified":1607953979797},{"_id":"public/assets/images/cover-v1.2.0.jpg","hash":"a98b9bf4d6be3af0156c0b6e781f067e343a682d","modified":1607953979797},{"_id":"public/assets/css/tranquilpeak.css","hash":"a6c317a8f3222d738f6cad9273729f8a915eb918","modified":1607953979797},{"_id":"public/assets/js/gitment.js","hash":"376446d9c5930576016f97dd63e5e6616c94d8d4","modified":1607953979797},{"_id":"public/assets/js/jquery.fancybox.js","hash":"27f034e5db8c32e268e2959b9a7c1258d36e4510","modified":1607953979797},{"_id":"public/assets/js/script-jsoeqoqa2ajw9nwj0xf5gmftvb2jhopk3sxu8iodabvev2jdlmr0zsitv3jm.min.js","hash":"5f7046b160a695d9cac75b4eace17a2f70d7c365","modified":1607953979797},{"_id":"public/assets/css/style-xsmpikcbczzhpff1zqybzgesjqcgmkdkx9b5ntr0bkmk6wqucpktuaodiuvy.min.css","hash":"5373bff083c63d4e6f97f9fcf9c53cd76553770c","modified":1607953979797},{"_id":"public/assets/fonts/fa-brands-400.svg","hash":"99dff0739882276ad6c434d73228efc7971b0a66","modified":1607953979797},{"_id":"public/assets/js/algoliasearch.js","hash":"6948fcdf071e4983e784e8c458cf201536f77792","modified":1607953979797},{"_id":"public/assets/css/style.css","hash":"7c2eb380692c74e85bc36d9c9b4c248249283d47","modified":1607953979797},{"_id":"public/assets/fonts/fa-solid-900.svg","hash":"5501fb62e20a89bdd89bf3fa147ca4dbcd2fc67f","modified":1607953979797},{"_id":"public/assets/js/jquery.js","hash":"ad16c4a132ad2a03b4951185fed46d55397b5e88","modified":1607953979797},{"_id":"public/assets/js/gitalk.js","hash":"869bb1868a939f57810799bd42cbcea251c72a7c","modified":1607953979797},{"_id":"public/assets/js/script.js","hash":"a3510d7a8965b5e51b66aa76c210a1afd44c00f0","modified":1607953979797},{"_id":"public/assets/js/moment-with-locales.js","hash":"d39047f5013a835e3db43fa17b78bf625712825d","modified":1607953979797}],"Category":[{"name":"Java","_id":"ckioma8h40004k7ihgn67217r"},{"name":"Leetcode","_id":"ckioma8hh000ck7ihcuuzfzvs"},{"name":"DesignPatterns","_id":"ckioma8hw000wk7ihcniga5r3"},{"name":"Network","_id":"ckioma8i20014k7ih6f0a8eh4"},{"name":"JVM","_id":"ckioma8i5001ak7ihhccq6tg5"},{"name":"MiddleWare","_id":"ckioma8ia001kk7ih11cv21n7"},{"name":"DB","_id":"ckioma8if001qk7ihgdpxe2rw"},{"name":"Spring","_id":"ckioma8ih001vk7ihazbdf9zi"},{"name":"Utils","_id":"ckioma8ii001zk7ihadzy7f2p"}],"Data":[],"Page":[{"title":"about","date":"2019-11-02T16:17:30.000Z","type":"about","_content":"\n\n\n\n\n\n\n----\n\n\nI'm finding a good job.\n\n\n\n\n**Java**\n\n\n\n- Java\n- Docker Swarm\n- Kafka\n- \n- Leecode\n\n","source":"about/index.md","raw":"---\ntitle: about\ndate: 2019-11-03 00:17:30\ntype: about\n---\n\n\n\n\n\n\n\n----\n\n\nI'm finding a good job.\n\n\n\n\n**Java**\n\n\n\n- Java\n- Docker Swarm\n- Kafka\n- \n- Leecode\n\n","updated":"2020-11-08T07:20:16.385Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckioma8gu0000k7ihhrsk7tpc","content":"<p></p>\n<p></p>\n<p></p>\n<hr>\n<p>Im finding a good job.</p>\n<p></p>\n<p><strong>Java</strong></p>\n<p></p>\n<ul>\n<li>Java</li>\n<li>Docker Swarm</li>\n<li>Kafka</li>\n<li></li>\n<li>Leecode</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":"<p></p>\n<p></p>\n<p></p>\n<hr>\n<p>Im finding a good job.</p>\n<p></p>\n<p><strong>Java</strong></p>\n<p></p>\n<ul>\n<li>Java</li>\n<li>Docker Swarm</li>\n<li>Kafka</li>\n<li></li>\n<li>Leecode</li>\n</ul>\n"},{"title":"all-tags","layout":"all-tags","date":"2020-08-16T04:51:43.000Z","_content":"","source":"all-tags/index.md","raw":"---\ntitle: all-tags\nlayout: all-tags\ndate: 2020-08-16 12:51:43\n---\n","updated":"2020-11-08T07:20:16.385Z","path":"all-tags/index.html","comments":1,"_id":"ckioma8h10002k7ihhwty5xfp","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"categories","date":"2019-11-01T07:35:36.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-11-01 15:35:36\ntype: categories\n---\n","updated":"2020-11-08T07:20:16.385Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ckioma8h70006k7ih3jqyg9at","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"tags","date":"2019-11-01T07:08:49.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-11-01 15:08:49\ntype: tags\n---","updated":"2020-11-08T07:20:16.385Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ckioma8he0008k7ihcdxy10h9","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"all-archives","layout":"all-archives","date":"2020-08-16T04:51:57.000Z","_content":"","source":"all-archives/index.md","raw":"---\ntitle: all-archives\nlayout: all-archives\ndate: 2020-08-16 12:51:57\n---\n","updated":"2020-11-08T07:20:16.385Z","path":"all-archives/index.html","comments":1,"_id":"ckioma8hf000ak7iharbvccsq","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""},{"title":"top","date":"2019-11-01T13:50:25.000Z","_content":"<div id=\"post-rank\"></div>\n\n<script src=\"//cdn.jsdelivr.net/npm/leancloud-storage@3.10.0/dist/av-min.js\"></script>\n<script>\n  var APP_ID = ******;  //LeanCloudAppID\n  var APP_KEY = ******;  //LeanCloudAppKey\n  AV.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n  });\n\n  var query = new AV.Query('Counter');//\n  query.descending('time'); //\n  query.limit(10);  //10\n  query.find().then( response => {\n    var content = response.reduce( (accum, {attributes}) => {\n      accum += `<p><div class=\"prefix\"> ${attributes.time} </div><div><a href=\"${attributes.url}\">${attributes.title}</a></div></p>`\n      return accum;\n    },\"\")\n    document.querySelector(\"#post-rank\").innerHTML = content;\n  })\n  .catch( error => {\n    console.log(error);\n  });\n</script>\n\n<style type=\"text/css\">\n  #post-rank {\n    text-align: center;\n  }\n  #post-rank .prefix {\n    color: #ff4d4f;\n  }\n</style>","source":"top/index.md","raw":"---\ntitle: top\ndate: 2019-11-01 21:50:25\n---\n<div id=\"post-rank\"></div>\n\n<script src=\"//cdn.jsdelivr.net/npm/leancloud-storage@3.10.0/dist/av-min.js\"></script>\n<script>\n  var APP_ID = ******;  //LeanCloudAppID\n  var APP_KEY = ******;  //LeanCloudAppKey\n  AV.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n  });\n\n  var query = new AV.Query('Counter');//\n  query.descending('time'); //\n  query.limit(10);  //10\n  query.find().then( response => {\n    var content = response.reduce( (accum, {attributes}) => {\n      accum += `<p><div class=\"prefix\"> ${attributes.time} </div><div><a href=\"${attributes.url}\">${attributes.title}</a></div></p>`\n      return accum;\n    },\"\")\n    document.querySelector(\"#post-rank\").innerHTML = content;\n  })\n  .catch( error => {\n    console.log(error);\n  });\n</script>\n\n<style type=\"text/css\">\n  #post-rank {\n    text-align: center;\n  }\n  #post-rank .prefix {\n    color: #ff4d4f;\n  }\n</style>","updated":"2020-11-08T07:20:16.385Z","path":"top/index.html","comments":1,"layout":"page","_id":"ckioma8hi000fk7ihcovp5qy5","content":"<div id=\"post-rank\"></div>\n\n<script src=\"//cdn.jsdelivr.net/npm/leancloud-storage@3.10.0/dist/av-min.js\"></script>\n<script>\n  var APP_ID = ******;  //LeanCloudAppID\n  var APP_KEY = ******;  //LeanCloudAppKey\n  AV.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n  });\n\n  var query = new AV.Query('Counter');//\n  query.descending('time'); //\n  query.limit(10);  //10\n  query.find().then( response => {\n    var content = response.reduce( (accum, {attributes}) => {\n      accum += `<p><div class=\"prefix\"> ${attributes.time} </div><div><a href=\"${attributes.url}\">${attributes.title}</a></div></p>`\n      return accum;\n    },\"\")\n    document.querySelector(\"#post-rank\").innerHTML = content;\n  })\n  .catch( error => {\n    console.log(error);\n  });\n</script>\n\n<style type=\"text/css\">\n  #post-rank {\n    text-align: center;\n  }\n  #post-rank .prefix {\n    color: #ff4d4f;\n  }\n</style>","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":"<div id=\"post-rank\"></div>\n\n<script src=\"//cdn.jsdelivr.net/npm/leancloud-storage@3.10.0/dist/av-min.js\"></script>\n<script>\n  var APP_ID = ******;  //LeanCloudAppID\n  var APP_KEY = ******;  //LeanCloudAppKey\n  AV.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n  });\n\n  var query = new AV.Query('Counter');//\n  query.descending('time'); //\n  query.limit(10);  //10\n  query.find().then( response => {\n    var content = response.reduce( (accum, {attributes}) => {\n      accum += `<p><div class=\"prefix\"> ${attributes.time} </div><div><a href=\"${attributes.url}\">${attributes.title}</a></div></p>`\n      return accum;\n    },\"\")\n    document.querySelector(\"#post-rank\").innerHTML = content;\n  })\n  .catch( error => {\n    console.log(error);\n  });\n</script>\n\n<style type=\"text/css\">\n  #post-rank {\n    text-align: center;\n  }\n  #post-rank .prefix {\n    color: #ff4d4f;\n  }\n</style>"},{"title":"all-categories","layout":"all-categories","date":"2020-08-16T04:51:22.000Z","_content":"","source":"all-categories/index.md","raw":"---\ntitle: all-categories\nlayout: all-categories\ndate: 2020-08-16 12:51:22\n---\n","updated":"2020-11-08T07:20:16.385Z","path":"all-categories/index.html","comments":1,"_id":"ckioma8hk000hk7ih70cnfvnw","content":"","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":""}],"Post":[{"title":"bitwise","date":"2020-06-01T13:11:25.000Z","_content":"\nIntroduction of Java bitwise and operation.\n\n<!-- more -->\n\n# \n\n|  |          |               |\n| ------ | ------------ | ----------------- |\n| &      |            | 1 & 1 = 1 (only)  |\n| \\|     |            | 0 \\| 0 = 0 (only) |\n| ^      |          | 1 ^ 0 = 1         |\n| ~      |            | ~ 1 = 0           |\n| <<     |          | 0   |\n| >>     |  |     |\n| >>>    |  | 0   |\n\nbyte, short, int, long=|=<<=>>>=\n\n\n\n## \n\n```java\nint a = -1;\n// 11111111111111111111111111111111111(321)\nSystem.out.println(Integer.toBinaryString(a));\n// -1\nSystem.out.printlnl(a>>1);\n// 1111111111111111111111111111111111(321)\nSystem.out.println(Integer.toBinaryString(a>>1));\n// 2147483647\nSystem.out.println(a>>>1);\n// 0111111111111111111111111111111111(311)\nSystem.out.prinlnt(Integer.toBinaryString(a>>>1));\n```\n\n### \n\n#### a>>1\n\n10000000000000000000000000000001\n\n1111111111111111111111111111111111110\n\n1111111111111111111111111111111111111\n\n111111111111111111111111111111111111111\n\n10000000000000000000000000000000\n\n10000000000000000000000000000001  -1.\n\n#### a>>>1\n\n\n\n0111111111111111111111111111111111110\n\n\n\n# \n\n## HashMap\n\n```java\nstatic final int hash(Object key) {\n        int h;\n        return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n    }\n```\n\njdk1.8hashmaphash`^`, `|`, `<<`, `<<<`\n\n## \n\n```java\n2 & 1; // 0\n8 & 1; // 0\n7 & 1; // 1\n```\n\n10001\n\n81000\n\n70111\n\n1,0.\n\n## \n\n```markdown\n2 ^ 2 ^ 1 = 1\n4 ^ 2 ^ 1 ^ 1 ^ 2 = 4\n```\n\n****`^``0`****\n\n## etc\n\n\n\n","source":"_posts/bitwise.md","raw":"---\ntitle: bitwise\ndate: 2020-06-01 21:11:25\ncategories: Java\ntags: bitwise\n---\n\nIntroduction of Java bitwise and operation.\n\n<!-- more -->\n\n# \n\n|  |          |               |\n| ------ | ------------ | ----------------- |\n| &      |            | 1 & 1 = 1 (only)  |\n| \\|     |            | 0 \\| 0 = 0 (only) |\n| ^      |          | 1 ^ 0 = 1         |\n| ~      |            | ~ 1 = 0           |\n| <<     |          | 0   |\n| >>     |  |     |\n| >>>    |  | 0   |\n\nbyte, short, int, long=|=<<=>>>=\n\n\n\n## \n\n```java\nint a = -1;\n// 11111111111111111111111111111111111(321)\nSystem.out.println(Integer.toBinaryString(a));\n// -1\nSystem.out.printlnl(a>>1);\n// 1111111111111111111111111111111111(321)\nSystem.out.println(Integer.toBinaryString(a>>1));\n// 2147483647\nSystem.out.println(a>>>1);\n// 0111111111111111111111111111111111(311)\nSystem.out.prinlnt(Integer.toBinaryString(a>>>1));\n```\n\n### \n\n#### a>>1\n\n10000000000000000000000000000001\n\n1111111111111111111111111111111111110\n\n1111111111111111111111111111111111111\n\n111111111111111111111111111111111111111\n\n10000000000000000000000000000000\n\n10000000000000000000000000000001  -1.\n\n#### a>>>1\n\n\n\n0111111111111111111111111111111111110\n\n\n\n# \n\n## HashMap\n\n```java\nstatic final int hash(Object key) {\n        int h;\n        return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n    }\n```\n\njdk1.8hashmaphash`^`, `|`, `<<`, `<<<`\n\n## \n\n```java\n2 & 1; // 0\n8 & 1; // 0\n7 & 1; // 1\n```\n\n10001\n\n81000\n\n70111\n\n1,0.\n\n## \n\n```markdown\n2 ^ 2 ^ 1 = 1\n4 ^ 2 ^ 1 ^ 1 ^ 2 = 4\n```\n\n****`^``0`****\n\n## etc\n\n\n\n","slug":"bitwise","published":1,"updated":"2020-11-08T07:20:16.381Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8gy0001k7ih59es6tvc","content":"<p>Introduction of Java bitwise and operation.</p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&amp;</td>\n<td></td>\n<td>1 &amp; 1 = 1 (only)</td>\n</tr>\n<tr>\n<td>|</td>\n<td></td>\n<td>0 | 0 = 0 (only)</td>\n</tr>\n<tr>\n<td>^</td>\n<td></td>\n<td>1 ^ 0 = 1</td>\n</tr>\n<tr>\n<td>~</td>\n<td></td>\n<td>~ 1 = 0</td>\n</tr>\n<tr>\n<td>&lt;&lt;</td>\n<td></td>\n<td>0</td>\n</tr>\n<tr>\n<td>&gt;&gt;</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>&gt;&gt;&gt;</td>\n<td></td>\n<td>0</td>\n</tr>\n</tbody></table>\n<p>byte, short, int, long=|=&lt;&lt;=&gt;&gt;&gt;=</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">// 11111111111111111111111111111111111(321)</span></span><br><span class=\"line\">System.out.println(Integer.toBinaryString(a));</span><br><span class=\"line\"><span class=\"comment\">// -1</span></span><br><span class=\"line\">System.out.printlnl(a&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1111111111111111111111111111111111(321)</span></span><br><span class=\"line\">System.out.println(Integer.toBinaryString(a&gt;&gt;<span class=\"number\">1</span>));</span><br><span class=\"line\"><span class=\"comment\">// 2147483647</span></span><br><span class=\"line\">System.out.println(a&gt;&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 0111111111111111111111111111111111(311)</span></span><br><span class=\"line\">System.out.prinlnt(Integer.toBinaryString(a&gt;&gt;&gt;<span class=\"number\">1</span>));</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"a-gt-gt-1\"><a href=\"#a-gt-gt-1\" class=\"headerlink\" title=\"a&gt;&gt;1\"></a>a&gt;&gt;1</h4><p>10000000000000000000000000000001</p>\n<p>1111111111111111111111111111111111110</p>\n<p>1111111111111111111111111111111111111</p>\n<p>111111111111111111111111111111111111111</p>\n<p>10000000000000000000000000000000</p>\n<p>10000000000000000000000000000001  -1.</p>\n<h4 id=\"a-gt-gt-gt-1\"><a href=\"#a-gt-gt-gt-1\" class=\"headerlink\" title=\"a&gt;&gt;&gt;1\"></a>a&gt;&gt;&gt;1</h4><p></p>\n<p>0111111111111111111111111111111111110</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"HashMap\"><a href=\"#HashMap\" class=\"headerlink\" title=\"HashMap\"></a>HashMap</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">hash</span><span class=\"params\">(Object key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> h;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (key == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>jdk1.8hashmaphash<code>^</code>, <code>|</code>, <code>&lt;&lt;</code>, <code>&lt;&lt;&lt;</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"number\">8</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"number\">7</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>10001</p>\n<p>81000</p>\n<p>70111</p>\n<p>1,0.</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2 ^ 2 ^ 1 = 1</span><br><span class=\"line\">4 ^ 2 ^ 1 ^ 1 ^ 2 = 4</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><code>^</code><code>0</code><strong></strong></p>\n<h2 id=\"etc\"><a href=\"#etc\" class=\"headerlink\" title=\"etc\"></a>etc</h2><p></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Introduction of Java bitwise and operation.</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&amp;</td>\n<td></td>\n<td>1 &amp; 1 = 1 (only)</td>\n</tr>\n<tr>\n<td>|</td>\n<td></td>\n<td>0 | 0 = 0 (only)</td>\n</tr>\n<tr>\n<td>^</td>\n<td></td>\n<td>1 ^ 0 = 1</td>\n</tr>\n<tr>\n<td>~</td>\n<td></td>\n<td>~ 1 = 0</td>\n</tr>\n<tr>\n<td>&lt;&lt;</td>\n<td></td>\n<td>0</td>\n</tr>\n<tr>\n<td>&gt;&gt;</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>&gt;&gt;&gt;</td>\n<td></td>\n<td>0</td>\n</tr>\n</tbody></table>\n<p>byte, short, int, long=|=&lt;&lt;=&gt;&gt;&gt;=</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = -<span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"comment\">// 11111111111111111111111111111111111(321)</span></span><br><span class=\"line\">System.out.println(Integer.toBinaryString(a));</span><br><span class=\"line\"><span class=\"comment\">// -1</span></span><br><span class=\"line\">System.out.printlnl(a&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 1111111111111111111111111111111111(321)</span></span><br><span class=\"line\">System.out.println(Integer.toBinaryString(a&gt;&gt;<span class=\"number\">1</span>));</span><br><span class=\"line\"><span class=\"comment\">// 2147483647</span></span><br><span class=\"line\">System.out.println(a&gt;&gt;&gt;<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"comment\">// 0111111111111111111111111111111111(311)</span></span><br><span class=\"line\">System.out.prinlnt(Integer.toBinaryString(a&gt;&gt;&gt;<span class=\"number\">1</span>));</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"a-gt-gt-1\"><a href=\"#a-gt-gt-1\" class=\"headerlink\" title=\"a&gt;&gt;1\"></a>a&gt;&gt;1</h4><p>10000000000000000000000000000001</p>\n<p>1111111111111111111111111111111111110</p>\n<p>1111111111111111111111111111111111111</p>\n<p>111111111111111111111111111111111111111</p>\n<p>10000000000000000000000000000000</p>\n<p>10000000000000000000000000000001  -1.</p>\n<h4 id=\"a-gt-gt-gt-1\"><a href=\"#a-gt-gt-gt-1\" class=\"headerlink\" title=\"a&gt;&gt;&gt;1\"></a>a&gt;&gt;&gt;1</h4><p></p>\n<p>0111111111111111111111111111111111110</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"HashMap\"><a href=\"#HashMap\" class=\"headerlink\" title=\"HashMap\"></a>HashMap</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">hash</span><span class=\"params\">(Object key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> h;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (key == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<p>jdk1.8hashmaphash<code>^</code>, <code>|</code>, <code>&lt;&lt;</code>, <code>&lt;&lt;&lt;</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"number\">8</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"number\">7</span> &amp; <span class=\"number\">1</span>; <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<p>10001</p>\n<p>81000</p>\n<p>70111</p>\n<p>1,0.</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2 ^ 2 ^ 1 = 1</span><br><span class=\"line\">4 ^ 2 ^ 1 ^ 1 ^ 2 = 4</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong><code>^</code><code>0</code><strong></strong></p>\n<h2 id=\"etc\"><a href=\"#etc\" class=\"headerlink\" title=\"etc\"></a>etc</h2><p></p>"},{"title":"contest200","date":"2020-08-02T04:56:29.000Z","_content":"\nRecord Leetcode contest 200.\n\n<!--more-->\n\n# Q1\n\npassed.\n\n# Q2\n\nFind the winner of an Array Game.\n\nGiven an integer array `arr` of **distinct** integers and an integer `k`.\n\nA game will be played between the first two elements of the array (i.e. `arr[0]` and `arr[1]`). In each round of the game, we compare `arr[0]` with `arr[1]`, the larger integer wins and remains at position `0` and the smaller integer moves to the end of the array. The game ends when an integer wins `k` consecutive rounds.\n\nReturn *the integer which will win the game*.\n\nIt is **guaranteed** that there will be a winner of the game.\n\n**Example 1:**\n\n```markdown\nInput: arr = [2,1,3,5,4,6,7], k = 2\nOutput: 5\nExplanation: Let's see the rounds of the game:\nRound |       arr       | winner | win_count\n  1   | [2,1,3,5,4,6,7] | 2      | 1\n  2   | [2,3,5,4,6,7,1] | 3      | 1\n  3   | [3,5,4,6,7,1,2] | 5      | 1\n  4   | [5,4,6,7,1,2,3] | 5      | 2\nSo we can see that 4 rounds will be played and 5 is the winner because it wins 2 consecutive games.\n```\n\n**Example 2:**\n\n```markdown\nInput: arr = [3,2,1], k = 10\nOutput: 3\nExplanation: 3 will win the first 10 rounds consecutively.\n```\n\n**Example 3:**\n\n```markdown\nInput: arr = [1,9,8,2,3,7,6,4,5], k = 7\nOutput: 9\n```\n\n**Example 4:**\n\n```markdown\nInput: arr = [1,11,22,33,44,55,66,77,88,99], k = 1000000000\nOutput: 99\n```\n\n## My Solution\n\n____**k**:joy:\n\n\n\n```java\npublic int getWinner(int[] arr, int k) {\n    int res = -1;\n    int zero = k-1;\n    int solution = 0;\n    while(k>0){\n        int currMax = Math.max(arr[0],arr[1]);\n        int currMin = Math.min(arr[0], arr[1]);\n        helper(currMax, currMin, arr);\n        if(res == -1){\n            // initial, no compare\n            res = currMax;\n        }else{\n            if(currMax == res){\n                k--;\n                solution = currMax;\n            }else{\n                k = zero;\n                res = currMax;\n            }\n        }\n    }\n    return solution;\n}\n\nprivate void helper(int max, int min, int[] arr){\n    arr[0] = max;\n    for (int i = 1; i < arr.length - 1; i++) {\n        arr[i] = arr[i + 1];\n    }\n    arr[arr.length-1] = min;\n}\n```\n\n`Time Limited`\n\n## Niubility Solution\n\n```java\npublic int getWinner(int[] arr, int k) {\n    // \n    int n = arr.length;\n    // k\n    k = Math.min(k, n);\n    int A = arr[0];\n    // \n    int rep = 0;\n    // iterate\n    for(int i = 1;;i++){\n        // i%n forin\n        int B = arr[i%n];\n        if(A >= B){\n            rep++;\n        }else{\n            A = B;\n            rep = 1;\n        }\n        // repk\n        if(rep == k){\n            return A;\n        }\n    }\n}\n```\n\n**** \n\n1. 460\n2. `Math.min(k, n)`k`10000000`,`8`,`8` \n\ni\n\ni.e. arr = [2,1,3,5,4,6,7], k = 2","source":"_posts/contest200.md","raw":"---\ntitle: contest200\ndate: 2020-08-02 12:56:29\ncategories: Leetcode\ntags: algorithm\n---\n\nRecord Leetcode contest 200.\n\n<!--more-->\n\n# Q1\n\npassed.\n\n# Q2\n\nFind the winner of an Array Game.\n\nGiven an integer array `arr` of **distinct** integers and an integer `k`.\n\nA game will be played between the first two elements of the array (i.e. `arr[0]` and `arr[1]`). In each round of the game, we compare `arr[0]` with `arr[1]`, the larger integer wins and remains at position `0` and the smaller integer moves to the end of the array. The game ends when an integer wins `k` consecutive rounds.\n\nReturn *the integer which will win the game*.\n\nIt is **guaranteed** that there will be a winner of the game.\n\n**Example 1:**\n\n```markdown\nInput: arr = [2,1,3,5,4,6,7], k = 2\nOutput: 5\nExplanation: Let's see the rounds of the game:\nRound |       arr       | winner | win_count\n  1   | [2,1,3,5,4,6,7] | 2      | 1\n  2   | [2,3,5,4,6,7,1] | 3      | 1\n  3   | [3,5,4,6,7,1,2] | 5      | 1\n  4   | [5,4,6,7,1,2,3] | 5      | 2\nSo we can see that 4 rounds will be played and 5 is the winner because it wins 2 consecutive games.\n```\n\n**Example 2:**\n\n```markdown\nInput: arr = [3,2,1], k = 10\nOutput: 3\nExplanation: 3 will win the first 10 rounds consecutively.\n```\n\n**Example 3:**\n\n```markdown\nInput: arr = [1,9,8,2,3,7,6,4,5], k = 7\nOutput: 9\n```\n\n**Example 4:**\n\n```markdown\nInput: arr = [1,11,22,33,44,55,66,77,88,99], k = 1000000000\nOutput: 99\n```\n\n## My Solution\n\n____**k**:joy:\n\n\n\n```java\npublic int getWinner(int[] arr, int k) {\n    int res = -1;\n    int zero = k-1;\n    int solution = 0;\n    while(k>0){\n        int currMax = Math.max(arr[0],arr[1]);\n        int currMin = Math.min(arr[0], arr[1]);\n        helper(currMax, currMin, arr);\n        if(res == -1){\n            // initial, no compare\n            res = currMax;\n        }else{\n            if(currMax == res){\n                k--;\n                solution = currMax;\n            }else{\n                k = zero;\n                res = currMax;\n            }\n        }\n    }\n    return solution;\n}\n\nprivate void helper(int max, int min, int[] arr){\n    arr[0] = max;\n    for (int i = 1; i < arr.length - 1; i++) {\n        arr[i] = arr[i + 1];\n    }\n    arr[arr.length-1] = min;\n}\n```\n\n`Time Limited`\n\n## Niubility Solution\n\n```java\npublic int getWinner(int[] arr, int k) {\n    // \n    int n = arr.length;\n    // k\n    k = Math.min(k, n);\n    int A = arr[0];\n    // \n    int rep = 0;\n    // iterate\n    for(int i = 1;;i++){\n        // i%n forin\n        int B = arr[i%n];\n        if(A >= B){\n            rep++;\n        }else{\n            A = B;\n            rep = 1;\n        }\n        // repk\n        if(rep == k){\n            return A;\n        }\n    }\n}\n```\n\n**** \n\n1. 460\n2. `Math.min(k, n)`k`10000000`,`8`,`8` \n\ni\n\ni.e. arr = [2,1,3,5,4,6,7], k = 2","slug":"contest200","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8h20003k7ih5dv6gau3","content":"<p>Record Leetcode contest 200.</p>\n<a id=\"more\"></a>\n\n<h1 id=\"Q1\"><a href=\"#Q1\" class=\"headerlink\" title=\"Q1\"></a>Q1</h1><p>passed.</p>\n<h1 id=\"Q2\"><a href=\"#Q2\" class=\"headerlink\" title=\"Q2\"></a>Q2</h1><p>Find the winner of an Array Game.</p>\n<p>Given an integer array <code>arr</code> of <strong>distinct</strong> integers and an integer <code>k</code>.</p>\n<p>A game will be played between the first two elements of the array (i.e. <code>arr[0]</code> and <code>arr[1]</code>). In each round of the game, we compare <code>arr[0]</code> with <code>arr[1]</code>, the larger integer wins and remains at position <code>0</code> and the smaller integer moves to the end of the array. The game ends when an integer wins <code>k</code> consecutive rounds.</p>\n<p>Return <em>the integer which will win the game</em>.</p>\n<p>It is <strong>guaranteed</strong> that there will be a winner of the game.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [2,1,3,5,4,6,7], k = 2</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: Let&#x27;s see the rounds of the game:</span><br><span class=\"line\">Round |       arr       | winner | win<span class=\"emphasis\">_count</span></span><br><span class=\"line\"><span class=\"emphasis\">  1   | [2,1,3,5,4,6,7] | 2      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  2   | [2,3,5,4,6,7,1] | 3      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  3   | [3,5,4,6,7,1,2] | 5      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  4   | [5,4,6,7,1,2,3] | 5      | 2</span></span><br><span class=\"line\"><span class=\"emphasis\">So we can see that 4 rounds will be played and 5 is the winner because it wins 2 consecutive games.</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [3,2,1], k = 10</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 will win the first 10 rounds consecutively.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [1,9,8,2,3,7,6,4,5], k = 7</span><br><span class=\"line\">Output: 9</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 4:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [1,11,22,33,44,55,66,77,88,99], k = 1000000000</span><br><span class=\"line\">Output: 99</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"My-Solution\"><a href=\"#My-Solution\" class=\"headerlink\" title=\"My Solution\"></a>My Solution</h2><p>____<strong>k</strong>:joy:</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getWinner</span><span class=\"params\">(<span class=\"keyword\">int</span>[] arr, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> res = -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> zero = k-<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> solution = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(k&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> currMax = Math.max(arr[<span class=\"number\">0</span>],arr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> currMin = Math.min(arr[<span class=\"number\">0</span>], arr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        helper(currMax, currMin, arr);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(res == -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// initial, no compare</span></span><br><span class=\"line\">            res = currMax;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currMax == res)&#123;</span><br><span class=\"line\">                k--;</span><br><span class=\"line\">                solution = currMax;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                k = zero;</span><br><span class=\"line\">                res = currMax;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">helper</span><span class=\"params\">(<span class=\"keyword\">int</span> max, <span class=\"keyword\">int</span> min, <span class=\"keyword\">int</span>[] arr)</span></span>&#123;</span><br><span class=\"line\">    arr[<span class=\"number\">0</span>] = max;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; arr.length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">        arr[i] = arr[i + <span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    arr[arr.length-<span class=\"number\">1</span>] = min;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>Time Limited</code></p>\n<h2 id=\"Niubility-Solution\"><a href=\"#Niubility-Solution\" class=\"headerlink\" title=\"Niubility Solution\"></a>Niubility Solution</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getWinner</span><span class=\"params\">(<span class=\"keyword\">int</span>[] arr, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> n = arr.length;</span><br><span class=\"line\">    <span class=\"comment\">// k</span></span><br><span class=\"line\">    k = Math.min(k, n);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> A = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> rep = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// iterate</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>;;i++)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// i%n forin</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> B = arr[i%n];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(A &gt;= B)&#123;</span><br><span class=\"line\">            rep++;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            A = B;</span><br><span class=\"line\">            rep = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// repk</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rep == k)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> A;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong> </p>\n<ol>\n<li>460</li>\n<li><code>Math.min(k, n)</code>k<code>10000000</code>,<code>8</code>,<code>8</code> </li>\n</ol>\n<p>i</p>\n<p>i.e. arr = [2,1,3,5,4,6,7], k = 2</p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Record Leetcode contest 200.</p>","more":"<h1 id=\"Q1\"><a href=\"#Q1\" class=\"headerlink\" title=\"Q1\"></a>Q1</h1><p>passed.</p>\n<h1 id=\"Q2\"><a href=\"#Q2\" class=\"headerlink\" title=\"Q2\"></a>Q2</h1><p>Find the winner of an Array Game.</p>\n<p>Given an integer array <code>arr</code> of <strong>distinct</strong> integers and an integer <code>k</code>.</p>\n<p>A game will be played between the first two elements of the array (i.e. <code>arr[0]</code> and <code>arr[1]</code>). In each round of the game, we compare <code>arr[0]</code> with <code>arr[1]</code>, the larger integer wins and remains at position <code>0</code> and the smaller integer moves to the end of the array. The game ends when an integer wins <code>k</code> consecutive rounds.</p>\n<p>Return <em>the integer which will win the game</em>.</p>\n<p>It is <strong>guaranteed</strong> that there will be a winner of the game.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [2,1,3,5,4,6,7], k = 2</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: Let&#x27;s see the rounds of the game:</span><br><span class=\"line\">Round |       arr       | winner | win<span class=\"emphasis\">_count</span></span><br><span class=\"line\"><span class=\"emphasis\">  1   | [2,1,3,5,4,6,7] | 2      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  2   | [2,3,5,4,6,7,1] | 3      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  3   | [3,5,4,6,7,1,2] | 5      | 1</span></span><br><span class=\"line\"><span class=\"emphasis\">  4   | [5,4,6,7,1,2,3] | 5      | 2</span></span><br><span class=\"line\"><span class=\"emphasis\">So we can see that 4 rounds will be played and 5 is the winner because it wins 2 consecutive games.</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [3,2,1], k = 10</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: 3 will win the first 10 rounds consecutively.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [1,9,8,2,3,7,6,4,5], k = 7</span><br><span class=\"line\">Output: 9</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 4:</strong></p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr = [1,11,22,33,44,55,66,77,88,99], k = 1000000000</span><br><span class=\"line\">Output: 99</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"My-Solution\"><a href=\"#My-Solution\" class=\"headerlink\" title=\"My Solution\"></a>My Solution</h2><p>____<strong>k</strong>:joy:</p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getWinner</span><span class=\"params\">(<span class=\"keyword\">int</span>[] arr, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> res = -<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> zero = k-<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> solution = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(k&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> currMax = Math.max(arr[<span class=\"number\">0</span>],arr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        <span class=\"keyword\">int</span> currMin = Math.min(arr[<span class=\"number\">0</span>], arr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        helper(currMax, currMin, arr);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(res == -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// initial, no compare</span></span><br><span class=\"line\">            res = currMax;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(currMax == res)&#123;</span><br><span class=\"line\">                k--;</span><br><span class=\"line\">                solution = currMax;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                k = zero;</span><br><span class=\"line\">                res = currMax;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> solution;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">helper</span><span class=\"params\">(<span class=\"keyword\">int</span> max, <span class=\"keyword\">int</span> min, <span class=\"keyword\">int</span>[] arr)</span></span>&#123;</span><br><span class=\"line\">    arr[<span class=\"number\">0</span>] = max;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt; arr.length - <span class=\"number\">1</span>; i++) &#123;</span><br><span class=\"line\">        arr[i] = arr[i + <span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    arr[arr.length-<span class=\"number\">1</span>] = min;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>Time Limited</code></p>\n<h2 id=\"Niubility-Solution\"><a href=\"#Niubility-Solution\" class=\"headerlink\" title=\"Niubility Solution\"></a>Niubility Solution</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getWinner</span><span class=\"params\">(<span class=\"keyword\">int</span>[] arr, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> n = arr.length;</span><br><span class=\"line\">    <span class=\"comment\">// k</span></span><br><span class=\"line\">    k = Math.min(k, n);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> A = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> rep = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// iterate</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>;;i++)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// i%n forin</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> B = arr[i%n];</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(A &gt;= B)&#123;</span><br><span class=\"line\">            rep++;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            A = B;</span><br><span class=\"line\">            rep = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// repk</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(rep == k)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> A;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong> </p>\n<ol>\n<li>460</li>\n<li><code>Math.min(k, n)</code>k<code>10000000</code>,<code>8</code>,<code>8</code> </li>\n</ol>\n<p>i</p>\n<p>i.e. arr = [2,1,3,5,4,6,7], k = 2</p>"},{"title":"contest201","date":"2020-08-09T04:22:53.000Z","_content":"\nLeetcode201.\n\n<!--more-->\n\n# 1544 Make The String Great\n\nGiven a string `s` of lower and upper case English letters.\n\nA good string is a string which doesn't have **two adjacent characters** `s[i]` and `s[i + 1]` where:\n\n- `0 <= i <= s.length - 2`\n- `s[i]` is a lower-case letter and `s[i + 1]` is the same letter but in upper-case or **vice-versa**.\n\nTo make the string good, you can choose **two adjacent** characters that make the string bad and remove them. You can keep doing this until the string becomes good.\n\nReturn *the string* after making it good. The answer is guaranteed to be unique under the given constraints.\n\n**Notice** that an empty string is also good.\n\n**Example 1:**\n\n```\nInput: s = \"leEeetcode\"\nOutput: \"leetcode\"\nExplanation: In the first step, either you choose i = 1 or i = 2, both will result \"leEeetcode\" to be reduced to \"leetcode\".\n```\n\n**Example 2:**\n\n```\nInput: s = \"abBAcC\"\nOutput: \"\"\nExplanation: We have many possible scenarios, and all lead to the same answer. For example:\n\"abBAcC\" --> \"aAcC\" --> \"cC\" --> \"\"\n\"abBAcC\" --> \"abBA\" --> \"aA\" --> \"\"\n```\n\n**Example 3:**\n\n```\nInput: s = \"s\"\nOutput: \"s\"\n```\n\n## Solution\n\n- `vice-versa`****\n- `example 2`**\n\n### mine\n\n```java\npublic String makeGood(String s) {\n    Stack<Character> stack = new Stack<>();\n    for (int i = 0; i < s.length(); i++) {\n        char c = s.charAt(i);\n        if (!stack.empty() && (\n                (Character.isUpperCase(c) && Character.isLowerCase(stack.peek()) && ((stack.peek() - 'a') == (c - 'A')))\n                        ||\n                        (Character.isLowerCase(c) && Character.isUpperCase(stack.peek()) && ((stack.peek() - 'A') == (c - 'a')))\n        )) {\n            stack.pop();\n        } else {\n            stack.push(c);\n        }\n    }\n    Iterator<Character> iterator = stack.iterator();\n    StringBuilder sb = new StringBuilder();\n    while (iterator.hasNext()) {\n        sb.append(iterator.next());\n    }\n\t// iteratorreverse()\n    return sb.toString();\n}\n```\n### better\n\n```java\nboolean ch = true;\nwhile (ch) {\n    ch = false;\n    String t = s;\n    for (int i = 0; i < s.length() - 1; ++i) {\n        if (s.charAt(i) + 32 == s.charAt(i + 1) || s.charAt(i + 1) + 32 == s.charAt(i)) {\n            t = s.substring(0, i) + s.substring(i + 2);\n            ch = true;\n            break;\n        }\n    }\n    s = t;\n}\nreturn s;\n```\n\n# 1545 Find Kth Bit in Nth Binary String\n\nGiven two positive integers `n` and `k`, the binary string `Sn` is formed as follows:\n\n- `S1 = \"0\"`\n- `Si = Si-1 + \"1\" + reverse(invert(Si-1))` for `i > 1`\n\nWhere `+` denotes the concatenation operation, `reverse(x)` returns the reversed string x, and `invert(x)` inverts all the bits in x (0 changes to 1 and 1 changes to 0).\n\nFor example, the first 4 strings in the above sequence are:\n\n- S1 = \"0\"\n- S2 = \"0**1**1\"\n- S3 = \"011**1**001\"\n- S4 = \"0111001**1**0110001\"\n\nReturn *the* `kth` *bit* *in* `Sn`. It is guaranteed that `k` is valid for the given `n`.\n\n \n\n**Example 1:**\n\n```\nInput: n = 3, k = 1\nOutput: \"0\"\nExplanation: S3 is \"0111001\". The first bit is \"0\".\n```\n\n**Example 2:**\n\n```\nInput: n = 4, k = 11\nOutput: \"1\"\nExplanation: S4 is \"011100110110001\". The 11th bit is \"1\".\n```\n\n**Example 3:**\n\n```\nInput: n = 1, k = 1\nOutput: \"0\"\n```\n\n**Example 4:**\n\n```\nInput: n = 2, k = 3\nOutput: \"1\"\n```\n\n## Solution\n\n\n\n```java\npublic char findKthBit(int n, int k) {\n    StringBuilder sb = new StringBuilder(\"0\");\n    while (n > 1) {\n        int integer = Integer.parseInt(sb.toString());\n        StringBuilder stringBuilder = new StringBuilder(Integer.toBinaryString(integer));\n        // 0-1 inverse\n        for (int i = 0; i < stringBuilder.length(); i++) {\n            if (stringBuilder.charAt(i) == '0') {\n                stringBuilder.replace(i, i + 1, \"1\");\n            } else {\n                stringBuilder.replace(i, i + 1, \"0\");\n            }\n        }\n        stringBuilder.reverse();\n        sb.append(\"1\").append(stringBuilder);\n        n--;\n        System.out.println(sb.toString());\n    }\n\n    char[] chars = sb.toString().toCharArray();\n    return chars[k - 1];\n}\n```\n\nn=4\n\n### better\n\n`0-1```\n\n-  ^ 00`1``0-1`\n\n#### method 1\n\n\n\n```java\npublic char findKthBit(int n, int k) {\n    String s = \"0\";\n    while (n>1) {\n        --n;\n        s = s+\"1\"+sinv(s);\n    }\n    // 0k-1\n    return s.charAt(k-1);\n}\n\npublic String sinv(String s) {\n    StringBuilder a = new StringBuilder();\n    // reverse()\n    for (int i = s.length()-1; i>=0; --i) {\n        char c = s.charAt(i);\n        // 0-1\n        c^=1;\n        a.append(c);\n    }\n    return a.toString();\n}\n```\n\n#### method 2\n\n\n\n```java\npublic char findKthBit(int n, int k){\n    char findKthBit(int n, int k) \n    s[1]=\"0\";\n    t[1]=\"1\";\n    for(int i=2;i<=n;i++){\n        s[i]=s[i-1];\n        s[i]+='1';\n        s[i]+=t[i-1];\n        t[i]=s[i-1];\n        t[i]+='0';\n        t[i]+=t[i-1];\n    }\n    return s[n][k-1];\n}\n```\n\n#### method 3\n\n\n\n```java\nchar dfs(int n, int k) {\n    if (n == 1) {\n        return '0';\n    } else {\n        int len = (1 << n) - 1;\n        int base = (1 << (n - 1)) - 1;\n        if (k == base + 1) {\n            return '1';\n        } else if (k <= base) {\n            return dfs(n - 1, k);\n        } else {\n            return dfs(n - 1, len - k + 1) ^ 1;\n        }\n    }\n}\n\nchar findKthBit(int n, int k) {\n    return dfs(n, k);\n}\n```\n\n","source":"_posts/contest201.md","raw":"---\ntitle: contest201\ndate: 2020-08-09 12:22:53\ncategories: Leetcode\ntags: algorithm\n---\n\nLeetcode201.\n\n<!--more-->\n\n# 1544 Make The String Great\n\nGiven a string `s` of lower and upper case English letters.\n\nA good string is a string which doesn't have **two adjacent characters** `s[i]` and `s[i + 1]` where:\n\n- `0 <= i <= s.length - 2`\n- `s[i]` is a lower-case letter and `s[i + 1]` is the same letter but in upper-case or **vice-versa**.\n\nTo make the string good, you can choose **two adjacent** characters that make the string bad and remove them. You can keep doing this until the string becomes good.\n\nReturn *the string* after making it good. The answer is guaranteed to be unique under the given constraints.\n\n**Notice** that an empty string is also good.\n\n**Example 1:**\n\n```\nInput: s = \"leEeetcode\"\nOutput: \"leetcode\"\nExplanation: In the first step, either you choose i = 1 or i = 2, both will result \"leEeetcode\" to be reduced to \"leetcode\".\n```\n\n**Example 2:**\n\n```\nInput: s = \"abBAcC\"\nOutput: \"\"\nExplanation: We have many possible scenarios, and all lead to the same answer. For example:\n\"abBAcC\" --> \"aAcC\" --> \"cC\" --> \"\"\n\"abBAcC\" --> \"abBA\" --> \"aA\" --> \"\"\n```\n\n**Example 3:**\n\n```\nInput: s = \"s\"\nOutput: \"s\"\n```\n\n## Solution\n\n- `vice-versa`****\n- `example 2`**\n\n### mine\n\n```java\npublic String makeGood(String s) {\n    Stack<Character> stack = new Stack<>();\n    for (int i = 0; i < s.length(); i++) {\n        char c = s.charAt(i);\n        if (!stack.empty() && (\n                (Character.isUpperCase(c) && Character.isLowerCase(stack.peek()) && ((stack.peek() - 'a') == (c - 'A')))\n                        ||\n                        (Character.isLowerCase(c) && Character.isUpperCase(stack.peek()) && ((stack.peek() - 'A') == (c - 'a')))\n        )) {\n            stack.pop();\n        } else {\n            stack.push(c);\n        }\n    }\n    Iterator<Character> iterator = stack.iterator();\n    StringBuilder sb = new StringBuilder();\n    while (iterator.hasNext()) {\n        sb.append(iterator.next());\n    }\n\t// iteratorreverse()\n    return sb.toString();\n}\n```\n### better\n\n```java\nboolean ch = true;\nwhile (ch) {\n    ch = false;\n    String t = s;\n    for (int i = 0; i < s.length() - 1; ++i) {\n        if (s.charAt(i) + 32 == s.charAt(i + 1) || s.charAt(i + 1) + 32 == s.charAt(i)) {\n            t = s.substring(0, i) + s.substring(i + 2);\n            ch = true;\n            break;\n        }\n    }\n    s = t;\n}\nreturn s;\n```\n\n# 1545 Find Kth Bit in Nth Binary String\n\nGiven two positive integers `n` and `k`, the binary string `Sn` is formed as follows:\n\n- `S1 = \"0\"`\n- `Si = Si-1 + \"1\" + reverse(invert(Si-1))` for `i > 1`\n\nWhere `+` denotes the concatenation operation, `reverse(x)` returns the reversed string x, and `invert(x)` inverts all the bits in x (0 changes to 1 and 1 changes to 0).\n\nFor example, the first 4 strings in the above sequence are:\n\n- S1 = \"0\"\n- S2 = \"0**1**1\"\n- S3 = \"011**1**001\"\n- S4 = \"0111001**1**0110001\"\n\nReturn *the* `kth` *bit* *in* `Sn`. It is guaranteed that `k` is valid for the given `n`.\n\n \n\n**Example 1:**\n\n```\nInput: n = 3, k = 1\nOutput: \"0\"\nExplanation: S3 is \"0111001\". The first bit is \"0\".\n```\n\n**Example 2:**\n\n```\nInput: n = 4, k = 11\nOutput: \"1\"\nExplanation: S4 is \"011100110110001\". The 11th bit is \"1\".\n```\n\n**Example 3:**\n\n```\nInput: n = 1, k = 1\nOutput: \"0\"\n```\n\n**Example 4:**\n\n```\nInput: n = 2, k = 3\nOutput: \"1\"\n```\n\n## Solution\n\n\n\n```java\npublic char findKthBit(int n, int k) {\n    StringBuilder sb = new StringBuilder(\"0\");\n    while (n > 1) {\n        int integer = Integer.parseInt(sb.toString());\n        StringBuilder stringBuilder = new StringBuilder(Integer.toBinaryString(integer));\n        // 0-1 inverse\n        for (int i = 0; i < stringBuilder.length(); i++) {\n            if (stringBuilder.charAt(i) == '0') {\n                stringBuilder.replace(i, i + 1, \"1\");\n            } else {\n                stringBuilder.replace(i, i + 1, \"0\");\n            }\n        }\n        stringBuilder.reverse();\n        sb.append(\"1\").append(stringBuilder);\n        n--;\n        System.out.println(sb.toString());\n    }\n\n    char[] chars = sb.toString().toCharArray();\n    return chars[k - 1];\n}\n```\n\nn=4\n\n### better\n\n`0-1```\n\n-  ^ 00`1``0-1`\n\n#### method 1\n\n\n\n```java\npublic char findKthBit(int n, int k) {\n    String s = \"0\";\n    while (n>1) {\n        --n;\n        s = s+\"1\"+sinv(s);\n    }\n    // 0k-1\n    return s.charAt(k-1);\n}\n\npublic String sinv(String s) {\n    StringBuilder a = new StringBuilder();\n    // reverse()\n    for (int i = s.length()-1; i>=0; --i) {\n        char c = s.charAt(i);\n        // 0-1\n        c^=1;\n        a.append(c);\n    }\n    return a.toString();\n}\n```\n\n#### method 2\n\n\n\n```java\npublic char findKthBit(int n, int k){\n    char findKthBit(int n, int k) \n    s[1]=\"0\";\n    t[1]=\"1\";\n    for(int i=2;i<=n;i++){\n        s[i]=s[i-1];\n        s[i]+='1';\n        s[i]+=t[i-1];\n        t[i]=s[i-1];\n        t[i]+='0';\n        t[i]+=t[i-1];\n    }\n    return s[n][k-1];\n}\n```\n\n#### method 3\n\n\n\n```java\nchar dfs(int n, int k) {\n    if (n == 1) {\n        return '0';\n    } else {\n        int len = (1 << n) - 1;\n        int base = (1 << (n - 1)) - 1;\n        if (k == base + 1) {\n            return '1';\n        } else if (k <= base) {\n            return dfs(n - 1, k);\n        } else {\n            return dfs(n - 1, len - k + 1) ^ 1;\n        }\n    }\n}\n\nchar findKthBit(int n, int k) {\n    return dfs(n, k);\n}\n```\n\n","slug":"contest201","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8h80007k7ihd2hz89qs","content":"<p>Leetcode201.</p>\n<a id=\"more\"></a>\n\n<h1 id=\"1544-Make-The-String-Great\"><a href=\"#1544-Make-The-String-Great\" class=\"headerlink\" title=\"1544 Make The String Great\"></a>1544 Make The String Great</h1><p>Given a string <code>s</code> of lower and upper case English letters.</p>\n<p>A good string is a string which doesnt have <strong>two adjacent characters</strong> <code>s[i]</code> and <code>s[i + 1]</code> where:</p>\n<ul>\n<li><code>0 &lt;= i &lt;= s.length - 2</code></li>\n<li><code>s[i]</code> is a lower-case letter and <code>s[i + 1]</code> is the same letter but in upper-case or <strong>vice-versa</strong>.</li>\n</ul>\n<p>To make the string good, you can choose <strong>two adjacent</strong> characters that make the string bad and remove them. You can keep doing this until the string becomes good.</p>\n<p>Return <em>the string</em> after making it good. The answer is guaranteed to be unique under the given constraints.</p>\n<p><strong>Notice</strong> that an empty string is also good.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;leEeetcode&quot;</span><br><span class=\"line\">Output: &quot;leetcode&quot;</span><br><span class=\"line\">Explanation: In the first step, either you choose i &#x3D; 1 or i &#x3D; 2, both will result &quot;leEeetcode&quot; to be reduced to &quot;leetcode&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abBAcC&quot;</span><br><span class=\"line\">Output: &quot;&quot;</span><br><span class=\"line\">Explanation: We have many possible scenarios, and all lead to the same answer. For example:</span><br><span class=\"line\">&quot;abBAcC&quot; --&gt; &quot;aAcC&quot; --&gt; &quot;cC&quot; --&gt; &quot;&quot;</span><br><span class=\"line\">&quot;abBAcC&quot; --&gt; &quot;abBA&quot; --&gt; &quot;aA&quot; --&gt; &quot;&quot;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;s&quot;</span><br><span class=\"line\">Output: &quot;s&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><ul>\n<li><code>vice-versa</code><strong></strong></li>\n<li><code>example 2</code><em></em></li>\n</ul>\n<h3 id=\"mine\"><a href=\"#mine\" class=\"headerlink\" title=\"mine\"></a>mine</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">makeGood</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">    Stack&lt;Character&gt; stack = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> c = s.charAt(i);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!stack.empty() &amp;&amp; (</span><br><span class=\"line\">                (Character.isUpperCase(c) &amp;&amp; Character.isLowerCase(stack.peek()) &amp;&amp; ((stack.peek() - <span class=\"string\">&#x27;a&#x27;</span>) == (c - <span class=\"string\">&#x27;A&#x27;</span>)))</span><br><span class=\"line\">                        ||</span><br><span class=\"line\">                        (Character.isLowerCase(c) &amp;&amp; Character.isUpperCase(stack.peek()) &amp;&amp; ((stack.peek() - <span class=\"string\">&#x27;A&#x27;</span>) == (c - <span class=\"string\">&#x27;a&#x27;</span>)))</span><br><span class=\"line\">        )) &#123;</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            stack.push(c);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Iterator&lt;Character&gt; iterator = stack.iterator();</span><br><span class=\"line\">    StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (iterator.hasNext()) &#123;</span><br><span class=\"line\">        sb.append(iterator.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">// iteratorreverse()</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sb.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"better\"><a href=\"#better\" class=\"headerlink\" title=\"better\"></a>better</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">boolean</span> ch = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (ch) &#123;</span><br><span class=\"line\">    ch = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    String t = s;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length() - <span class=\"number\">1</span>; ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.charAt(i) + <span class=\"number\">32</span> == s.charAt(i + <span class=\"number\">1</span>) || s.charAt(i + <span class=\"number\">1</span>) + <span class=\"number\">32</span> == s.charAt(i)) &#123;</span><br><span class=\"line\">            t = s.substring(<span class=\"number\">0</span>, i) + s.substring(i + <span class=\"number\">2</span>);</span><br><span class=\"line\">            ch = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    s = t;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> s;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"1545-Find-Kth-Bit-in-Nth-Binary-String\"><a href=\"#1545-Find-Kth-Bit-in-Nth-Binary-String\" class=\"headerlink\" title=\"1545 Find Kth Bit in Nth Binary String\"></a>1545 Find Kth Bit in Nth Binary String</h1><p>Given two positive integers <code>n</code> and <code>k</code>, the binary string <code>Sn</code> is formed as follows:</p>\n<ul>\n<li><code>S1 = &quot;0&quot;</code></li>\n<li><code>Si = Si-1 + &quot;1&quot; + reverse(invert(Si-1))</code> for <code>i &gt; 1</code></li>\n</ul>\n<p>Where <code>+</code> denotes the concatenation operation, <code>reverse(x)</code> returns the reversed string x, and <code>invert(x)</code> inverts all the bits in x (0 changes to 1 and 1 changes to 0).</p>\n<p>For example, the first 4 strings in the above sequence are:</p>\n<ul>\n<li>S1 = 0</li>\n<li>S2 = 0<strong>1</strong>1</li>\n<li>S3 = 011<strong>1</strong>001</li>\n<li>S4 = 0111001<strong>1</strong>0110001</li>\n</ul>\n<p>Return <em>the</em> <code>kth</code> <em>bit</em> <em>in</em> <code>Sn</code>. It is guaranteed that <code>k</code> is valid for the given <code>n</code>.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, k &#x3D; 1</span><br><span class=\"line\">Output: &quot;0&quot;</span><br><span class=\"line\">Explanation: S3 is &quot;0111001&quot;. The first bit is &quot;0&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, k &#x3D; 11</span><br><span class=\"line\">Output: &quot;1&quot;</span><br><span class=\"line\">Explanation: S4 is &quot;011100110110001&quot;. The 11th bit is &quot;1&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 1, k &#x3D; 1</span><br><span class=\"line\">Output: &quot;0&quot;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 4:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, k &#x3D; 3</span><br><span class=\"line\">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Solution-1\"><a href=\"#Solution-1\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder(<span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (n &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> integer = Integer.parseInt(sb.toString());</span><br><span class=\"line\">        StringBuilder stringBuilder = <span class=\"keyword\">new</span> StringBuilder(Integer.toBinaryString(integer));</span><br><span class=\"line\">        <span class=\"comment\">// 0-1 inverse</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; stringBuilder.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (stringBuilder.charAt(i) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">                stringBuilder.replace(i, i + <span class=\"number\">1</span>, <span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                stringBuilder.replace(i, i + <span class=\"number\">1</span>, <span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stringBuilder.reverse();</span><br><span class=\"line\">        sb.append(<span class=\"string\">&quot;1&quot;</span>).append(stringBuilder);</span><br><span class=\"line\">        n--;</span><br><span class=\"line\">        System.out.println(sb.toString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">char</span>[] chars = sb.toString().toCharArray();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> chars[k - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>n=4</p>\n<h3 id=\"better-1\"><a href=\"#better-1\" class=\"headerlink\" title=\"better\"></a>better</h3><p><code>0-1</code><code></code></p>\n<ul>\n<li> ^ 00<code>1</code><code>0-1</code></li>\n</ul>\n<h4 id=\"method-1\"><a href=\"#method-1\" class=\"headerlink\" title=\"method 1\"></a>method 1</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    String s = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (n&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        --n;</span><br><span class=\"line\">        s = s+<span class=\"string\">&quot;1&quot;</span>+sinv(s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 0k-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.charAt(k-<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">sinv</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">    StringBuilder a = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">    <span class=\"comment\">// reverse()</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = s.length()-<span class=\"number\">1</span>; i&gt;=<span class=\"number\">0</span>; --i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> c = s.charAt(i);</span><br><span class=\"line\">        <span class=\"comment\">// 0-1</span></span><br><span class=\"line\">        c^=<span class=\"number\">1</span>;</span><br><span class=\"line\">        a.append(c);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"method-2\"><a href=\"#method-2\" class=\"headerlink\" title=\"method 2\"></a>method 2</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span></span><br><span class=\"line\"><span class=\"function\">    s[1]</span>=<span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">    t[<span class=\"number\">1</span>]=<span class=\"string\">&quot;1&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++)&#123;</span><br><span class=\"line\">        s[i]=s[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        s[i]+=<span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">        s[i]+=t[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        t[i]=s[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        t[i]+=<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        t[i]+=t[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s[n][k-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"method-3\"><a href=\"#method-3\" class=\"headerlink\" title=\"method 3\"></a>method 3</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> base = (<span class=\"number\">1</span> &lt;&lt; (n - <span class=\"number\">1</span>)) - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (k == base + <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (k &lt;= base) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(n - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(n - <span class=\"number\">1</span>, len - k + <span class=\"number\">1</span>) ^ <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(n, k);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Leetcode201.</p>","more":"<h1 id=\"1544-Make-The-String-Great\"><a href=\"#1544-Make-The-String-Great\" class=\"headerlink\" title=\"1544 Make The String Great\"></a>1544 Make The String Great</h1><p>Given a string <code>s</code> of lower and upper case English letters.</p>\n<p>A good string is a string which doesnt have <strong>two adjacent characters</strong> <code>s[i]</code> and <code>s[i + 1]</code> where:</p>\n<ul>\n<li><code>0 &lt;= i &lt;= s.length - 2</code></li>\n<li><code>s[i]</code> is a lower-case letter and <code>s[i + 1]</code> is the same letter but in upper-case or <strong>vice-versa</strong>.</li>\n</ul>\n<p>To make the string good, you can choose <strong>two adjacent</strong> characters that make the string bad and remove them. You can keep doing this until the string becomes good.</p>\n<p>Return <em>the string</em> after making it good. The answer is guaranteed to be unique under the given constraints.</p>\n<p><strong>Notice</strong> that an empty string is also good.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;leEeetcode&quot;</span><br><span class=\"line\">Output: &quot;leetcode&quot;</span><br><span class=\"line\">Explanation: In the first step, either you choose i &#x3D; 1 or i &#x3D; 2, both will result &quot;leEeetcode&quot; to be reduced to &quot;leetcode&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;abBAcC&quot;</span><br><span class=\"line\">Output: &quot;&quot;</span><br><span class=\"line\">Explanation: We have many possible scenarios, and all lead to the same answer. For example:</span><br><span class=\"line\">&quot;abBAcC&quot; --&gt; &quot;aAcC&quot; --&gt; &quot;cC&quot; --&gt; &quot;&quot;</span><br><span class=\"line\">&quot;abBAcC&quot; --&gt; &quot;abBA&quot; --&gt; &quot;aA&quot; --&gt; &quot;&quot;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: s &#x3D; &quot;s&quot;</span><br><span class=\"line\">Output: &quot;s&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Solution\"><a href=\"#Solution\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><ul>\n<li><code>vice-versa</code><strong></strong></li>\n<li><code>example 2</code><em></em></li>\n</ul>\n<h3 id=\"mine\"><a href=\"#mine\" class=\"headerlink\" title=\"mine\"></a>mine</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">makeGood</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">    Stack&lt;Character&gt; stack = <span class=\"keyword\">new</span> Stack&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> c = s.charAt(i);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!stack.empty() &amp;&amp; (</span><br><span class=\"line\">                (Character.isUpperCase(c) &amp;&amp; Character.isLowerCase(stack.peek()) &amp;&amp; ((stack.peek() - <span class=\"string\">&#x27;a&#x27;</span>) == (c - <span class=\"string\">&#x27;A&#x27;</span>)))</span><br><span class=\"line\">                        ||</span><br><span class=\"line\">                        (Character.isLowerCase(c) &amp;&amp; Character.isUpperCase(stack.peek()) &amp;&amp; ((stack.peek() - <span class=\"string\">&#x27;A&#x27;</span>) == (c - <span class=\"string\">&#x27;a&#x27;</span>)))</span><br><span class=\"line\">        )) &#123;</span><br><span class=\"line\">            stack.pop();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            stack.push(c);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Iterator&lt;Character&gt; iterator = stack.iterator();</span><br><span class=\"line\">    StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (iterator.hasNext()) &#123;</span><br><span class=\"line\">        sb.append(iterator.next());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">// iteratorreverse()</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sb.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"better\"><a href=\"#better\" class=\"headerlink\" title=\"better\"></a>better</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">boolean</span> ch = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"><span class=\"keyword\">while</span> (ch) &#123;</span><br><span class=\"line\">    ch = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    String t = s;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; s.length() - <span class=\"number\">1</span>; ++i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s.charAt(i) + <span class=\"number\">32</span> == s.charAt(i + <span class=\"number\">1</span>) || s.charAt(i + <span class=\"number\">1</span>) + <span class=\"number\">32</span> == s.charAt(i)) &#123;</span><br><span class=\"line\">            t = s.substring(<span class=\"number\">0</span>, i) + s.substring(i + <span class=\"number\">2</span>);</span><br><span class=\"line\">            ch = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    s = t;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> s;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"1545-Find-Kth-Bit-in-Nth-Binary-String\"><a href=\"#1545-Find-Kth-Bit-in-Nth-Binary-String\" class=\"headerlink\" title=\"1545 Find Kth Bit in Nth Binary String\"></a>1545 Find Kth Bit in Nth Binary String</h1><p>Given two positive integers <code>n</code> and <code>k</code>, the binary string <code>Sn</code> is formed as follows:</p>\n<ul>\n<li><code>S1 = &quot;0&quot;</code></li>\n<li><code>Si = Si-1 + &quot;1&quot; + reverse(invert(Si-1))</code> for <code>i &gt; 1</code></li>\n</ul>\n<p>Where <code>+</code> denotes the concatenation operation, <code>reverse(x)</code> returns the reversed string x, and <code>invert(x)</code> inverts all the bits in x (0 changes to 1 and 1 changes to 0).</p>\n<p>For example, the first 4 strings in the above sequence are:</p>\n<ul>\n<li>S1 = 0</li>\n<li>S2 = 0<strong>1</strong>1</li>\n<li>S3 = 011<strong>1</strong>001</li>\n<li>S4 = 0111001<strong>1</strong>0110001</li>\n</ul>\n<p>Return <em>the</em> <code>kth</code> <em>bit</em> <em>in</em> <code>Sn</code>. It is guaranteed that <code>k</code> is valid for the given <code>n</code>.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3, k &#x3D; 1</span><br><span class=\"line\">Output: &quot;0&quot;</span><br><span class=\"line\">Explanation: S3 is &quot;0111001&quot;. The first bit is &quot;0&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, k &#x3D; 11</span><br><span class=\"line\">Output: &quot;1&quot;</span><br><span class=\"line\">Explanation: S4 is &quot;011100110110001&quot;. The 11th bit is &quot;1&quot;.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 1, k &#x3D; 1</span><br><span class=\"line\">Output: &quot;0&quot;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 4:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, k &#x3D; 3</span><br><span class=\"line\">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Solution-1\"><a href=\"#Solution-1\" class=\"headerlink\" title=\"Solution\"></a>Solution</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    StringBuilder sb = <span class=\"keyword\">new</span> StringBuilder(<span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (n &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> integer = Integer.parseInt(sb.toString());</span><br><span class=\"line\">        StringBuilder stringBuilder = <span class=\"keyword\">new</span> StringBuilder(Integer.toBinaryString(integer));</span><br><span class=\"line\">        <span class=\"comment\">// 0-1 inverse</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; stringBuilder.length(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (stringBuilder.charAt(i) == <span class=\"string\">&#x27;0&#x27;</span>) &#123;</span><br><span class=\"line\">                stringBuilder.replace(i, i + <span class=\"number\">1</span>, <span class=\"string\">&quot;1&quot;</span>);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                stringBuilder.replace(i, i + <span class=\"number\">1</span>, <span class=\"string\">&quot;0&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stringBuilder.reverse();</span><br><span class=\"line\">        sb.append(<span class=\"string\">&quot;1&quot;</span>).append(stringBuilder);</span><br><span class=\"line\">        n--;</span><br><span class=\"line\">        System.out.println(sb.toString());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">char</span>[] chars = sb.toString().toCharArray();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> chars[k - <span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>n=4</p>\n<h3 id=\"better-1\"><a href=\"#better-1\" class=\"headerlink\" title=\"better\"></a>better</h3><p><code>0-1</code><code></code></p>\n<ul>\n<li> ^ 00<code>1</code><code>0-1</code></li>\n</ul>\n<h4 id=\"method-1\"><a href=\"#method-1\" class=\"headerlink\" title=\"method 1\"></a>method 1</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    String s = <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (n&gt;<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        --n;</span><br><span class=\"line\">        s = s+<span class=\"string\">&quot;1&quot;</span>+sinv(s);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 0k-1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s.charAt(k-<span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">sinv</span><span class=\"params\">(String s)</span> </span>&#123;</span><br><span class=\"line\">    StringBuilder a = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">    <span class=\"comment\">// reverse()</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = s.length()-<span class=\"number\">1</span>; i&gt;=<span class=\"number\">0</span>; --i) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">char</span> c = s.charAt(i);</span><br><span class=\"line\">        <span class=\"comment\">// 0-1</span></span><br><span class=\"line\">        c^=<span class=\"number\">1</span>;</span><br><span class=\"line\">        a.append(c);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"method-2\"><a href=\"#method-2\" class=\"headerlink\" title=\"method 2\"></a>method 2</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span></span><br><span class=\"line\"><span class=\"function\">    s[1]</span>=<span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">    t[<span class=\"number\">1</span>]=<span class=\"string\">&quot;1&quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">2</span>;i&lt;=n;i++)&#123;</span><br><span class=\"line\">        s[i]=s[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        s[i]+=<span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">        s[i]+=t[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        t[i]=s[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">        t[i]+=<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">        t[i]+=t[i-<span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s[n][k-<span class=\"number\">1</span>];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"method-3\"><a href=\"#method-3\" class=\"headerlink\" title=\"method 3\"></a>method 3</h4><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> len = (<span class=\"number\">1</span> &lt;&lt; n) - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> base = (<span class=\"number\">1</span> &lt;&lt; (n - <span class=\"number\">1</span>)) - <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (k == base + <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (k &lt;= base) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(n - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(n - <span class=\"number\">1</span>, len - k + <span class=\"number\">1</span>) ^ <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">char</span> <span class=\"title\">findKthBit</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> dfs(n, k);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"contest202","date":"2020-08-16T06:36:31.000Z","_content":"\nLeetocode202\n\n<!--more-->\n\n# 1550. Three Consecutive Odds\n\nGiven an integer array `arr`, return `true` if there are three consecutive odd numbers in the array. Otherwise, return `false`.\n\n**Example 1:**\n\n```\nInput: arr = [2,6,4,1]\nOutput: false\nExplanation: There are no three consecutive odds.\n```\n\n**Example 2:**\n\n```\nInput: arr = [1,2,34,3,4,5,7,23,12]\nOutput: true\nExplanation: [5,7,23] are three consecutive odds.\n```\n\n## solution\n\ntruefalse\n\n```java\npublic boolean threeConsecutiveOdds(int[] a) {\n    for(int i = 0;i+2 < a.length;i++){\n        if(a[i]%2 + a[i+1] % 2 + a[i+2] % 2 == 3){\n            return true;\n        }\n    }\n    return false;\n}\n```\n\nrank\n\nfor `i+2<a.length``+2`,forii21,3,\n\n**note:** \n\n\n\n# 1551. Minimum Operations to Make Array Equal\n\nYou have an array `arr` of length `n` where `arr[i] = (2 * i) + 1` for all valid values of `i` (i.e. `0 <= i < n`).\n\nIn one operation, you can select two indices `x` and `y` where `0 <= x, y < n` and subtract `1` from `arr[x]` and add `1` to `arr[y]` (i.e. perform `arr[x] -=1 `and `arr[y] += 1`). The goal is to make all the elements of the array **equal**. It is **guaranteed** that all the elements of the array can be made equal using some operations.\n\nGiven an integer `n`, the length of the array. Return *the minimum number of operations* needed to make all the elements of arr equal.\n\n**Example 1:**\n\n```\nInput: n = 3\nOutput: 2\nExplanation: arr = [1, 3, 5]\nFirst operation choose x = 2 and y = 0, this leads arr to be [2, 3, 4]\nIn the second operation choose x = 2 and y = 0 again, thus arr = [3, 3, 3].\n```\n\n**Example 2:**\n\n```\nInput: n = 6\nOutput: 9\n```\n\n## solution\n\n``n=6output=9\n\n```java\npublic int minOperations(int n) {\n    // Take care of overflow if n is too large.\n    if(n%2==1){\n        n/=2;\n        return (n*(n+1));\n    }        \n    n/=2;\n    return n*n;\n}\n```\n\n-- ","source":"_posts/contest202.md","raw":"---\ntitle: contest202\ndate: 2020-08-16 14:36:31\ncategories: Leetcode\ntags: algorithm\n---\n\nLeetocode202\n\n<!--more-->\n\n# 1550. Three Consecutive Odds\n\nGiven an integer array `arr`, return `true` if there are three consecutive odd numbers in the array. Otherwise, return `false`.\n\n**Example 1:**\n\n```\nInput: arr = [2,6,4,1]\nOutput: false\nExplanation: There are no three consecutive odds.\n```\n\n**Example 2:**\n\n```\nInput: arr = [1,2,34,3,4,5,7,23,12]\nOutput: true\nExplanation: [5,7,23] are three consecutive odds.\n```\n\n## solution\n\ntruefalse\n\n```java\npublic boolean threeConsecutiveOdds(int[] a) {\n    for(int i = 0;i+2 < a.length;i++){\n        if(a[i]%2 + a[i+1] % 2 + a[i+2] % 2 == 3){\n            return true;\n        }\n    }\n    return false;\n}\n```\n\nrank\n\nfor `i+2<a.length``+2`,forii21,3,\n\n**note:** \n\n\n\n# 1551. Minimum Operations to Make Array Equal\n\nYou have an array `arr` of length `n` where `arr[i] = (2 * i) + 1` for all valid values of `i` (i.e. `0 <= i < n`).\n\nIn one operation, you can select two indices `x` and `y` where `0 <= x, y < n` and subtract `1` from `arr[x]` and add `1` to `arr[y]` (i.e. perform `arr[x] -=1 `and `arr[y] += 1`). The goal is to make all the elements of the array **equal**. It is **guaranteed** that all the elements of the array can be made equal using some operations.\n\nGiven an integer `n`, the length of the array. Return *the minimum number of operations* needed to make all the elements of arr equal.\n\n**Example 1:**\n\n```\nInput: n = 3\nOutput: 2\nExplanation: arr = [1, 3, 5]\nFirst operation choose x = 2 and y = 0, this leads arr to be [2, 3, 4]\nIn the second operation choose x = 2 and y = 0 again, thus arr = [3, 3, 3].\n```\n\n**Example 2:**\n\n```\nInput: n = 6\nOutput: 9\n```\n\n## solution\n\n``n=6output=9\n\n```java\npublic int minOperations(int n) {\n    // Take care of overflow if n is too large.\n    if(n%2==1){\n        n/=2;\n        return (n*(n+1));\n    }        \n    n/=2;\n    return n*n;\n}\n```\n\n-- ","slug":"contest202","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8he0009k7ihffg4d5o6","content":"<p>Leetocode202</p>\n<a id=\"more\"></a>\n\n<h1 id=\"1550-Three-Consecutive-Odds\"><a href=\"#1550-Three-Consecutive-Odds\" class=\"headerlink\" title=\"1550. Three Consecutive Odds\"></a>1550. Three Consecutive Odds</h1><p>Given an integer array <code>arr</code>, return <code>true</code> if there are three consecutive odd numbers in the array. Otherwise, return <code>false</code>.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [2,6,4,1]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: There are no three consecutive odds.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,2,34,3,4,5,7,23,12]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: [5,7,23] are three consecutive odds.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution\"><a href=\"#solution\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p>truefalse</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">threeConsecutiveOdds</span><span class=\"params\">(<span class=\"keyword\">int</span>[] a)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i+<span class=\"number\">2</span> &lt; a.length;i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a[i]%<span class=\"number\">2</span> + a[i+<span class=\"number\">1</span>] % <span class=\"number\">2</span> + a[i+<span class=\"number\">2</span>] % <span class=\"number\">2</span> == <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>rank</p>\n<p>for <code>i+2&lt;a.length</code><code>+2</code>,forii21,3,</p>\n<p><strong>note:</strong> </p>\n<h1 id=\"1551-Minimum-Operations-to-Make-Array-Equal\"><a href=\"#1551-Minimum-Operations-to-Make-Array-Equal\" class=\"headerlink\" title=\"1551. Minimum Operations to Make Array Equal\"></a>1551. Minimum Operations to Make Array Equal</h1><p>You have an array <code>arr</code> of length <code>n</code> where <code>arr[i] = (2 * i) + 1</code> for all valid values of <code>i</code> (i.e. <code>0 &lt;= i &lt; n</code>).</p>\n<p>In one operation, you can select two indices <code>x</code> and <code>y</code> where <code>0 &lt;= x, y &lt; n</code> and subtract <code>1</code> from <code>arr[x]</code> and add <code>1</code> to <code>arr[y]</code> (i.e. perform <code>arr[x] -=1 </code>and <code>arr[y] += 1</code>). The goal is to make all the elements of the array <strong>equal</strong>. It is <strong>guaranteed</strong> that all the elements of the array can be made equal using some operations.</p>\n<p>Given an integer <code>n</code>, the length of the array. Return <em>the minimum number of operations</em> needed to make all the elements of arr equal.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: arr &#x3D; [1, 3, 5]</span><br><span class=\"line\">First operation choose x &#x3D; 2 and y &#x3D; 0, this leads arr to be [2, 3, 4]</span><br><span class=\"line\">In the second operation choose x &#x3D; 2 and y &#x3D; 0 again, thus arr &#x3D; [3, 3, 3].</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 6</span><br><span class=\"line\">Output: 9</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution-1\"><a href=\"#solution-1\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p><code></code>n=6output=9</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">minOperations</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Take care of overflow if n is too large.</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">        n/=<span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (n*(n+<span class=\"number\">1</span>));</span><br><span class=\"line\">    &#125;        </span><br><span class=\"line\">    n/=<span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n*n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> </p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Leetocode202</p>","more":"<h1 id=\"1550-Three-Consecutive-Odds\"><a href=\"#1550-Three-Consecutive-Odds\" class=\"headerlink\" title=\"1550. Three Consecutive Odds\"></a>1550. Three Consecutive Odds</h1><p>Given an integer array <code>arr</code>, return <code>true</code> if there are three consecutive odd numbers in the array. Otherwise, return <code>false</code>.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [2,6,4,1]</span><br><span class=\"line\">Output: false</span><br><span class=\"line\">Explanation: There are no three consecutive odds.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: arr &#x3D; [1,2,34,3,4,5,7,23,12]</span><br><span class=\"line\">Output: true</span><br><span class=\"line\">Explanation: [5,7,23] are three consecutive odds.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution\"><a href=\"#solution\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p>truefalse</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">threeConsecutiveOdds</span><span class=\"params\">(<span class=\"keyword\">int</span>[] a)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>;i+<span class=\"number\">2</span> &lt; a.length;i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a[i]%<span class=\"number\">2</span> + a[i+<span class=\"number\">1</span>] % <span class=\"number\">2</span> + a[i+<span class=\"number\">2</span>] % <span class=\"number\">2</span> == <span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>rank</p>\n<p>for <code>i+2&lt;a.length</code><code>+2</code>,forii21,3,</p>\n<p><strong>note:</strong> </p>\n<h1 id=\"1551-Minimum-Operations-to-Make-Array-Equal\"><a href=\"#1551-Minimum-Operations-to-Make-Array-Equal\" class=\"headerlink\" title=\"1551. Minimum Operations to Make Array Equal\"></a>1551. Minimum Operations to Make Array Equal</h1><p>You have an array <code>arr</code> of length <code>n</code> where <code>arr[i] = (2 * i) + 1</code> for all valid values of <code>i</code> (i.e. <code>0 &lt;= i &lt; n</code>).</p>\n<p>In one operation, you can select two indices <code>x</code> and <code>y</code> where <code>0 &lt;= x, y &lt; n</code> and subtract <code>1</code> from <code>arr[x]</code> and add <code>1</code> to <code>arr[y]</code> (i.e. perform <code>arr[x] -=1 </code>and <code>arr[y] += 1</code>). The goal is to make all the elements of the array <strong>equal</strong>. It is <strong>guaranteed</strong> that all the elements of the array can be made equal using some operations.</p>\n<p>Given an integer <code>n</code>, the length of the array. Return <em>the minimum number of operations</em> needed to make all the elements of arr equal.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 3</span><br><span class=\"line\">Output: 2</span><br><span class=\"line\">Explanation: arr &#x3D; [1, 3, 5]</span><br><span class=\"line\">First operation choose x &#x3D; 2 and y &#x3D; 0, this leads arr to be [2, 3, 4]</span><br><span class=\"line\">In the second operation choose x &#x3D; 2 and y &#x3D; 0 again, thus arr &#x3D; [3, 3, 3].</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 6</span><br><span class=\"line\">Output: 9</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution-1\"><a href=\"#solution-1\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p><code></code>n=6output=9</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">minOperations</span><span class=\"params\">(<span class=\"keyword\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Take care of overflow if n is too large.</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(n%<span class=\"number\">2</span>==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">        n/=<span class=\"number\">2</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (n*(n+<span class=\"number\">1</span>));</span><br><span class=\"line\">    &#125;        </span><br><span class=\"line\">    n/=<span class=\"number\">2</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> n*n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p> </p>"},{"title":"contest203","date":"2020-08-23T04:22:22.000Z","_content":"\nLeetcode203\n\n<!--more-->\n\n# 1560. Most Visited Sector in a Circular Track\n\nGiven an integer `n` and an integer array `rounds`. We have a circular track which consists of `n` sectors labeled from `1` to `n`. A marathon will be held on this track, the marathon consists of `m` rounds. The `ith` round starts at sector `rounds[i - 1]` and ends at sector `rounds[i]`. For example, round 1 starts at sector `rounds[0]` and ends at sector `rounds[1]`\n\nReturn *an array of the most visited sectors* sorted in **ascending** order.\n\nNotice that you circulate the track in ascending order of sector numbers in the counter-clockwise direction (See the first example).\n\n**Example 1:**\n\n![img](https://assets.leetcode.com/uploads/2020/08/14/tmp.jpg)\n\n```\nInput: n = 4, rounds = [1,3,1,2]\nOutput: [1,2]\nExplanation: The marathon starts at sector 1. The order of the visited sectors is as follows:\n1 --> 2 --> 3 (end of round 1) --> 4 --> 1 (end of round 2) --> 2 (end of round 3 and the marathon)\nWe can see that both sectors 1 and 2 are visited twice and they are the most visited sectors. Sectors 3 and 4 are visited only once.\n```\n\n**Example 2:**\n\n```\nInput: n = 2, rounds = [2,1,2,1,2,1,2,1,2]\nOutput: [2]\n```\n\n**Example 3:**\n\n```\nInput: n = 7, rounds = [1,3,5,7]\nOutput: [1,2,3,4,5,6,7]\n```\n\n## solution\n\n`easy`sectors\n\n```java\npublic List<Integer> mostVisited(int n, int[] rounds) {\n    // \n    int f = rounds[0], t = rounds[rounds.length-1];\n    List<Integer> ret = new ArrayList<>();\n    for(int i = f;;){\n        ret.add(i);\n        if(i == t)break;\n        i++;\n        if(i == n+1)i = 1;\n    }\n    Collections.sort(ret);\n    return ret;\n}\n```\n\nemmmm\n\n```java\npublic List<Integer> mostVisited(int n, int[] A) {\n    List<Integer> res = new ArrayList<>();\n    for (int i = A[0]; i <= A[A.length - 1]; ++i)\n        res.add(i);\n    if (res.size() > 0) return res;\n    // start>end[1, end] + [start, n]\n    for (int i = 1; i <= A[A.length - 1]; ++i)\n        res.add(i);\n    for (int i = A[0]; i <= n; ++i)\n        res.add(i);\n    return res;\n}\n```\n\nsector\n\n- start<=end\\[start, end\\]\n- start>end\\[start, n\\]+\\[1, end\\]\n\n\n\n```java\npublic List<Integer> mostVisited(int n, int[] rounds) {\n    int len = rounds.length, fr = rounds[0], to = rounds[len - 1];\n    List<Integer> res = new ArrayList<>();\n    if (to >= fr) {     // no circle, such as [1,3,1,2]\n        for (int i = fr; i <= to; i++) res.add(i);\n    } else {            // cross a circle, such as [2,3,2,1]\n        // sector\n        for (int i = 1; i <= n; i++) {\n            // sector\n            if (i == to + 1) i = fr;\n            res.add(i);\n        }\n    }\n    return res;\n}\n```\n\n``nsectorround\n\n\n\n# 1561. Maximum Number of Coins You Can Get\n\nThere are 3n piles of coins of varying size, you and your friends will take piles of coins as follows:\n\n- In each step, you will choose **any** 3 piles of coins (not necessarily consecutive).\n- Of your choice, Alice will pick the pile with the maximum number of coins.\n- You will pick the next pile with maximum number of coins.\n- Your friend Bob will pick the last pile.\n- Repeat until there are no more piles of coins.\n\nGiven an array of integers `piles` where `piles[i]` is the number of coins in the `ith` pile.\n\nReturn the maximum number of coins which you can have.\n\n \n\n**Example 1:**\n\n```\nInput: piles = [2,4,1,2,7,8]\nOutput: 9\nExplanation: Choose the triplet (2, 7, 8), Alice Pick the pile with 8 coins, you the pile with 7 coins and Bob the last one.\nChoose the triplet (1, 2, 4), Alice Pick the pile with 4 coins, you the pile with 2 coins and Bob the last one.\nThe maximum number of coins which you can have are: 7 + 2 = 9.\nOn the other hand if we choose this arrangement (1, 2, 8), (2, 4, 7) you only get 2 + 4 = 6 coins which is not optimal.\n```\n\n**Example 2:**\n\n```\nInput: piles = [2,4,5]\nOutput: 4\n```\n\n**Example 3:**\n\n```\nInput: piles = [9,8,7,6,5,1,2,3,4]\nOutput: 18\n```\n\n\n\n## solution\n\n\n\nexample1*[1,2,2,4,7,8]*BobAliceAlice\n\n```java\npublic int maxCoins(int[] A) {\n    Arrays.sort(A);\n    int res = 0, n = A.length;\n    for (int i = n / 3; i < n; i += 2)\n        res += A[i];\n    return res;\n}\n```\n\n","source":"_posts/contest203.md","raw":"---\ntitle: contest203\ndate: 2020-08-23 12:22:22\ntags: LeetCode\n---\n\nLeetcode203\n\n<!--more-->\n\n# 1560. Most Visited Sector in a Circular Track\n\nGiven an integer `n` and an integer array `rounds`. We have a circular track which consists of `n` sectors labeled from `1` to `n`. A marathon will be held on this track, the marathon consists of `m` rounds. The `ith` round starts at sector `rounds[i - 1]` and ends at sector `rounds[i]`. For example, round 1 starts at sector `rounds[0]` and ends at sector `rounds[1]`\n\nReturn *an array of the most visited sectors* sorted in **ascending** order.\n\nNotice that you circulate the track in ascending order of sector numbers in the counter-clockwise direction (See the first example).\n\n**Example 1:**\n\n![img](https://assets.leetcode.com/uploads/2020/08/14/tmp.jpg)\n\n```\nInput: n = 4, rounds = [1,3,1,2]\nOutput: [1,2]\nExplanation: The marathon starts at sector 1. The order of the visited sectors is as follows:\n1 --> 2 --> 3 (end of round 1) --> 4 --> 1 (end of round 2) --> 2 (end of round 3 and the marathon)\nWe can see that both sectors 1 and 2 are visited twice and they are the most visited sectors. Sectors 3 and 4 are visited only once.\n```\n\n**Example 2:**\n\n```\nInput: n = 2, rounds = [2,1,2,1,2,1,2,1,2]\nOutput: [2]\n```\n\n**Example 3:**\n\n```\nInput: n = 7, rounds = [1,3,5,7]\nOutput: [1,2,3,4,5,6,7]\n```\n\n## solution\n\n`easy`sectors\n\n```java\npublic List<Integer> mostVisited(int n, int[] rounds) {\n    // \n    int f = rounds[0], t = rounds[rounds.length-1];\n    List<Integer> ret = new ArrayList<>();\n    for(int i = f;;){\n        ret.add(i);\n        if(i == t)break;\n        i++;\n        if(i == n+1)i = 1;\n    }\n    Collections.sort(ret);\n    return ret;\n}\n```\n\nemmmm\n\n```java\npublic List<Integer> mostVisited(int n, int[] A) {\n    List<Integer> res = new ArrayList<>();\n    for (int i = A[0]; i <= A[A.length - 1]; ++i)\n        res.add(i);\n    if (res.size() > 0) return res;\n    // start>end[1, end] + [start, n]\n    for (int i = 1; i <= A[A.length - 1]; ++i)\n        res.add(i);\n    for (int i = A[0]; i <= n; ++i)\n        res.add(i);\n    return res;\n}\n```\n\nsector\n\n- start<=end\\[start, end\\]\n- start>end\\[start, n\\]+\\[1, end\\]\n\n\n\n```java\npublic List<Integer> mostVisited(int n, int[] rounds) {\n    int len = rounds.length, fr = rounds[0], to = rounds[len - 1];\n    List<Integer> res = new ArrayList<>();\n    if (to >= fr) {     // no circle, such as [1,3,1,2]\n        for (int i = fr; i <= to; i++) res.add(i);\n    } else {            // cross a circle, such as [2,3,2,1]\n        // sector\n        for (int i = 1; i <= n; i++) {\n            // sector\n            if (i == to + 1) i = fr;\n            res.add(i);\n        }\n    }\n    return res;\n}\n```\n\n``nsectorround\n\n\n\n# 1561. Maximum Number of Coins You Can Get\n\nThere are 3n piles of coins of varying size, you and your friends will take piles of coins as follows:\n\n- In each step, you will choose **any** 3 piles of coins (not necessarily consecutive).\n- Of your choice, Alice will pick the pile with the maximum number of coins.\n- You will pick the next pile with maximum number of coins.\n- Your friend Bob will pick the last pile.\n- Repeat until there are no more piles of coins.\n\nGiven an array of integers `piles` where `piles[i]` is the number of coins in the `ith` pile.\n\nReturn the maximum number of coins which you can have.\n\n \n\n**Example 1:**\n\n```\nInput: piles = [2,4,1,2,7,8]\nOutput: 9\nExplanation: Choose the triplet (2, 7, 8), Alice Pick the pile with 8 coins, you the pile with 7 coins and Bob the last one.\nChoose the triplet (1, 2, 4), Alice Pick the pile with 4 coins, you the pile with 2 coins and Bob the last one.\nThe maximum number of coins which you can have are: 7 + 2 = 9.\nOn the other hand if we choose this arrangement (1, 2, 8), (2, 4, 7) you only get 2 + 4 = 6 coins which is not optimal.\n```\n\n**Example 2:**\n\n```\nInput: piles = [2,4,5]\nOutput: 4\n```\n\n**Example 3:**\n\n```\nInput: piles = [9,8,7,6,5,1,2,3,4]\nOutput: 18\n```\n\n\n\n## solution\n\n\n\nexample1*[1,2,2,4,7,8]*BobAliceAlice\n\n```java\npublic int maxCoins(int[] A) {\n    Arrays.sort(A);\n    int res = 0, n = A.length;\n    for (int i = n / 3; i < n; i += 2)\n        res += A[i];\n    return res;\n}\n```\n\n","slug":"contest203","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hg000bk7ih0kmw8iba","content":"<p>Leetcode203</p>\n<a id=\"more\"></a>\n\n<h1 id=\"1560-Most-Visited-Sector-in-a-Circular-Track\"><a href=\"#1560-Most-Visited-Sector-in-a-Circular-Track\" class=\"headerlink\" title=\"1560. Most Visited Sector in a Circular Track\"></a>1560. Most Visited Sector in a Circular Track</h1><p>Given an integer <code>n</code> and an integer array <code>rounds</code>. We have a circular track which consists of <code>n</code> sectors labeled from <code>1</code> to <code>n</code>. A marathon will be held on this track, the marathon consists of <code>m</code> rounds. The <code>ith</code> round starts at sector <code>rounds[i - 1]</code> and ends at sector <code>rounds[i]</code>. For example, round 1 starts at sector <code>rounds[0]</code> and ends at sector <code>rounds[1]</code></p>\n<p>Return <em>an array of the most visited sectors</em> sorted in <strong>ascending</strong> order.</p>\n<p>Notice that you circulate the track in ascending order of sector numbers in the counter-clockwise direction (See the first example).</p>\n<p><strong>Example 1:</strong></p>\n<p><img src=\"https://assets.leetcode.com/uploads/2020/08/14/tmp.jpg\" alt=\"img\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, rounds &#x3D; [1,3,1,2]</span><br><span class=\"line\">Output: [1,2]</span><br><span class=\"line\">Explanation: The marathon starts at sector 1. The order of the visited sectors is as follows:</span><br><span class=\"line\">1 --&gt; 2 --&gt; 3 (end of round 1) --&gt; 4 --&gt; 1 (end of round 2) --&gt; 2 (end of round 3 and the marathon)</span><br><span class=\"line\">We can see that both sectors 1 and 2 are visited twice and they are the most visited sectors. Sectors 3 and 4 are visited only once.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, rounds &#x3D; [2,1,2,1,2,1,2,1,2]</span><br><span class=\"line\">Output: [2]</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 7, rounds &#x3D; [1,3,5,7]</span><br><span class=\"line\">Output: [1,2,3,4,5,6,7]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution\"><a href=\"#solution\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p><code>easy</code>sectors</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] rounds)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> f = rounds[<span class=\"number\">0</span>], t = rounds[rounds.length-<span class=\"number\">1</span>];</span><br><span class=\"line\">    List&lt;Integer&gt; ret = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = f;;)&#123;</span><br><span class=\"line\">        ret.add(i);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i == t)<span class=\"keyword\">break</span>;</span><br><span class=\"line\">        i++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i == n+<span class=\"number\">1</span>)i = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Collections.sort(ret);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>emmmm</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">    List&lt;Integer&gt; res = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = A[<span class=\"number\">0</span>]; i &lt;= A[A.length - <span class=\"number\">1</span>]; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (res.size() &gt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    <span class=\"comment\">// start&gt;end[1, end] + [start, n]</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= A[A.length - <span class=\"number\">1</span>]; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = A[<span class=\"number\">0</span>]; i &lt;= n; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>sector</p>\n<ul>\n<li>start&lt;=end[start, end]</li>\n<li>start&gt;end[start, n]+[1, end]</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] rounds)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len = rounds.length, fr = rounds[<span class=\"number\">0</span>], to = rounds[len - <span class=\"number\">1</span>];</span><br><span class=\"line\">    List&lt;Integer&gt; res = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (to &gt;= fr) &#123;     <span class=\"comment\">// no circle, such as [1,3,1,2]</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = fr; i &lt;= to; i++) res.add(i);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;            <span class=\"comment\">// cross a circle, such as [2,3,2,1]</span></span><br><span class=\"line\">        <span class=\"comment\">// sector</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// sector</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i == to + <span class=\"number\">1</span>) i = fr;</span><br><span class=\"line\">            res.add(i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code></code>nsectorround</p>\n<h1 id=\"1561-Maximum-Number-of-Coins-You-Can-Get\"><a href=\"#1561-Maximum-Number-of-Coins-You-Can-Get\" class=\"headerlink\" title=\"1561. Maximum Number of Coins You Can Get\"></a>1561. Maximum Number of Coins You Can Get</h1><p>There are 3n piles of coins of varying size, you and your friends will take piles of coins as follows:</p>\n<ul>\n<li>In each step, you will choose <strong>any</strong> 3 piles of coins (not necessarily consecutive).</li>\n<li>Of your choice, Alice will pick the pile with the maximum number of coins.</li>\n<li>You will pick the next pile with maximum number of coins.</li>\n<li>Your friend Bob will pick the last pile.</li>\n<li>Repeat until there are no more piles of coins.</li>\n</ul>\n<p>Given an array of integers <code>piles</code> where <code>piles[i]</code> is the number of coins in the <code>ith</code> pile.</p>\n<p>Return the maximum number of coins which you can have.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [2,4,1,2,7,8]</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Explanation: Choose the triplet (2, 7, 8), Alice Pick the pile with 8 coins, you the pile with 7 coins and Bob the last one.</span><br><span class=\"line\">Choose the triplet (1, 2, 4), Alice Pick the pile with 4 coins, you the pile with 2 coins and Bob the last one.</span><br><span class=\"line\">The maximum number of coins which you can have are: 7 + 2 &#x3D; 9.</span><br><span class=\"line\">On the other hand if we choose this arrangement (1, 2, 8), (2, 4, 7) you only get 2 + 4 &#x3D; 6 coins which is not optimal.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [2,4,5]</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [9,8,7,6,5,1,2,3,4]</span><br><span class=\"line\">Output: 18</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"solution-1\"><a href=\"#solution-1\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p></p>\n<p>example1*[1,2,2,4,7,8]*BobAliceAlice</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxCoins</span><span class=\"params\">(<span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">    Arrays.sort(A);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> res = <span class=\"number\">0</span>, n = A.length;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = n / <span class=\"number\">3</span>; i &lt; n; i += <span class=\"number\">2</span>)</span><br><span class=\"line\">        res += A[i];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Leetcode203</p>","more":"<h1 id=\"1560-Most-Visited-Sector-in-a-Circular-Track\"><a href=\"#1560-Most-Visited-Sector-in-a-Circular-Track\" class=\"headerlink\" title=\"1560. Most Visited Sector in a Circular Track\"></a>1560. Most Visited Sector in a Circular Track</h1><p>Given an integer <code>n</code> and an integer array <code>rounds</code>. We have a circular track which consists of <code>n</code> sectors labeled from <code>1</code> to <code>n</code>. A marathon will be held on this track, the marathon consists of <code>m</code> rounds. The <code>ith</code> round starts at sector <code>rounds[i - 1]</code> and ends at sector <code>rounds[i]</code>. For example, round 1 starts at sector <code>rounds[0]</code> and ends at sector <code>rounds[1]</code></p>\n<p>Return <em>an array of the most visited sectors</em> sorted in <strong>ascending</strong> order.</p>\n<p>Notice that you circulate the track in ascending order of sector numbers in the counter-clockwise direction (See the first example).</p>\n<p><strong>Example 1:</strong></p>\n<p><img src=\"https://assets.leetcode.com/uploads/2020/08/14/tmp.jpg\" alt=\"img\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 4, rounds &#x3D; [1,3,1,2]</span><br><span class=\"line\">Output: [1,2]</span><br><span class=\"line\">Explanation: The marathon starts at sector 1. The order of the visited sectors is as follows:</span><br><span class=\"line\">1 --&gt; 2 --&gt; 3 (end of round 1) --&gt; 4 --&gt; 1 (end of round 2) --&gt; 2 (end of round 3 and the marathon)</span><br><span class=\"line\">We can see that both sectors 1 and 2 are visited twice and they are the most visited sectors. Sectors 3 and 4 are visited only once.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 2, rounds &#x3D; [2,1,2,1,2,1,2,1,2]</span><br><span class=\"line\">Output: [2]</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n &#x3D; 7, rounds &#x3D; [1,3,5,7]</span><br><span class=\"line\">Output: [1,2,3,4,5,6,7]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"solution\"><a href=\"#solution\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p><code>easy</code>sectors</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] rounds)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> f = rounds[<span class=\"number\">0</span>], t = rounds[rounds.length-<span class=\"number\">1</span>];</span><br><span class=\"line\">    List&lt;Integer&gt; ret = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i = f;;)&#123;</span><br><span class=\"line\">        ret.add(i);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i == t)<span class=\"keyword\">break</span>;</span><br><span class=\"line\">        i++;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i == n+<span class=\"number\">1</span>)i = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    Collections.sort(ret);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>emmmm</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">    List&lt;Integer&gt; res = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = A[<span class=\"number\">0</span>]; i &lt;= A[A.length - <span class=\"number\">1</span>]; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (res.size() &gt; <span class=\"number\">0</span>) <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    <span class=\"comment\">// start&gt;end[1, end] + [start, n]</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= A[A.length - <span class=\"number\">1</span>]; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = A[<span class=\"number\">0</span>]; i &lt;= n; ++i)</span><br><span class=\"line\">        res.add(i);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>sector</p>\n<ul>\n<li>start&lt;=end[start, end]</li>\n<li>start&gt;end[start, n]+[1, end]</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> List&lt;Integer&gt; <span class=\"title\">mostVisited</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">int</span>[] rounds)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> len = rounds.length, fr = rounds[<span class=\"number\">0</span>], to = rounds[len - <span class=\"number\">1</span>];</span><br><span class=\"line\">    List&lt;Integer&gt; res = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (to &gt;= fr) &#123;     <span class=\"comment\">// no circle, such as [1,3,1,2]</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = fr; i &lt;= to; i++) res.add(i);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;            <span class=\"comment\">// cross a circle, such as [2,3,2,1]</span></span><br><span class=\"line\">        <span class=\"comment\">// sector</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// sector</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i == to + <span class=\"number\">1</span>) i = fr;</span><br><span class=\"line\">            res.add(i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code></code>nsectorround</p>\n<h1 id=\"1561-Maximum-Number-of-Coins-You-Can-Get\"><a href=\"#1561-Maximum-Number-of-Coins-You-Can-Get\" class=\"headerlink\" title=\"1561. Maximum Number of Coins You Can Get\"></a>1561. Maximum Number of Coins You Can Get</h1><p>There are 3n piles of coins of varying size, you and your friends will take piles of coins as follows:</p>\n<ul>\n<li>In each step, you will choose <strong>any</strong> 3 piles of coins (not necessarily consecutive).</li>\n<li>Of your choice, Alice will pick the pile with the maximum number of coins.</li>\n<li>You will pick the next pile with maximum number of coins.</li>\n<li>Your friend Bob will pick the last pile.</li>\n<li>Repeat until there are no more piles of coins.</li>\n</ul>\n<p>Given an array of integers <code>piles</code> where <code>piles[i]</code> is the number of coins in the <code>ith</code> pile.</p>\n<p>Return the maximum number of coins which you can have.</p>\n<p><strong>Example 1:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [2,4,1,2,7,8]</span><br><span class=\"line\">Output: 9</span><br><span class=\"line\">Explanation: Choose the triplet (2, 7, 8), Alice Pick the pile with 8 coins, you the pile with 7 coins and Bob the last one.</span><br><span class=\"line\">Choose the triplet (1, 2, 4), Alice Pick the pile with 4 coins, you the pile with 2 coins and Bob the last one.</span><br><span class=\"line\">The maximum number of coins which you can have are: 7 + 2 &#x3D; 9.</span><br><span class=\"line\">On the other hand if we choose this arrangement (1, 2, 8), (2, 4, 7) you only get 2 + 4 &#x3D; 6 coins which is not optimal.</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 2:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [2,4,5]</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n\n<p><strong>Example 3:</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles &#x3D; [9,8,7,6,5,1,2,3,4]</span><br><span class=\"line\">Output: 18</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"solution-1\"><a href=\"#solution-1\" class=\"headerlink\" title=\"solution\"></a>solution</h2><p></p>\n<p>example1*[1,2,2,4,7,8]*BobAliceAlice</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">maxCoins</span><span class=\"params\">(<span class=\"keyword\">int</span>[] A)</span> </span>&#123;</span><br><span class=\"line\">    Arrays.sort(A);</span><br><span class=\"line\">    <span class=\"keyword\">int</span> res = <span class=\"number\">0</span>, n = A.length;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = n / <span class=\"number\">3</span>; i &lt; n; i += <span class=\"number\">2</span>)</span><br><span class=\"line\">        res += A[i];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"decorating","date":"2020-06-12T10:30:28.000Z","_content":"\n\n\n<!-- more -->\n\n# \n\n`Beverage`_cost()_HouseBlend, DarkRoast Decaf, Espresso... \n\n\n\n> \n\n\n\n# \n\n\n\n1. DarkRoast\n2. \n3. \n4. costdelegate\n\n\n\n# \n\n![Screenshot from 2020-06-12 20-50-33.png](https://i.loli.net/2020/06/12/jQwAkbz7V6n8dGK.png)\n\n\n\n`Condiment``Beverage``getDescription`Whip\n\n```java\npublic class Whip extends Condiment {\n    Beverage beverage;\n\n    public Whip(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + \", Whip\";\n    }\n\n    @Override\n    public double cost() {\n        return .30 + beverage.cost();\n    }\n}\n```\n\n_cost_description\n\n```java\nBeverage beverage1 = new DarRoast();\nbeverage1 = new Mocha(beverage1);\nbeverage1 = new Mocha(beverage1);\nbeverage1 = new Whip(beverage1);\nSystem.out.println(beverage1.getDescription() + \" $\" + beverage1.cost());\n```\n\n```console\nBrazil Dark Roast Coffee, Mocha, Mocha, Whip $2.75\n```\n\n****.\n\n# \n\n## Java I/O\n\n`Decorator Pattern`javaio0101_FileInputStream__Beverage__BufferedInputStream__Espresso__LineNumberInutStream__Mocha_\n\n```flow\npara1=>parallel: FileInputStream\npara2=>parallel: BufferedInputStream\npara3=>parallel: LineNumberInputStream\nop1=>operation: Beferage\nop2=>operation: Espresso\nop3=>operation: Mocha\npara1(path1, bottom)->para2\npara2(path1,bottom)->para3\npara1(path2, right)->op1\npara2(path2, right)->op2\npara3(path2, right)->op3\n```\n\n","source":"_posts/decorating.md","raw":"---\ntitle: decorating\ndate: 2020-06-12 18:30:28\ncategories: DesignPatterns\ntags: design_patterns\n---\n\n\n\n<!-- more -->\n\n# \n\n`Beverage`_cost()_HouseBlend, DarkRoast Decaf, Espresso... \n\n\n\n> \n\n\n\n# \n\n\n\n1. DarkRoast\n2. \n3. \n4. costdelegate\n\n\n\n# \n\n![Screenshot from 2020-06-12 20-50-33.png](https://i.loli.net/2020/06/12/jQwAkbz7V6n8dGK.png)\n\n\n\n`Condiment``Beverage``getDescription`Whip\n\n```java\npublic class Whip extends Condiment {\n    Beverage beverage;\n\n    public Whip(Beverage beverage) {\n        this.beverage = beverage;\n    }\n\n    @Override\n    public String getDescription() {\n        return beverage.getDescription() + \", Whip\";\n    }\n\n    @Override\n    public double cost() {\n        return .30 + beverage.cost();\n    }\n}\n```\n\n_cost_description\n\n```java\nBeverage beverage1 = new DarRoast();\nbeverage1 = new Mocha(beverage1);\nbeverage1 = new Mocha(beverage1);\nbeverage1 = new Whip(beverage1);\nSystem.out.println(beverage1.getDescription() + \" $\" + beverage1.cost());\n```\n\n```console\nBrazil Dark Roast Coffee, Mocha, Mocha, Whip $2.75\n```\n\n****.\n\n# \n\n## Java I/O\n\n`Decorator Pattern`javaio0101_FileInputStream__Beverage__BufferedInputStream__Espresso__LineNumberInutStream__Mocha_\n\n```flow\npara1=>parallel: FileInputStream\npara2=>parallel: BufferedInputStream\npara3=>parallel: LineNumberInputStream\nop1=>operation: Beferage\nop2=>operation: Espresso\nop3=>operation: Mocha\npara1(path1, bottom)->para2\npara2(path1,bottom)->para3\npara1(path2, right)->op1\npara2(path2, right)->op2\npara3(path2, right)->op3\n```\n\n","slug":"decorating","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hj000gk7ih99uvhiff","content":"<p></p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Beverage</code>_cost()_HouseBlend, DarkRoast Decaf, Espresso </p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li>DarkRoast</li>\n<li></li>\n<li></li>\n<li>costdelegate</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/06/12/jQwAkbz7V6n8dGK.png\" alt=\"Screenshot from 2020-06-12 20-50-33.png\"></p>\n<p><code>Condiment</code><code>Beverage</code><code>getDescription</code>Whip</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Whip</span> <span class=\"keyword\">extends</span> <span class=\"title\">Condiment</span> </span>&#123;</span><br><span class=\"line\">    Beverage beverage;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Whip</span><span class=\"params\">(Beverage beverage)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.beverage = beverage;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getDescription</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> beverage.getDescription() + <span class=\"string\">&quot;, Whip&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">cost</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">.30</span> + beverage.cost();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>_cost_description</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Beverage beverage1 = <span class=\"keyword\">new</span> DarRoast();</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Mocha(beverage1);</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Mocha(beverage1);</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Whip(beverage1);</span><br><span class=\"line\">System.out.println(beverage1.getDescription() + <span class=\"string\">&quot; $&quot;</span> + beverage1.cost());</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Brazil Dark Roast Coffee, Mocha, Mocha, Whip $2.75</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong>.</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Java-I-O\"><a href=\"#Java-I-O\" class=\"headerlink\" title=\"Java I/O\"></a>Java I/O</h2><p><code>Decorator Pattern</code>javaio0101_FileInputStream__Beverage__BufferedInputStream__Espresso__LineNumberInutStream__Mocha_</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">para1&#x3D;&gt;parallel: FileInputStream</span><br><span class=\"line\">para2&#x3D;&gt;parallel: BufferedInputStream</span><br><span class=\"line\">para3&#x3D;&gt;parallel: LineNumberInputStream</span><br><span class=\"line\">op1&#x3D;&gt;operation: Beferage</span><br><span class=\"line\">op2&#x3D;&gt;operation: Espresso</span><br><span class=\"line\">op3&#x3D;&gt;operation: Mocha</span><br><span class=\"line\">para1(path1, bottom)-&gt;para2</span><br><span class=\"line\">para2(path1,bottom)-&gt;para3</span><br><span class=\"line\">para1(path2, right)-&gt;op1</span><br><span class=\"line\">para2(path2, right)-&gt;op2</span><br><span class=\"line\">para3(path2, right)-&gt;op3</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p></p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code>Beverage</code>_cost()_HouseBlend, DarkRoast Decaf, Espresso </p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<ol>\n<li>DarkRoast</li>\n<li></li>\n<li></li>\n<li>costdelegate</li>\n</ol>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/06/12/jQwAkbz7V6n8dGK.png\" alt=\"Screenshot from 2020-06-12 20-50-33.png\"></p>\n<p><code>Condiment</code><code>Beverage</code><code>getDescription</code>Whip</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Whip</span> <span class=\"keyword\">extends</span> <span class=\"title\">Condiment</span> </span>&#123;</span><br><span class=\"line\">    Beverage beverage;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Whip</span><span class=\"params\">(Beverage beverage)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.beverage = beverage;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getDescription</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> beverage.getDescription() + <span class=\"string\">&quot;, Whip&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">cost</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">.30</span> + beverage.cost();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>_cost_description</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Beverage beverage1 = <span class=\"keyword\">new</span> DarRoast();</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Mocha(beverage1);</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Mocha(beverage1);</span><br><span class=\"line\">beverage1 = <span class=\"keyword\">new</span> Whip(beverage1);</span><br><span class=\"line\">System.out.println(beverage1.getDescription() + <span class=\"string\">&quot; $&quot;</span> + beverage1.cost());</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight console\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Brazil Dark Roast Coffee, Mocha, Mocha, Whip $2.75</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong>.</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Java-I-O\"><a href=\"#Java-I-O\" class=\"headerlink\" title=\"Java I/O\"></a>Java I/O</h2><p><code>Decorator Pattern</code>javaio0101_FileInputStream__Beverage__BufferedInputStream__Espresso__LineNumberInutStream__Mocha_</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">para1&#x3D;&gt;parallel: FileInputStream</span><br><span class=\"line\">para2&#x3D;&gt;parallel: BufferedInputStream</span><br><span class=\"line\">para3&#x3D;&gt;parallel: LineNumberInputStream</span><br><span class=\"line\">op1&#x3D;&gt;operation: Beferage</span><br><span class=\"line\">op2&#x3D;&gt;operation: Espresso</span><br><span class=\"line\">op3&#x3D;&gt;operation: Mocha</span><br><span class=\"line\">para1(path1, bottom)-&gt;para2</span><br><span class=\"line\">para2(path1,bottom)-&gt;para3</span><br><span class=\"line\">para1(path2, right)-&gt;op1</span><br><span class=\"line\">para2(path2, right)-&gt;op2</span><br><span class=\"line\">para3(path2, right)-&gt;op3</span><br></pre></td></tr></table></figure>"},{"title":"hashmap","date":"2020-08-20T15:04:30.000Z","_content":"\nJava Hashmap. jdk8. \n\n\n\n<!--more-->\n\n# Example\n\n```java\nMap<String, Object> map = new HashMap<>();\nmap.put(\"name\", \"Gloria\");\nmap.put(\"age\", 3);\nmap.put(\"wage\", 539.8);\nSystem.out.println(map);\n```\n\n`put`\n\n## \n\nHashMapmap\n\n```java\nMap<String, Object> map1 = new HashMap<>(map); // map\n```\n\n\n\n```java\n    /**\n     * The load factor for the hash table.\n     *\n     * @serial\n     */\n    final float loadFactor;\n```\n\nHashMap`0.75`,\n\n```java\nMap<String, Object> map = new HashMap<>(16);\n```\n\nmap****12`0.75`,****\n\n## put\n\n```java\n/**\n * Implements Map.put and related methods.\n *\n * @param hash hash for key\n * @param key the key\n * @param value the value to put\n * @param onlyIfAbsent if true, don't change existing value\n * @param evict if false, the table is in creation mode.\n * @return previous value, or null if none\n */\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    return putVal(hash(key), key, value, false, true);\n}key\n```\n\nputhashhashkeyhashhash\n\n```java\nstatic final int hash(Object key) {\n    int h;\n    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n}\n```\n\neasykeynull0hashmapkeynull,keynull****:\n\n- ^ (0)\n- \\>\\>\\> 0\n\nhkeyhashCodekeyhashcodeObject`native`h16\n\n`table``Noe<K,V> []`Node\n\n\n\n# Node\n\nHahsMap\n\n```java\n /**\n  * Basic hash bin node, used for most entries.  (See below for\n  * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)\n  */\nstatic class Node<K,V> implements Map.Entry<K,V> {\n    final int hash; // \n    final K key;\n    V value;\n    Node<K,V> next; // Node\n\n    Node(int hash, K key, V value, Node<K,V> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n    \n    // get, set equals ...\n}\n```\n\n-  `Node<K, V> next`\n- `table`Node+\n- `Map.Entry<K, V>`k-v\n- `next``hash`, `key`, `value`\n\n\n\n# \n\n\n\n=+`Node<K, V>``Node<K, V> []`hashmap`+`\n\nhashmap****`table`****\n\n```java\n/**\n  * The number of key-value mappings contained in this map.\n  */\ntransient int size;\n\n/**\n  * The number of times this HashMap has been structurally modified\n  * Structural modifications are those that change the number of mappings in\n  * the HashMap or otherwise modify its internal structure (e.g.,\n  * rehash).  This field is used to make iterators on Collection-views of\n  * the HashMap fail-fast.  (See ConcurrentModificationException).\n  */\ntransient int modCount;\n\n/**\n  * The next size value at which to resize (capacity * load factor).\n  *\n  * @serial\n  */\n// (The javadoc description is true upon serialization.\n// Additionally, if the table array has not been allocated, this\n// field holds the initial array capacity, or zero signifying\n// DEFAULT_INITIAL_CAPACITY.)\nint threshold;\n\n/**\n  * The load factor for the hash table.\n  *\n  * @serial\n  */\nfinal float loadFactor;\n```\n\n`threshold`k-vNode<K,V>[] tablelength16, loadFactor0.75,\n\n> threshold = loadFactor * length\n\ntableNode`threshold`12.Node12 16,12,1.\n\nsizeNode\n\nHashMaptable2n****\n\n- 2n````\n\nHashTable`initialCapacity`11. jdk8****8hashmap\n\n\n\n# \n\nhahsmapk-vNodetablekeyhashtableindex uhash\n\n> keyhashCode\n\nkeyhashCodehashNode hashmap\n\n```java\nif ((p = tab[i = (n - 1) & hash]) == null)\n            tab[i] = newNode(hash, key, value, null);\n```\n\nnhashkeyn2n`(n-1)&hash`length`%`\n\n \n\n# put\n\n```java\n/**\n * Implements Map.put and related methods.\n *\n * @param hash hash for key\n * @param key the key\n * @param value the value to put\n * @param onlyIfAbsent if true, don't change existing value\n * @param evict if false, the table is in creation mode.\n * @return previous value, or null if none\n */\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node<K,V>[] tab; Node<K,V> p; int n, i;\n    // table\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    // null\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node<K,V> e; K k;\n        // keyugovalue\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            e = p;\n        // \n        else if (p instanceof TreeNode)\n            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);\n        else {\n            // table\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {\n                    // \n                    p.next = newNode(hash, key, value, null);\n                    // 8\n                    if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) { // existing mapping for key\n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;\n            afterNodeAccess(e);\n            return oldValue;\n        }\n    }\n    ++modCount;\n    // \n    if (++size > threshold)\n        resize();\n    afterNodeInsertion(evict);\n    return null;\n}\n```\n\n\n\n# \n\nHashMapArrayListHashMapNode\n\n> note: HashMap\n\n```java\n/**\n * Initializes or doubles table size.  If null, allocates in\n * accord with initial capacity target held in field threshold.\n * Otherwise, because we are using power-of-two expansion, the\n * elements from each bin must either stay at same index, or move\n * with a power of two offset in the new table.\n *\n * @return the table\n */\nfinal Node<K,V>[] resize() {\n    Node<K,V>[] oldTab = table;\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    if (oldCap > 0) {\n        // let it go\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        // X2\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                 oldCap >= DEFAULT_INITIAL_CAPACITY)\n            newThr = oldThr << 1; // double threshold\n    }\n    else if (oldThr > 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    else {               // zero initial threshold signifies using defaults\n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    // resize\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n    Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    if (oldTab != null) {\n        // \n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n\n","source":"_posts/hashmap.md","raw":"---\ntitle: hashmap\ndate: 2020-08-20 23:04:30\ncategories: Java\ntags: hashmap, data structure\n---\n\nJava Hashmap. jdk8. \n\n\n\n<!--more-->\n\n# Example\n\n```java\nMap<String, Object> map = new HashMap<>();\nmap.put(\"name\", \"Gloria\");\nmap.put(\"age\", 3);\nmap.put(\"wage\", 539.8);\nSystem.out.println(map);\n```\n\n`put`\n\n## \n\nHashMapmap\n\n```java\nMap<String, Object> map1 = new HashMap<>(map); // map\n```\n\n\n\n```java\n    /**\n     * The load factor for the hash table.\n     *\n     * @serial\n     */\n    final float loadFactor;\n```\n\nHashMap`0.75`,\n\n```java\nMap<String, Object> map = new HashMap<>(16);\n```\n\nmap****12`0.75`,****\n\n## put\n\n```java\n/**\n * Implements Map.put and related methods.\n *\n * @param hash hash for key\n * @param key the key\n * @param value the value to put\n * @param onlyIfAbsent if true, don't change existing value\n * @param evict if false, the table is in creation mode.\n * @return previous value, or null if none\n */\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    return putVal(hash(key), key, value, false, true);\n}key\n```\n\nputhashhashkeyhashhash\n\n```java\nstatic final int hash(Object key) {\n    int h;\n    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);\n}\n```\n\neasykeynull0hashmapkeynull,keynull****:\n\n- ^ (0)\n- \\>\\>\\> 0\n\nhkeyhashCodekeyhashcodeObject`native`h16\n\n`table``Noe<K,V> []`Node\n\n\n\n# Node\n\nHahsMap\n\n```java\n /**\n  * Basic hash bin node, used for most entries.  (See below for\n  * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)\n  */\nstatic class Node<K,V> implements Map.Entry<K,V> {\n    final int hash; // \n    final K key;\n    V value;\n    Node<K,V> next; // Node\n\n    Node(int hash, K key, V value, Node<K,V> next) {\n        this.hash = hash;\n        this.key = key;\n        this.value = value;\n        this.next = next;\n    }\n    \n    // get, set equals ...\n}\n```\n\n-  `Node<K, V> next`\n- `table`Node+\n- `Map.Entry<K, V>`k-v\n- `next``hash`, `key`, `value`\n\n\n\n# \n\n\n\n=+`Node<K, V>``Node<K, V> []`hashmap`+`\n\nhashmap****`table`****\n\n```java\n/**\n  * The number of key-value mappings contained in this map.\n  */\ntransient int size;\n\n/**\n  * The number of times this HashMap has been structurally modified\n  * Structural modifications are those that change the number of mappings in\n  * the HashMap or otherwise modify its internal structure (e.g.,\n  * rehash).  This field is used to make iterators on Collection-views of\n  * the HashMap fail-fast.  (See ConcurrentModificationException).\n  */\ntransient int modCount;\n\n/**\n  * The next size value at which to resize (capacity * load factor).\n  *\n  * @serial\n  */\n// (The javadoc description is true upon serialization.\n// Additionally, if the table array has not been allocated, this\n// field holds the initial array capacity, or zero signifying\n// DEFAULT_INITIAL_CAPACITY.)\nint threshold;\n\n/**\n  * The load factor for the hash table.\n  *\n  * @serial\n  */\nfinal float loadFactor;\n```\n\n`threshold`k-vNode<K,V>[] tablelength16, loadFactor0.75,\n\n> threshold = loadFactor * length\n\ntableNode`threshold`12.Node12 16,12,1.\n\nsizeNode\n\nHashMaptable2n****\n\n- 2n````\n\nHashTable`initialCapacity`11. jdk8****8hashmap\n\n\n\n# \n\nhahsmapk-vNodetablekeyhashtableindex uhash\n\n> keyhashCode\n\nkeyhashCodehashNode hashmap\n\n```java\nif ((p = tab[i = (n - 1) & hash]) == null)\n            tab[i] = newNode(hash, key, value, null);\n```\n\nnhashkeyn2n`(n-1)&hash`length`%`\n\n \n\n# put\n\n```java\n/**\n * Implements Map.put and related methods.\n *\n * @param hash hash for key\n * @param key the key\n * @param value the value to put\n * @param onlyIfAbsent if true, don't change existing value\n * @param evict if false, the table is in creation mode.\n * @return previous value, or null if none\n */\nfinal V putVal(int hash, K key, V value, boolean onlyIfAbsent,\n               boolean evict) {\n    Node<K,V>[] tab; Node<K,V> p; int n, i;\n    // table\n    if ((tab = table) == null || (n = tab.length) == 0)\n        n = (tab = resize()).length;\n    // null\n    if ((p = tab[i = (n - 1) & hash]) == null)\n        tab[i] = newNode(hash, key, value, null);\n    else {\n        Node<K,V> e; K k;\n        // keyugovalue\n        if (p.hash == hash &&\n            ((k = p.key) == key || (key != null && key.equals(k))))\n            e = p;\n        // \n        else if (p instanceof TreeNode)\n            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);\n        else {\n            // table\n            for (int binCount = 0; ; ++binCount) {\n                if ((e = p.next) == null) {\n                    // \n                    p.next = newNode(hash, key, value, null);\n                    // 8\n                    if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st\n                        treeifyBin(tab, hash);\n                    break;\n                }\n                if (e.hash == hash &&\n                    ((k = e.key) == key || (key != null && key.equals(k))))\n                    break;\n                p = e;\n            }\n        }\n        if (e != null) { // existing mapping for key\n            V oldValue = e.value;\n            if (!onlyIfAbsent || oldValue == null)\n                e.value = value;\n            afterNodeAccess(e);\n            return oldValue;\n        }\n    }\n    ++modCount;\n    // \n    if (++size > threshold)\n        resize();\n    afterNodeInsertion(evict);\n    return null;\n}\n```\n\n\n\n# \n\nHashMapArrayListHashMapNode\n\n> note: HashMap\n\n```java\n/**\n * Initializes or doubles table size.  If null, allocates in\n * accord with initial capacity target held in field threshold.\n * Otherwise, because we are using power-of-two expansion, the\n * elements from each bin must either stay at same index, or move\n * with a power of two offset in the new table.\n *\n * @return the table\n */\nfinal Node<K,V>[] resize() {\n    Node<K,V>[] oldTab = table;\n    int oldCap = (oldTab == null) ? 0 : oldTab.length;\n    int oldThr = threshold;\n    int newCap, newThr = 0;\n    if (oldCap > 0) {\n        // let it go\n        if (oldCap >= MAXIMUM_CAPACITY) {\n            threshold = Integer.MAX_VALUE;\n            return oldTab;\n        }\n        // X2\n        else if ((newCap = oldCap << 1) < MAXIMUM_CAPACITY &&\n                 oldCap >= DEFAULT_INITIAL_CAPACITY)\n            newThr = oldThr << 1; // double threshold\n    }\n    else if (oldThr > 0) // initial capacity was placed in threshold\n        newCap = oldThr;\n    else {               // zero initial threshold signifies using defaults\n        newCap = DEFAULT_INITIAL_CAPACITY;\n        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);\n    }\n    // resize\n    if (newThr == 0) {\n        float ft = (float)newCap * loadFactor;\n        newThr = (newCap < MAXIMUM_CAPACITY && ft < (float)MAXIMUM_CAPACITY ?\n                  (int)ft : Integer.MAX_VALUE);\n    }\n    threshold = newThr;\n    @SuppressWarnings({\"rawtypes\",\"unchecked\"})\n    Node<K,V>[] newTab = (Node<K,V>[])new Node[newCap];\n    table = newTab;\n    if (oldTab != null) {\n        // \n        for (int j = 0; j < oldCap; ++j) {\n            Node<K,V> e;\n            if ((e = oldTab[j]) != null) {\n                oldTab[j] = null;\n                if (e.next == null)\n                    newTab[e.hash & (newCap - 1)] = e;\n                else if (e instanceof TreeNode)\n                    ((TreeNode<K,V>)e).split(this, newTab, j, oldCap);\n                else { // preserve order\n                    Node<K,V> loHead = null, loTail = null;\n                    Node<K,V> hiHead = null, hiTail = null;\n                    Node<K,V> next;\n                    do {\n                        next = e.next;\n                        if ((e.hash & oldCap) == 0) {\n                            if (loTail == null)\n                                loHead = e;\n                            else\n                                loTail.next = e;\n                            loTail = e;\n                        }\n                        else {\n                            if (hiTail == null)\n                                hiHead = e;\n                            else\n                                hiTail.next = e;\n                            hiTail = e;\n                        }\n                    } while ((e = next) != null);\n                    if (loTail != null) {\n                        loTail.next = null;\n                        newTab[j] = loHead;\n                    }\n                    if (hiTail != null) {\n                        hiTail.next = null;\n                        newTab[j + oldCap] = hiHead;\n                    }\n                }\n            }\n        }\n    }\n    return newTab;\n}\n```\n\n","slug":"hashmap","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hm000ik7ih8grfhtuz","content":"<p>Java Hashmap. jdk8. </p>\n<p></p>\n<a id=\"more\"></a>\n\n<h1 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;name&quot;</span>, <span class=\"string\">&quot;Gloria&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;age&quot;</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;wage&quot;</span>, <span class=\"number\">539.8</span>);</span><br><span class=\"line\">System.out.println(map);</span><br></pre></td></tr></table></figure>\n\n<p><code>put</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HashMapmap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map1 = <span class=\"keyword\">new</span> HashMap&lt;&gt;(map); <span class=\"comment\">// map</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * The load factor for the hash table.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">float</span> loadFactor;</span><br></pre></td></tr></table></figure>\n\n<p>HashMap<code>0.75</code>,</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;(<span class=\"number\">16</span>);</span><br></pre></td></tr></table></figure>\n\n<p>map<strong></strong>12<code>0.75</code>,<strong></strong></p>\n<h2 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put\"></a>put</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Implements Map.put and related methods.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> hash hash for key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> key the key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> value the value to put</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> onlyIfAbsent if true, don&#x27;t change existing value</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> evict if false, the table is in creation mode.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> previous value, or null if none</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">final</span> V <span class=\"title\">putVal</span><span class=\"params\">(<span class=\"keyword\">int</span> hash, K key, V value, <span class=\"keyword\">boolean</span> onlyIfAbsent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">               <span class=\"keyword\">boolean</span> evict)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> putVal(hash(key), key, value, <span class=\"keyword\">false</span>, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">&#125;key</span><br></pre></td></tr></table></figure>\n\n<p>puthashhashkeyhashhash</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">hash</span><span class=\"params\">(Object key)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> h;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (key == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class=\"number\">16</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>easykeynull0hashmapkeynull,keynull<strong></strong>:</p>\n<ul>\n<li>^ (0)</li>\n<li>&gt;&gt;&gt; 0</li>\n</ul>\n<p>hkeyhashCodekeyhashcodeObject<code>native</code>h16</p>\n<p><code>table</code><code>Noe&lt;K,V&gt; []</code>Node</p>\n<h1 id=\"Node\"><a href=\"#Node\" class=\"headerlink\" title=\"Node\"></a>Node</h1><p>HahsMap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * Basic hash bin node, used for most entries.  (See below for</span></span><br><span class=\"line\"><span class=\"comment\">  * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span>&lt;<span class=\"title\">K</span>,<span class=\"title\">V</span>&gt; <span class=\"keyword\">implements</span> <span class=\"title\">Map</span>.<span class=\"title\">Entry</span>&lt;<span class=\"title\">K</span>,<span class=\"title\">V</span>&gt; </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> hash; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> K key;</span><br><span class=\"line\">    V value;</span><br><span class=\"line\">    Node&lt;K,V&gt; next; <span class=\"comment\">// Node</span></span><br><span class=\"line\"></span><br><span class=\"line\">    Node(<span class=\"keyword\">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.hash = hash;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.next = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// get, set equals ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li> <code>Node&lt;K, V&gt; next</code></li>\n<li><code>table</code>Node+</li>\n<li><code>Map.Entry&lt;K, V&gt;</code>k-v</li>\n<li><code>next</code><code>hash</code>, <code>key</code>, <code>value</code></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>=+<code>Node&lt;K, V&gt;</code><code>Node&lt;K, V&gt; []</code>hashmap<code>+</code></p>\n<p>hashmap<strong></strong><code>table</code><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The number of key-value mappings contained in this map.</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">transient</span> <span class=\"keyword\">int</span> size;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The number of times this HashMap has been structurally modified</span></span><br><span class=\"line\"><span class=\"comment\">  * Structural modifications are those that change the number of mappings in</span></span><br><span class=\"line\"><span class=\"comment\">  * the HashMap or otherwise modify its internal structure (e.g.,</span></span><br><span class=\"line\"><span class=\"comment\">  * rehash).  This field is used to make iterators on Collection-views of</span></span><br><span class=\"line\"><span class=\"comment\">  * the HashMap fail-fast.  (See ConcurrentModificationException).</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">transient</span> <span class=\"keyword\">int</span> modCount;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The next size value at which to resize (capacity * load factor).</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"comment\">// (The javadoc description is true upon serialization.</span></span><br><span class=\"line\"><span class=\"comment\">// Additionally, if the table array has not been allocated, this</span></span><br><span class=\"line\"><span class=\"comment\">// field holds the initial array capacity, or zero signifying</span></span><br><span class=\"line\"><span class=\"comment\">// DEFAULT_INITIAL_CAPACITY.)</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> threshold;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The load factor for the hash table.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">float</span> loadFactor;</span><br></pre></td></tr></table></figure>\n\n<p><code>threshold</code>k-vNode&lt;K,V&gt;[] tablelength16, loadFactor0.75,</p>\n<blockquote>\n<p>threshold = loadFactor * length</p>\n</blockquote>\n<p>tableNode<code>threshold</code>12.Node12 16,12,1.</p>\n<p>sizeNode</p>\n<p>HashMaptable2n<strong></strong></p>\n<ul>\n<li>2n<code></code><code></code></li>\n</ul>\n<p>HashTable<code>initialCapacity</code>11. jdk8<strong></strong>8hashmap</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hahsmapk-vNodetablekeyhashtableindex uhash</p>\n<blockquote>\n<p>keyhashCode</p>\n</blockquote>\n<p>keyhashCodehashNode hashmap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ((p = tab[i = (n - <span class=\"number\">1</span>) &amp; hash]) == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            tab[i] = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>nhashkeyn2n<code>(n-1)&amp;hash</code>length<code>%</code></p>\n<h1 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put\"></a>put</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Implements Map.put and related methods.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> hash hash for key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> key the key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> value the value to put</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> onlyIfAbsent if true, don&#x27;t change existing value</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> evict if false, the table is in creation mode.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> previous value, or null if none</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">final</span> V <span class=\"title\">putVal</span><span class=\"params\">(<span class=\"keyword\">int</span> hash, K key, V value, <span class=\"keyword\">boolean</span> onlyIfAbsent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">               <span class=\"keyword\">boolean</span> evict)</span> </span>&#123;</span><br><span class=\"line\">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class=\"keyword\">int</span> n, i;</span><br><span class=\"line\">    <span class=\"comment\">// table</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((tab = table) == <span class=\"keyword\">null</span> || (n = tab.length) == <span class=\"number\">0</span>)</span><br><span class=\"line\">        n = (tab = resize()).length;</span><br><span class=\"line\">    <span class=\"comment\">// null</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((p = tab[i = (n - <span class=\"number\">1</span>) &amp; hash]) == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">        tab[i] = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        Node&lt;K,V&gt; e; K k;</span><br><span class=\"line\">        <span class=\"comment\">// keyugovalue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (p.hash == hash &amp;&amp;</span><br><span class=\"line\">            ((k = p.key) == key || (key != <span class=\"keyword\">null</span> &amp;&amp; key.equals(k))))</span><br><span class=\"line\">            e = p;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (p <span class=\"keyword\">instanceof</span> TreeNode)</span><br><span class=\"line\">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class=\"keyword\">this</span>, tab, hash, key, value);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// table</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> binCount = <span class=\"number\">0</span>; ; ++binCount) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> ((e = p.next) == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    p.next = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">                    <span class=\"comment\">// 8</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class=\"number\">1</span>) <span class=\"comment\">// -1 for 1st</span></span><br><span class=\"line\">                        treeifyBin(tab, hash);</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (e.hash == hash &amp;&amp;</span><br><span class=\"line\">                    ((k = e.key) == key || (key != <span class=\"keyword\">null</span> &amp;&amp; key.equals(k))))</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                p = e;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e != <span class=\"keyword\">null</span>) &#123; <span class=\"comment\">// existing mapping for key</span></span><br><span class=\"line\">            V oldValue = e.value;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!onlyIfAbsent || oldValue == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                e.value = value;</span><br><span class=\"line\">            afterNodeAccess(e);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> oldValue;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ++modCount;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (++size &gt; threshold)</span><br><span class=\"line\">        resize();</span><br><span class=\"line\">    afterNodeInsertion(evict);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>HashMapArrayListHashMapNode</p>\n<blockquote>\n<p>note: HashMap</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Initializes or doubles table size.  If null, allocates in</span></span><br><span class=\"line\"><span class=\"comment\"> * accord with initial capacity target held in field threshold.</span></span><br><span class=\"line\"><span class=\"comment\"> * Otherwise, because we are using power-of-two expansion, the</span></span><br><span class=\"line\"><span class=\"comment\"> * elements from each bin must either stay at same index, or move</span></span><br><span class=\"line\"><span class=\"comment\"> * with a power of two offset in the new table.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> the table</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class=\"line\">    Node&lt;K,V&gt;[] oldTab = table;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> oldCap = (oldTab == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : oldTab.length;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> oldThr = threshold;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> newCap, newThr = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldCap &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// let it go</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class=\"line\">            threshold = Integer.MAX_VALUE;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> oldTab;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// X2</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ((newCap = oldCap &lt;&lt; <span class=\"number\">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class=\"line\">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class=\"line\">            newThr = oldThr &lt;&lt; <span class=\"number\">1</span>; <span class=\"comment\">// double threshold</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldThr &gt; <span class=\"number\">0</span>) <span class=\"comment\">// initial capacity was placed in threshold</span></span><br><span class=\"line\">        newCap = oldThr;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;               <span class=\"comment\">// zero initial threshold signifies using defaults</span></span><br><span class=\"line\">        newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class=\"line\">        newThr = (<span class=\"keyword\">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// resize</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newThr == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">float</span> ft = (<span class=\"keyword\">float</span>)newCap * loadFactor;</span><br><span class=\"line\">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class=\"keyword\">float</span>)MAXIMUM_CAPACITY ?</span><br><span class=\"line\">                  (<span class=\"keyword\">int</span>)ft : Integer.MAX_VALUE);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    threshold = newThr;</span><br><span class=\"line\">    <span class=\"meta\">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class=\"line\">    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class=\"keyword\">new</span> Node[newCap];</span><br><span class=\"line\">    table = newTab;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldTab != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class=\"line\">            Node&lt;K,V&gt; e;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((e = oldTab[j]) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                oldTab[j] = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (e.next == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                    newTab[e.hash &amp; (newCap - <span class=\"number\">1</span>)] = e;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> TreeNode)</span><br><span class=\"line\">                    ((TreeNode&lt;K,V&gt;)e).split(<span class=\"keyword\">this</span>, newTab, j, oldCap);</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// preserve order</span></span><br><span class=\"line\">                    Node&lt;K,V&gt; loHead = <span class=\"keyword\">null</span>, loTail = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    Node&lt;K,V&gt; hiHead = <span class=\"keyword\">null</span>, hiTail = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    Node&lt;K,V&gt; next;</span><br><span class=\"line\">                    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">                        next = e.next;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> ((e.hash &amp; oldCap) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span> (loTail == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                                loHead = e;</span><br><span class=\"line\">                            <span class=\"keyword\">else</span></span><br><span class=\"line\">                                loTail.next = e;</span><br><span class=\"line\">                            loTail = e;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span> (hiTail == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                                hiHead = e;</span><br><span class=\"line\">                            <span class=\"keyword\">else</span></span><br><span class=\"line\">                                hiTail.next = e;</span><br><span class=\"line\">                            hiTail = e;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">while</span> ((e = next) != <span class=\"keyword\">null</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (loTail != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        loTail.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                        newTab[j] = loHead;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (hiTail != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        hiTail.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                        newTab[j + oldCap] = hiHead;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> newTab;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Java Hashmap. jdk8. </p>\n<p></p>","more":"<h1 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;();</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;name&quot;</span>, <span class=\"string\">&quot;Gloria&quot;</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;age&quot;</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">map.put(<span class=\"string\">&quot;wage&quot;</span>, <span class=\"number\">539.8</span>);</span><br><span class=\"line\">System.out.println(map);</span><br></pre></td></tr></table></figure>\n\n<p><code>put</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>HashMapmap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map1 = <span class=\"keyword\">new</span> HashMap&lt;&gt;(map); <span class=\"comment\">// map</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * The load factor for the hash table.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">float</span> loadFactor;</span><br></pre></td></tr></table></figure>\n\n<p>HashMap<code>0.75</code>,</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;String, Object&gt; map = <span class=\"keyword\">new</span> HashMap&lt;&gt;(<span class=\"number\">16</span>);</span><br></pre></td></tr></table></figure>\n\n<p>map<strong></strong>12<code>0.75</code>,<strong></strong></p>\n<h2 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put\"></a>put</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Implements Map.put and related methods.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> hash hash for key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> key the key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> value the value to put</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> onlyIfAbsent if true, don&#x27;t change existing value</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> evict if false, the table is in creation mode.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> previous value, or null if none</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">final</span> V <span class=\"title\">putVal</span><span class=\"params\">(<span class=\"keyword\">int</span> hash, K key, V value, <span class=\"keyword\">boolean</span> onlyIfAbsent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">               <span class=\"keyword\">boolean</span> evict)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> putVal(hash(key), key, value, <span class=\"keyword\">false</span>, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">&#125;key</span><br></pre></td></tr></table></figure>\n\n<p>puthashhashkeyhashhash</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">hash</span><span class=\"params\">(Object key)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> h;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (key == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class=\"number\">16</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>easykeynull0hashmapkeynull,keynull<strong></strong>:</p>\n<ul>\n<li>^ (0)</li>\n<li>&gt;&gt;&gt; 0</li>\n</ul>\n<p>hkeyhashCodekeyhashcodeObject<code>native</code>h16</p>\n<p><code>table</code><code>Noe&lt;K,V&gt; []</code>Node</p>\n<h1 id=\"Node\"><a href=\"#Node\" class=\"headerlink\" title=\"Node\"></a>Node</h1><p>HahsMap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * Basic hash bin node, used for most entries.  (See below for</span></span><br><span class=\"line\"><span class=\"comment\">  * TreeNode subclass, and in LinkedHashMap for its Entry subclass.)</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Node</span>&lt;<span class=\"title\">K</span>,<span class=\"title\">V</span>&gt; <span class=\"keyword\">implements</span> <span class=\"title\">Map</span>.<span class=\"title\">Entry</span>&lt;<span class=\"title\">K</span>,<span class=\"title\">V</span>&gt; </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> hash; <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> K key;</span><br><span class=\"line\">    V value;</span><br><span class=\"line\">    Node&lt;K,V&gt; next; <span class=\"comment\">// Node</span></span><br><span class=\"line\"></span><br><span class=\"line\">    Node(<span class=\"keyword\">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.hash = hash;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.key = key;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.value = value;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.next = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// get, set equals ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li> <code>Node&lt;K, V&gt; next</code></li>\n<li><code>table</code>Node+</li>\n<li><code>Map.Entry&lt;K, V&gt;</code>k-v</li>\n<li><code>next</code><code>hash</code>, <code>key</code>, <code>value</code></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p>=+<code>Node&lt;K, V&gt;</code><code>Node&lt;K, V&gt; []</code>hashmap<code>+</code></p>\n<p>hashmap<strong></strong><code>table</code><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The number of key-value mappings contained in this map.</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">transient</span> <span class=\"keyword\">int</span> size;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The number of times this HashMap has been structurally modified</span></span><br><span class=\"line\"><span class=\"comment\">  * Structural modifications are those that change the number of mappings in</span></span><br><span class=\"line\"><span class=\"comment\">  * the HashMap or otherwise modify its internal structure (e.g.,</span></span><br><span class=\"line\"><span class=\"comment\">  * rehash).  This field is used to make iterators on Collection-views of</span></span><br><span class=\"line\"><span class=\"comment\">  * the HashMap fail-fast.  (See ConcurrentModificationException).</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">transient</span> <span class=\"keyword\">int</span> modCount;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The next size value at which to resize (capacity * load factor).</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"comment\">// (The javadoc description is true upon serialization.</span></span><br><span class=\"line\"><span class=\"comment\">// Additionally, if the table array has not been allocated, this</span></span><br><span class=\"line\"><span class=\"comment\">// field holds the initial array capacity, or zero signifying</span></span><br><span class=\"line\"><span class=\"comment\">// DEFAULT_INITIAL_CAPACITY.)</span></span><br><span class=\"line\"><span class=\"keyword\">int</span> threshold;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * The load factor for the hash table.</span></span><br><span class=\"line\"><span class=\"comment\">  *</span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@serial</span></span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">float</span> loadFactor;</span><br></pre></td></tr></table></figure>\n\n<p><code>threshold</code>k-vNode&lt;K,V&gt;[] tablelength16, loadFactor0.75,</p>\n<blockquote>\n<p>threshold = loadFactor * length</p>\n</blockquote>\n<p>tableNode<code>threshold</code>12.Node12 16,12,1.</p>\n<p>sizeNode</p>\n<p>HashMaptable2n<strong></strong></p>\n<ul>\n<li>2n<code></code><code></code></li>\n</ul>\n<p>HashTable<code>initialCapacity</code>11. jdk8<strong></strong>8hashmap</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>hahsmapk-vNodetablekeyhashtableindex uhash</p>\n<blockquote>\n<p>keyhashCode</p>\n</blockquote>\n<p>keyhashCodehashNode hashmap</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> ((p = tab[i = (n - <span class=\"number\">1</span>) &amp; hash]) == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">            tab[i] = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>nhashkeyn2n<code>(n-1)&amp;hash</code>length<code>%</code></p>\n<h1 id=\"put\"><a href=\"#put\" class=\"headerlink\" title=\"put\"></a>put</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Implements Map.put and related methods.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> hash hash for key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> key the key</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> value the value to put</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> onlyIfAbsent if true, don&#x27;t change existing value</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param</span> evict if false, the table is in creation mode.</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> previous value, or null if none</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">final</span> V <span class=\"title\">putVal</span><span class=\"params\">(<span class=\"keyword\">int</span> hash, K key, V value, <span class=\"keyword\">boolean</span> onlyIfAbsent,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">               <span class=\"keyword\">boolean</span> evict)</span> </span>&#123;</span><br><span class=\"line\">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class=\"keyword\">int</span> n, i;</span><br><span class=\"line\">    <span class=\"comment\">// table</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((tab = table) == <span class=\"keyword\">null</span> || (n = tab.length) == <span class=\"number\">0</span>)</span><br><span class=\"line\">        n = (tab = resize()).length;</span><br><span class=\"line\">    <span class=\"comment\">// null</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((p = tab[i = (n - <span class=\"number\">1</span>) &amp; hash]) == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">        tab[i] = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        Node&lt;K,V&gt; e; K k;</span><br><span class=\"line\">        <span class=\"comment\">// keyugovalue</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (p.hash == hash &amp;&amp;</span><br><span class=\"line\">            ((k = p.key) == key || (key != <span class=\"keyword\">null</span> &amp;&amp; key.equals(k))))</span><br><span class=\"line\">            e = p;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (p <span class=\"keyword\">instanceof</span> TreeNode)</span><br><span class=\"line\">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class=\"keyword\">this</span>, tab, hash, key, value);</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// table</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> binCount = <span class=\"number\">0</span>; ; ++binCount) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> ((e = p.next) == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// </span></span><br><span class=\"line\">                    p.next = newNode(hash, key, value, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">                    <span class=\"comment\">// 8</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class=\"number\">1</span>) <span class=\"comment\">// -1 for 1st</span></span><br><span class=\"line\">                        treeifyBin(tab, hash);</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (e.hash == hash &amp;&amp;</span><br><span class=\"line\">                    ((k = e.key) == key || (key != <span class=\"keyword\">null</span> &amp;&amp; key.equals(k))))</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                p = e;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e != <span class=\"keyword\">null</span>) &#123; <span class=\"comment\">// existing mapping for key</span></span><br><span class=\"line\">            V oldValue = e.value;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!onlyIfAbsent || oldValue == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                e.value = value;</span><br><span class=\"line\">            afterNodeAccess(e);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> oldValue;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ++modCount;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (++size &gt; threshold)</span><br><span class=\"line\">        resize();</span><br><span class=\"line\">    afterNodeInsertion(evict);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>HashMapArrayListHashMapNode</p>\n<blockquote>\n<p>note: HashMap</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Initializes or doubles table size.  If null, allocates in</span></span><br><span class=\"line\"><span class=\"comment\"> * accord with initial capacity target held in field threshold.</span></span><br><span class=\"line\"><span class=\"comment\"> * Otherwise, because we are using power-of-two expansion, the</span></span><br><span class=\"line\"><span class=\"comment\"> * elements from each bin must either stay at same index, or move</span></span><br><span class=\"line\"><span class=\"comment\"> * with a power of two offset in the new table.</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return</span> the table</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class=\"line\">    Node&lt;K,V&gt;[] oldTab = table;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> oldCap = (oldTab == <span class=\"keyword\">null</span>) ? <span class=\"number\">0</span> : oldTab.length;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> oldThr = threshold;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> newCap, newThr = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldCap &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// let it go</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class=\"line\">            threshold = Integer.MAX_VALUE;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> oldTab;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// X2</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> ((newCap = oldCap &lt;&lt; <span class=\"number\">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class=\"line\">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class=\"line\">            newThr = oldThr &lt;&lt; <span class=\"number\">1</span>; <span class=\"comment\">// double threshold</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (oldThr &gt; <span class=\"number\">0</span>) <span class=\"comment\">// initial capacity was placed in threshold</span></span><br><span class=\"line\">        newCap = oldThr;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> &#123;               <span class=\"comment\">// zero initial threshold signifies using defaults</span></span><br><span class=\"line\">        newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class=\"line\">        newThr = (<span class=\"keyword\">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// resize</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newThr == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">float</span> ft = (<span class=\"keyword\">float</span>)newCap * loadFactor;</span><br><span class=\"line\">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class=\"keyword\">float</span>)MAXIMUM_CAPACITY ?</span><br><span class=\"line\">                  (<span class=\"keyword\">int</span>)ft : Integer.MAX_VALUE);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    threshold = newThr;</span><br><span class=\"line\">    <span class=\"meta\">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class=\"line\">    Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class=\"keyword\">new</span> Node[newCap];</span><br><span class=\"line\">    table = newTab;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (oldTab != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> j = <span class=\"number\">0</span>; j &lt; oldCap; ++j) &#123;</span><br><span class=\"line\">            Node&lt;K,V&gt; e;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((e = oldTab[j]) != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                oldTab[j] = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (e.next == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                    newTab[e.hash &amp; (newCap - <span class=\"number\">1</span>)] = e;</span><br><span class=\"line\">                <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (e <span class=\"keyword\">instanceof</span> TreeNode)</span><br><span class=\"line\">                    ((TreeNode&lt;K,V&gt;)e).split(<span class=\"keyword\">this</span>, newTab, j, oldCap);</span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// preserve order</span></span><br><span class=\"line\">                    Node&lt;K,V&gt; loHead = <span class=\"keyword\">null</span>, loTail = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    Node&lt;K,V&gt; hiHead = <span class=\"keyword\">null</span>, hiTail = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    Node&lt;K,V&gt; next;</span><br><span class=\"line\">                    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">                        next = e.next;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> ((e.hash &amp; oldCap) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span> (loTail == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                                loHead = e;</span><br><span class=\"line\">                            <span class=\"keyword\">else</span></span><br><span class=\"line\">                                loTail.next = e;</span><br><span class=\"line\">                            loTail = e;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">if</span> (hiTail == <span class=\"keyword\">null</span>)</span><br><span class=\"line\">                                hiHead = e;</span><br><span class=\"line\">                            <span class=\"keyword\">else</span></span><br><span class=\"line\">                                hiTail.next = e;</span><br><span class=\"line\">                            hiTail = e;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">while</span> ((e = next) != <span class=\"keyword\">null</span>);</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (loTail != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        loTail.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                        newTab[j] = loHead;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (hiTail != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        hiTail.next = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                        newTab[j + oldCap] = hiHead;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> newTab;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"heap","date":"2020-06-06T14:54:27.000Z","_content":"\nJVM\n\ntopN\n\n<!-- more -->\n\n# \n\n\t\n\n## \n\n- \n- \n- \n\n## \n\n- \n- \n\n# \n\n\n\n\n\n![Screenshot from 2020-06-06 15-24-34.png](https://i.loli.net/2020/06/06/JbDlczXVh35sEF1.png)\n\n{62,42,59,32,39,44,13,22,29,14,33,30,17,9}\n\n_i__2i+1__2i+2__(i-1)/2_39424+1=9\n\n# \n\n## \n\ntop n \n\n## TOP N\n\n/\n\n```java\n// n\npublic static int[] topN(int[] array, int n) {\n    if (n == 0) {\n        return new int[0];\n    }\n    // default big heap, lambda make it small heap\n    Queue<Integer> heap = new PriorityQueue<>(n, ((o1, o2) -> Integer.compare(o2, o1)));\n\n    for (int e : array) {\n        // put the integer in when it smaller than the top of integer\n        if (heap.isEmpty() || heap.size() < n || e < heap.peek()) {\n            heap.offer(e);\n        }\n        if (heap.size() > n) {\n            // delete the top of heap integer\n            heap.poll();\n        }\n    }\n\n    int[] res = new int[heap.size()];\n    int j = 0;\n    for (int e : heap) {\n        res[j++] = e;\n    }\n    return res;\n}\n```\n\nforFIFO\n\nn\n\n```java\n// \nQueue<Integer> heap = new PriorityQueue<>(n);\nfor(int e: array){\n    // \n    if(heap.isEmpty() || heap.size() < n || e > heap.peak()){\n        heap.offer(e);\n    }\n    // \n    if(heap.size() > n){\n        heap.pool();\n    }\n}\n```\n\n\n\n\n\n","source":"_posts/heap.md","raw":"---\ntitle: heap\ndate: 2020-06-06 22:54:27\ncategories: Java\ntags: datastructure\n---\n\nJVM\n\ntopN\n\n<!-- more -->\n\n# \n\n\t\n\n## \n\n- \n- \n- \n\n## \n\n- \n- \n\n# \n\n\n\n\n\n![Screenshot from 2020-06-06 15-24-34.png](https://i.loli.net/2020/06/06/JbDlczXVh35sEF1.png)\n\n{62,42,59,32,39,44,13,22,29,14,33,30,17,9}\n\n_i__2i+1__2i+2__(i-1)/2_39424+1=9\n\n# \n\n## \n\ntop n \n\n## TOP N\n\n/\n\n```java\n// n\npublic static int[] topN(int[] array, int n) {\n    if (n == 0) {\n        return new int[0];\n    }\n    // default big heap, lambda make it small heap\n    Queue<Integer> heap = new PriorityQueue<>(n, ((o1, o2) -> Integer.compare(o2, o1)));\n\n    for (int e : array) {\n        // put the integer in when it smaller than the top of integer\n        if (heap.isEmpty() || heap.size() < n || e < heap.peek()) {\n            heap.offer(e);\n        }\n        if (heap.size() > n) {\n            // delete the top of heap integer\n            heap.poll();\n        }\n    }\n\n    int[] res = new int[heap.size()];\n    int j = 0;\n    for (int e : heap) {\n        res[j++] = e;\n    }\n    return res;\n}\n```\n\nforFIFO\n\nn\n\n```java\n// \nQueue<Integer> heap = new PriorityQueue<>(n);\nfor(int e: array){\n    // \n    if(heap.isEmpty() || heap.size() < n || e > heap.peak()){\n        heap.offer(e);\n    }\n    // \n    if(heap.size() > n){\n        heap.pool();\n    }\n}\n```\n\n\n\n\n\n","slug":"heap","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hq000mk7ihffdx388q","content":"<p>JVM</p>\n<p>topN</p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/06/06/JbDlczXVh35sEF1.png\" alt=\"Screenshot from 2020-06-06 15-24-34.png\"></p>\n<p>{62,42,59,32,39,44,13,22,29,14,33,30,17,9}</p>\n<p>_i__2i+1__2i+2__(i-1)/2_39424+1=9</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>top n </p>\n<h2 id=\"TOP-N\"><a href=\"#TOP-N\" class=\"headerlink\" title=\"TOP N\"></a>TOP N</h2><p>/</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// n</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] topN(<span class=\"keyword\">int</span>[] array, <span class=\"keyword\">int</span> n) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// default big heap, lambda make it small heap</span></span><br><span class=\"line\">    Queue&lt;Integer&gt; heap = <span class=\"keyword\">new</span> PriorityQueue&lt;&gt;(n, ((o1, o2) -&gt; Integer.compare(o2, o1)));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> e : array) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// put the integer in when it smaller than the top of integer</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (heap.isEmpty() || heap.size() &lt; n || e &lt; heap.peek()) &#123;</span><br><span class=\"line\">            heap.offer(e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (heap.size() &gt; n) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// delete the top of heap integer</span></span><br><span class=\"line\">            heap.poll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] res = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[heap.size()];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> e : heap) &#123;</span><br><span class=\"line\">        res[j++] = e;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>forFIFO</p>\n<p>n</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Queue&lt;Integer&gt; heap = <span class=\"keyword\">new</span> PriorityQueue&lt;&gt;(n);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> e: array)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(heap.isEmpty() || heap.size() &lt; n || e &gt; heap.peak())&#123;</span><br><span class=\"line\">        heap.offer(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(heap.size() &gt; n)&#123;</span><br><span class=\"line\">        heap.pool();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>JVM</p>\n<p>topN</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>    </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/06/06/JbDlczXVh35sEF1.png\" alt=\"Screenshot from 2020-06-06 15-24-34.png\"></p>\n<p>{62,42,59,32,39,44,13,22,29,14,33,30,17,9}</p>\n<p>_i__2i+1__2i+2__(i-1)/2_39424+1=9</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>top n </p>\n<h2 id=\"TOP-N\"><a href=\"#TOP-N\" class=\"headerlink\" title=\"TOP N\"></a>TOP N</h2><p>/</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// n</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span>[] topN(<span class=\"keyword\">int</span>[] array, <span class=\"keyword\">int</span> n) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (n == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// default big heap, lambda make it small heap</span></span><br><span class=\"line\">    Queue&lt;Integer&gt; heap = <span class=\"keyword\">new</span> PriorityQueue&lt;&gt;(n, ((o1, o2) -&gt; Integer.compare(o2, o1)));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> e : array) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// put the integer in when it smaller than the top of integer</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (heap.isEmpty() || heap.size() &lt; n || e &lt; heap.peek()) &#123;</span><br><span class=\"line\">            heap.offer(e);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (heap.size() &gt; n) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// delete the top of heap integer</span></span><br><span class=\"line\">            heap.poll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span>[] res = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[heap.size()];</span><br><span class=\"line\">    <span class=\"keyword\">int</span> j = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> e : heap) &#123;</span><br><span class=\"line\">        res[j++] = e;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>forFIFO</p>\n<p>n</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">Queue&lt;Integer&gt; heap = <span class=\"keyword\">new</span> PriorityQueue&lt;&gt;(n);</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> e: array)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(heap.isEmpty() || heap.size() &lt; n || e &gt; heap.peak())&#123;</span><br><span class=\"line\">        heap.offer(e);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(heap.size() &gt; n)&#123;</span><br><span class=\"line\">        heap.pool();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"https","date":"2020-03-14T02:43:29.000Z","_content":"\n**Hypertext Transfer Protocol Secure**, an extension of the Hypertext Transfer Protocol. \n\nHow to encrypt communication? Through referred to as **HTTP over TLS**, or **HTTP over SSL**\n\n- Transport Layer Security\n- Secure Sockets Layer\n\n<!-- more -->\n\n# HTTPHTTPS\n\n\n\n## Difference\n\nHTTPSURL`https://``443`httpTCPSSLTSLheader\n\n---\n\nHTTPURL`http://``80`TCP\n\n\n\n## Limitation\n\nSSL/TSLwebsite crawler\n\n\n\n# URIURLURN\n\nurluri\n\n## URI\n\n*A string of characters that unambiguously identifies a particular resource*.  `http://`\n\n## URN\n\n*A Uniform Resource Name(URN) is a URI that identifies a resource by name in a particular namespace.* \n\n## URL\n\n*A Uniform Resource Locator(URL) is a URI that specifies the means of acting upon or obtaining the representation of a resource.* http\n\n[reference](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier)","source":"_posts/https.md","raw":"---\ntitle: https\ndate: 2020-03-14 10:43:29\ncategories: Network\ntags: ['http','https']\n---\n\n**Hypertext Transfer Protocol Secure**, an extension of the Hypertext Transfer Protocol. \n\nHow to encrypt communication? Through referred to as **HTTP over TLS**, or **HTTP over SSL**\n\n- Transport Layer Security\n- Secure Sockets Layer\n\n<!-- more -->\n\n# HTTPHTTPS\n\n\n\n## Difference\n\nHTTPSURL`https://``443`httpTCPSSLTSLheader\n\n---\n\nHTTPURL`http://``80`TCP\n\n\n\n## Limitation\n\nSSL/TSLwebsite crawler\n\n\n\n# URIURLURN\n\nurluri\n\n## URI\n\n*A string of characters that unambiguously identifies a particular resource*.  `http://`\n\n## URN\n\n*A Uniform Resource Name(URN) is a URI that identifies a resource by name in a particular namespace.* \n\n## URL\n\n*A Uniform Resource Locator(URL) is a URI that specifies the means of acting upon or obtaining the representation of a resource.* http\n\n[reference](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier)","slug":"https","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hs000ok7ih4dtmevog","content":"<p><strong>Hypertext Transfer Protocol Secure</strong>, an extension of the Hypertext Transfer Protocol. </p>\n<p>How to encrypt communication? Through referred to as <strong>HTTP over TLS</strong>, or <strong>HTTP over SSL</strong></p>\n<ul>\n<li>Transport Layer Security</li>\n<li>Secure Sockets Layer</li>\n</ul>\n<a id=\"more\"></a>\n\n<h1 id=\"HTTPHTTPS\"><a href=\"#HTTPHTTPS\" class=\"headerlink\" title=\"HTTPHTTPS\"></a>HTTPHTTPS</h1><h2 id=\"Difference\"><a href=\"#Difference\" class=\"headerlink\" title=\"Difference\"></a>Difference</h2><p>HTTPSURL<code>https://</code><code>443</code>httpTCPSSLTSLheader</p>\n<hr>\n<p>HTTPURL<code>http://</code><code>80</code>TCP</p>\n<h2 id=\"Limitation\"><a href=\"#Limitation\" class=\"headerlink\" title=\"Limitation\"></a>Limitation</h2><p>SSL/TSLwebsite crawler</p>\n<h1 id=\"URIURLURN\"><a href=\"#URIURLURN\" class=\"headerlink\" title=\"URIURLURN\"></a>URIURLURN</h1><p>urluri</p>\n<h2 id=\"URI\"><a href=\"#URI\" class=\"headerlink\" title=\"URI\"></a>URI</h2><p><em>A string of characters that unambiguously identifies a particular resource</em>.  <code>http://</code></p>\n<h2 id=\"URN\"><a href=\"#URN\" class=\"headerlink\" title=\"URN\"></a>URN</h2><p><em>A Uniform Resource Name(URN) is a URI that identifies a resource by name in a particular namespace.</em> </p>\n<h2 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h2><p><em>A Uniform Resource Locator(URL) is a URI that specifies the means of acting upon or obtaining the representation of a resource.</em> http</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier\">reference</a></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p><strong>Hypertext Transfer Protocol Secure</strong>, an extension of the Hypertext Transfer Protocol. </p>\n<p>How to encrypt communication? Through referred to as <strong>HTTP over TLS</strong>, or <strong>HTTP over SSL</strong></p>\n<ul>\n<li>Transport Layer Security</li>\n<li>Secure Sockets Layer</li>\n</ul>","more":"<h1 id=\"HTTPHTTPS\"><a href=\"#HTTPHTTPS\" class=\"headerlink\" title=\"HTTPHTTPS\"></a>HTTPHTTPS</h1><h2 id=\"Difference\"><a href=\"#Difference\" class=\"headerlink\" title=\"Difference\"></a>Difference</h2><p>HTTPSURL<code>https://</code><code>443</code>httpTCPSSLTSLheader</p>\n<hr>\n<p>HTTPURL<code>http://</code><code>80</code>TCP</p>\n<h2 id=\"Limitation\"><a href=\"#Limitation\" class=\"headerlink\" title=\"Limitation\"></a>Limitation</h2><p>SSL/TSLwebsite crawler</p>\n<h1 id=\"URIURLURN\"><a href=\"#URIURLURN\" class=\"headerlink\" title=\"URIURLURN\"></a>URIURLURN</h1><p>urluri</p>\n<h2 id=\"URI\"><a href=\"#URI\" class=\"headerlink\" title=\"URI\"></a>URI</h2><p><em>A string of characters that unambiguously identifies a particular resource</em>.  <code>http://</code></p>\n<h2 id=\"URN\"><a href=\"#URN\" class=\"headerlink\" title=\"URN\"></a>URN</h2><p><em>A Uniform Resource Name(URN) is a URI that identifies a resource by name in a particular namespace.</em> </p>\n<h2 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h2><p><em>A Uniform Resource Locator(URL) is a URI that specifies the means of acting upon or obtaining the representation of a resource.</em> http</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier\">reference</a></p>"},{"title":"jvm","date":"2020-05-24T09:39:25.000Z","_content":"\nassociate with juc\n\n<!--more-->\n\n# \n\n![Screenshot from 2020-06-04 20-11-48.png](https://i.loli.net/2020/06/04/UQfq2lrGu9mLc4C.png)\n\n- \n- \n\n# \n\njavacxxx.classJVMxxx.ClassclassClass\n\n> Car.class -> Class Loader -> Car Class -> car1/car2/car3\n\nCar Classcar1car2car3car\n\n![Screenshot from 2020-06-04 20-33-54.png](https://i.loli.net/2020/06/04/EYRbMN1fgIOuHBk.png)\n\n## \n\n### Bootstrap\n\nC++Object, ArrayList, String\n\n### Extension\n\nJavaExtensionjavaxjava\n\n### AppClassLoader\n\n\n\n### \n\nClassLoader\n\n## \n\nA.javaBootstrapExtensionApplication\n\n**Bootstrap** --> **Extension** --> **Application**\n\n```java\npublic class String{\n    public static void main(String[] args){\n        System.out.println(\"hello world!\");\n    }\n}\n```\n\n> java.lang.StringmainBootstrap\n\n## \n\n**note**: jdkObject\n\n## Native Interface\n\nJavaC/C++nativejava\n\nSocketwebService\n\n### Native\n\nC\n\n### \n\nnativenativenativeExecution Engine\n\n# PC\n\n\n\n\n\n# \n\n- \n- ====/\n\n**Java**\n\n## \n\njava\n\n- Local Variables: \n\n  ```java\n  //  x, y resultresult\n  public int add(int x, int y){\n      int result = 0;\n      result = x + y;\n      return result;\n  }\n  ```\n\n- Operand Stack: \n\n- Frame Data: \n\n## \n\nStack FrameMethodA\n\n```java\n//  Exception: StackOverflowError \npublic static void m1(){\n    m1();\n}\n```\n\n\n\nJVM256K756K\n\n\n\n# \n\nclassClassLoaderJVMClass`(PermGen space)``(Metaspace)`\n\n- ====\n- \n\n****\n\n```java\npublic class Car{\n    int price = 1233435;\n    public park(){\n        System.out.println(\"stop ...\");\n    }\n}\n```\n\n\n\njvmjava8****native memoryjavaMaxPermSize\n\ni.e.\n\n```java\npublic class Demo{\n    public void hello(){}\n    public static void main(String[] args){\n        Demo demo = new Demo();\n        demo.hello();\n    }\n}\n```\n\nnewhellodemo\n\n# \n\n```java\nPerson person1 = new Person();\nPerson person2 = new Person();\n```\n\nnew\n\nperson1person2\n\nhotsoptjavaClass -->-->\n\n# \n\nJava7\tJvm\n\n(Java8)\t\n\n+\n\n## \n\n++\n\n Youg Generation Space (Eden Sapce + Survivor 0 space + Survivor 1 space)\n\nTenure Generation Space\n\nPermanent Space\n\n- Eden: 0space: 1space  = 8 : 1 : 1\n- Young : Old = 1 : 2\n\n## \n\nEden Sapce,GCSurvivior 0 spaceEden SpaceSurvivor 0 spaceGCSurvivor 1 spaceTenure Genreration SpaceFull GCOutOfMemoryError(OOM)\n\n## \n\nSurvivor 0 space: from\n\nSurrivor 1 space: to\n\nGCto\n\n1. Eden, SurvivorFrom copy to SurviviorTo\n2. clean up Eden, SurvivorFrom\n3. Swap SurvivorTo and SurvivorFrom\n\n## \n\njdkClassInterfaceJVM\n\n## \n\n```java\npublic static void main(String[] args){\n    // Returns the maximum amount of memory that the Java virtual machine will attempt to use.\n    long l = Runtime.getRuntime().maxMemory();\n\n    // Returns the total amount of memory in the Java virtual machine.\n    long l1 = Runtime.getRuntime().totalMemory();\n\n    // 1/4\n    System.out.println(\"(-xmx) MAX_MEMORY: \" + l + \"bytes, \" + (l / (double) 1024 / 1024 + \"MB\"));\n    \n    // 1/64\n    System.out.println(\"(-xms) TOTAL_MEMORY: \" + l1 + \"bytes, \" + (l1 / (double) 1024 / 1024 + \"MB\"));\n}\n```\n\n**note:** \n\n> -XX:MaxTenuringThreshold java815\n\n# GC\n\n- minor GC\n- major/full GC\n\nmajor GCminor GCyoungold\n\n## \n\n\n\n### \n\n1,0JVM\n\n### Copying\n\nMinor GCCopying\n\n\n\n### Mark-Sweep\n\nMajor GCMark-SweepMark-Compact--CopyingJVM\n\n### Mark-Compact\n\nMark-Sweep-Compact\n\nGC\n\n# JMM\n\nJavaJava Memory  Model)****\n\n``java\n\n\n\n## violatile\n\njavasyncronized\n\n- \n- \n- \n\n# Q&A:\n\n## JVMjava8\n\n## OOMStackOverFlowError\n\n## JVM\n\n## JVM\n\n","source":"_posts/jvm.md","raw":"---\ntitle: jvm\ndate: 2020-05-24 17:39:25\ncategories: JVM\ntags: jvm\n---\n\nassociate with juc\n\n<!--more-->\n\n# \n\n![Screenshot from 2020-06-04 20-11-48.png](https://i.loli.net/2020/06/04/UQfq2lrGu9mLc4C.png)\n\n- \n- \n\n# \n\njavacxxx.classJVMxxx.ClassclassClass\n\n> Car.class -> Class Loader -> Car Class -> car1/car2/car3\n\nCar Classcar1car2car3car\n\n![Screenshot from 2020-06-04 20-33-54.png](https://i.loli.net/2020/06/04/EYRbMN1fgIOuHBk.png)\n\n## \n\n### Bootstrap\n\nC++Object, ArrayList, String\n\n### Extension\n\nJavaExtensionjavaxjava\n\n### AppClassLoader\n\n\n\n### \n\nClassLoader\n\n## \n\nA.javaBootstrapExtensionApplication\n\n**Bootstrap** --> **Extension** --> **Application**\n\n```java\npublic class String{\n    public static void main(String[] args){\n        System.out.println(\"hello world!\");\n    }\n}\n```\n\n> java.lang.StringmainBootstrap\n\n## \n\n**note**: jdkObject\n\n## Native Interface\n\nJavaC/C++nativejava\n\nSocketwebService\n\n### Native\n\nC\n\n### \n\nnativenativenativeExecution Engine\n\n# PC\n\n\n\n\n\n# \n\n- \n- ====/\n\n**Java**\n\n## \n\njava\n\n- Local Variables: \n\n  ```java\n  //  x, y resultresult\n  public int add(int x, int y){\n      int result = 0;\n      result = x + y;\n      return result;\n  }\n  ```\n\n- Operand Stack: \n\n- Frame Data: \n\n## \n\nStack FrameMethodA\n\n```java\n//  Exception: StackOverflowError \npublic static void m1(){\n    m1();\n}\n```\n\n\n\nJVM256K756K\n\n\n\n# \n\nclassClassLoaderJVMClass`(PermGen space)``(Metaspace)`\n\n- ====\n- \n\n****\n\n```java\npublic class Car{\n    int price = 1233435;\n    public park(){\n        System.out.println(\"stop ...\");\n    }\n}\n```\n\n\n\njvmjava8****native memoryjavaMaxPermSize\n\ni.e.\n\n```java\npublic class Demo{\n    public void hello(){}\n    public static void main(String[] args){\n        Demo demo = new Demo();\n        demo.hello();\n    }\n}\n```\n\nnewhellodemo\n\n# \n\n```java\nPerson person1 = new Person();\nPerson person2 = new Person();\n```\n\nnew\n\nperson1person2\n\nhotsoptjavaClass -->-->\n\n# \n\nJava7\tJvm\n\n(Java8)\t\n\n+\n\n## \n\n++\n\n Youg Generation Space (Eden Sapce + Survivor 0 space + Survivor 1 space)\n\nTenure Generation Space\n\nPermanent Space\n\n- Eden: 0space: 1space  = 8 : 1 : 1\n- Young : Old = 1 : 2\n\n## \n\nEden Sapce,GCSurvivior 0 spaceEden SpaceSurvivor 0 spaceGCSurvivor 1 spaceTenure Genreration SpaceFull GCOutOfMemoryError(OOM)\n\n## \n\nSurvivor 0 space: from\n\nSurrivor 1 space: to\n\nGCto\n\n1. Eden, SurvivorFrom copy to SurviviorTo\n2. clean up Eden, SurvivorFrom\n3. Swap SurvivorTo and SurvivorFrom\n\n## \n\njdkClassInterfaceJVM\n\n## \n\n```java\npublic static void main(String[] args){\n    // Returns the maximum amount of memory that the Java virtual machine will attempt to use.\n    long l = Runtime.getRuntime().maxMemory();\n\n    // Returns the total amount of memory in the Java virtual machine.\n    long l1 = Runtime.getRuntime().totalMemory();\n\n    // 1/4\n    System.out.println(\"(-xmx) MAX_MEMORY: \" + l + \"bytes, \" + (l / (double) 1024 / 1024 + \"MB\"));\n    \n    // 1/64\n    System.out.println(\"(-xms) TOTAL_MEMORY: \" + l1 + \"bytes, \" + (l1 / (double) 1024 / 1024 + \"MB\"));\n}\n```\n\n**note:** \n\n> -XX:MaxTenuringThreshold java815\n\n# GC\n\n- minor GC\n- major/full GC\n\nmajor GCminor GCyoungold\n\n## \n\n\n\n### \n\n1,0JVM\n\n### Copying\n\nMinor GCCopying\n\n\n\n### Mark-Sweep\n\nMajor GCMark-SweepMark-Compact--CopyingJVM\n\n### Mark-Compact\n\nMark-Sweep-Compact\n\nGC\n\n# JMM\n\nJavaJava Memory  Model)****\n\n``java\n\n\n\n## violatile\n\njavasyncronized\n\n- \n- \n- \n\n# Q&A:\n\n## JVMjava8\n\n## OOMStackOverFlowError\n\n## JVM\n\n## JVM\n\n","slug":"jvm","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hu000sk7ihe0ol5tuv","content":"<p>associate with juc</p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/06/04/UQfq2lrGu9mLc4C.png\" alt=\"Screenshot from 2020-06-04 20-11-48.png\"></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>javacxxx.classJVMxxx.ClassclassClass</p>\n<blockquote>\n<p>Car.class -&gt; Class Loader -&gt; Car Class -&gt; car1/car2/car3</p>\n</blockquote>\n<p>Car Classcar1car2car3car</p>\n<p><img src=\"https://i.loli.net/2020/06/04/EYRbMN1fgIOuHBk.png\" alt=\"Screenshot from 2020-06-04 20-33-54.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"Bootstrap\"><a href=\"#Bootstrap\" class=\"headerlink\" title=\"Bootstrap\"></a>Bootstrap</h3><p>C++Object, ArrayList, String</p>\n<h3 id=\"Extension\"><a href=\"#Extension\" class=\"headerlink\" title=\"Extension\"></a>Extension</h3><p>JavaExtensionjavaxjava</p>\n<h3 id=\"AppClassLoader\"><a href=\"#AppClassLoader\" class=\"headerlink\" title=\"AppClassLoader\"></a>AppClassLoader</h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ClassLoader</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>A.javaBootstrapExtensionApplication</p>\n<p><strong>Bootstrap</strong> &gt; <strong>Extension</strong> &gt; <strong>Application</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">String</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello world!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>java.lang.StringmainBootstrap</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>note</strong>: jdkObject</p>\n<h2 id=\"Native-Interface\"><a href=\"#Native-Interface\" class=\"headerlink\" title=\"Native Interface\"></a>Native Interface</h2><p>JavaC/C++nativejava</p>\n<p>SocketwebService</p>\n<h3 id=\"Native\"><a href=\"#Native\" class=\"headerlink\" title=\"Native\"></a>Native</h3><p>C</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nativenativenativeExecution Engine</p>\n<h1 id=\"PC\"><a href=\"#PC\" class=\"headerlink\" title=\"PC\"></a>PC</h1><p></p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>====/</li>\n</ul>\n<p><strong>Java</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>java</p>\n<ul>\n<li><p>Local Variables: </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  x, y resultresult</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">    result = x + y;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Operand Stack: </p>\n</li>\n<li><p>Frame Data: </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Stack FrameMethodA</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Exception: StackOverflowError </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">m1</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    m1();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>JVM256K756K</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>classClassLoaderJVMClass<code>(PermGen space)</code><code>(Metaspace)</code></p>\n<ul>\n<li>====</li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> price = <span class=\"number\">1233435</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">park</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;stop ...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p>jvmjava8<strong></strong>native memoryjavaMaxPermSize</p>\n<p>i.e.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        Demo demo = <span class=\"keyword\">new</span> Demo();</span><br><span class=\"line\">        demo.hello();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>newhellodemo</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person person1 = <span class=\"keyword\">new</span> Person();</span><br><span class=\"line\">Person person2 = <span class=\"keyword\">new</span> Person();</span><br></pre></td></tr></table></figure>\n\n<p>new</p>\n<p>person1person2</p>\n<p>hotsoptjavaClass &gt;&gt;</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Java7    Jvm</p>\n<p>(Java8)    </p>\n<p>+</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>++</p>\n<p> Youg Generation Space (Eden Sapce + Survivor 0 space + Survivor 1 space)</p>\n<p>Tenure Generation Space</p>\n<p>Permanent Space</p>\n<ul>\n<li>Eden: 0space: 1space  = 8 : 1 : 1</li>\n<li>Young : Old = 1 : 2</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Eden Sapce,GCSurvivior 0 spaceEden SpaceSurvivor 0 spaceGCSurvivor 1 spaceTenure Genreration SpaceFull GCOutOfMemoryError(OOM)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Survivor 0 space: from</p>\n<p>Surrivor 1 space: to</p>\n<p>GCto</p>\n<ol>\n<li>Eden, SurvivorFrom copy to SurviviorTo</li>\n<li>clean up Eden, SurvivorFrom</li>\n<li>Swap SurvivorTo and SurvivorFrom</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jdkClassInterfaceJVM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Returns the maximum amount of memory that the Java virtual machine will attempt to use.</span></span><br><span class=\"line\">    <span class=\"keyword\">long</span> l = Runtime.getRuntime().maxMemory();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Returns the total amount of memory in the Java virtual machine.</span></span><br><span class=\"line\">    <span class=\"keyword\">long</span> l1 = Runtime.getRuntime().totalMemory();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 1/4</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;(-xmx) MAX_MEMORY: &quot;</span> + l + <span class=\"string\">&quot;bytes, &quot;</span> + (l / (<span class=\"keyword\">double</span>) <span class=\"number\">1024</span> / <span class=\"number\">1024</span> + <span class=\"string\">&quot;MB&quot;</span>));</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 1/64</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;(-xms) TOTAL_MEMORY: &quot;</span> + l1 + <span class=\"string\">&quot;bytes, &quot;</span> + (l1 / (<span class=\"keyword\">double</span>) <span class=\"number\">1024</span> / <span class=\"number\">1024</span> + <span class=\"string\">&quot;MB&quot;</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>note:</strong> </p>\n<blockquote>\n<p>-XX:MaxTenuringThreshold java815</p>\n</blockquote>\n<h1 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h1><ul>\n<li>minor GC</li>\n<li>major/full GC</li>\n</ul>\n<p>major GCminor GCyoungold</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1,0JVM</p>\n<h3 id=\"Copying\"><a href=\"#Copying\" class=\"headerlink\" title=\"Copying\"></a>Copying</h3><p>Minor GCCopying</p>\n<p></p>\n<h3 id=\"Mark-Sweep\"><a href=\"#Mark-Sweep\" class=\"headerlink\" title=\"Mark-Sweep\"></a>Mark-Sweep</h3><p>Major GCMark-SweepMark-Compact--CopyingJVM</p>\n<h3 id=\"Mark-Compact\"><a href=\"#Mark-Compact\" class=\"headerlink\" title=\"Mark-Compact\"></a>Mark-Compact</h3><p>Mark-Sweep-Compact</p>\n<p>GC</p>\n<h1 id=\"JMM\"><a href=\"#JMM\" class=\"headerlink\" title=\"JMM\"></a>JMM</h1><p>JavaJava Memory  Model)<strong></strong></p>\n<p><code></code>java</p>\n<p></p>\n<h2 id=\"violatile\"><a href=\"#violatile\" class=\"headerlink\" title=\"violatile\"></a>violatile</h2><p>javasyncronized</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A:\"></a>Q&amp;A:</h1><h2 id=\"JVMjava8\"><a href=\"#JVMjava8\" class=\"headerlink\" title=\"JVMjava8\"></a>JVMjava8</h2><h2 id=\"OOMStackOverFlowError\"><a href=\"#OOMStackOverFlowError\" class=\"headerlink\" title=\"OOMStackOverFlowError\"></a>OOMStackOverFlowError</h2><h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2>","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>associate with juc</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/06/04/UQfq2lrGu9mLc4C.png\" alt=\"Screenshot from 2020-06-04 20-11-48.png\"></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>javacxxx.classJVMxxx.ClassclassClass</p>\n<blockquote>\n<p>Car.class -&gt; Class Loader -&gt; Car Class -&gt; car1/car2/car3</p>\n</blockquote>\n<p>Car Classcar1car2car3car</p>\n<p><img src=\"https://i.loli.net/2020/06/04/EYRbMN1fgIOuHBk.png\" alt=\"Screenshot from 2020-06-04 20-33-54.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"Bootstrap\"><a href=\"#Bootstrap\" class=\"headerlink\" title=\"Bootstrap\"></a>Bootstrap</h3><p>C++Object, ArrayList, String</p>\n<h3 id=\"Extension\"><a href=\"#Extension\" class=\"headerlink\" title=\"Extension\"></a>Extension</h3><p>JavaExtensionjavaxjava</p>\n<h3 id=\"AppClassLoader\"><a href=\"#AppClassLoader\" class=\"headerlink\" title=\"AppClassLoader\"></a>AppClassLoader</h3><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>ClassLoader</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>A.javaBootstrapExtensionApplication</p>\n<p><strong>Bootstrap</strong> &gt; <strong>Extension</strong> &gt; <strong>Application</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">String</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;hello world!&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>java.lang.StringmainBootstrap</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>note</strong>: jdkObject</p>\n<h2 id=\"Native-Interface\"><a href=\"#Native-Interface\" class=\"headerlink\" title=\"Native Interface\"></a>Native Interface</h2><p>JavaC/C++nativejava</p>\n<p>SocketwebService</p>\n<h3 id=\"Native\"><a href=\"#Native\" class=\"headerlink\" title=\"Native\"></a>Native</h3><p>C</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nativenativenativeExecution Engine</p>\n<h1 id=\"PC\"><a href=\"#PC\" class=\"headerlink\" title=\"PC\"></a>PC</h1><p></p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li></li>\n<li>====/</li>\n</ul>\n<p><strong>Java</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>java</p>\n<ul>\n<li><p>Local Variables: </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  x, y resultresult</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"keyword\">int</span> x, <span class=\"keyword\">int</span> y)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">    result = x + y;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Operand Stack: </p>\n</li>\n<li><p>Frame Data: </p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Stack FrameMethodA</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  Exception: StackOverflowError </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">m1</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    m1();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>JVM256K756K</p>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>classClassLoaderJVMClass<code>(PermGen space)</code><code>(Metaspace)</code></p>\n<ul>\n<li>====</li>\n<li></li>\n</ul>\n<p><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> price = <span class=\"number\">1233435</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">park</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;stop ...&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p>jvmjava8<strong></strong>native memoryjavaMaxPermSize</p>\n<p>i.e.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span></span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">hello</span><span class=\"params\">()</span></span>&#123;&#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">        Demo demo = <span class=\"keyword\">new</span> Demo();</span><br><span class=\"line\">        demo.hello();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>newhellodemo</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person person1 = <span class=\"keyword\">new</span> Person();</span><br><span class=\"line\">Person person2 = <span class=\"keyword\">new</span> Person();</span><br></pre></td></tr></table></figure>\n\n<p>new</p>\n<p>person1person2</p>\n<p>hotsoptjavaClass &gt;&gt;</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>Java7    Jvm</p>\n<p>(Java8)    </p>\n<p>+</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>++</p>\n<p> Youg Generation Space (Eden Sapce + Survivor 0 space + Survivor 1 space)</p>\n<p>Tenure Generation Space</p>\n<p>Permanent Space</p>\n<ul>\n<li>Eden: 0space: 1space  = 8 : 1 : 1</li>\n<li>Young : Old = 1 : 2</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Eden Sapce,GCSurvivior 0 spaceEden SpaceSurvivor 0 spaceGCSurvivor 1 spaceTenure Genreration SpaceFull GCOutOfMemoryError(OOM)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Survivor 0 space: from</p>\n<p>Surrivor 1 space: to</p>\n<p>GCto</p>\n<ol>\n<li>Eden, SurvivorFrom copy to SurviviorTo</li>\n<li>clean up Eden, SurvivorFrom</li>\n<li>Swap SurvivorTo and SurvivorFrom</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>jdkClassInterfaceJVM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Returns the maximum amount of memory that the Java virtual machine will attempt to use.</span></span><br><span class=\"line\">    <span class=\"keyword\">long</span> l = Runtime.getRuntime().maxMemory();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Returns the total amount of memory in the Java virtual machine.</span></span><br><span class=\"line\">    <span class=\"keyword\">long</span> l1 = Runtime.getRuntime().totalMemory();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 1/4</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;(-xmx) MAX_MEMORY: &quot;</span> + l + <span class=\"string\">&quot;bytes, &quot;</span> + (l / (<span class=\"keyword\">double</span>) <span class=\"number\">1024</span> / <span class=\"number\">1024</span> + <span class=\"string\">&quot;MB&quot;</span>));</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 1/64</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;(-xms) TOTAL_MEMORY: &quot;</span> + l1 + <span class=\"string\">&quot;bytes, &quot;</span> + (l1 / (<span class=\"keyword\">double</span>) <span class=\"number\">1024</span> / <span class=\"number\">1024</span> + <span class=\"string\">&quot;MB&quot;</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>note:</strong> </p>\n<blockquote>\n<p>-XX:MaxTenuringThreshold java815</p>\n</blockquote>\n<h1 id=\"GC\"><a href=\"#GC\" class=\"headerlink\" title=\"GC\"></a>GC</h1><ul>\n<li>minor GC</li>\n<li>major/full GC</li>\n</ul>\n<p>major GCminor GCyoungold</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>1,0JVM</p>\n<h3 id=\"Copying\"><a href=\"#Copying\" class=\"headerlink\" title=\"Copying\"></a>Copying</h3><p>Minor GCCopying</p>\n<p></p>\n<h3 id=\"Mark-Sweep\"><a href=\"#Mark-Sweep\" class=\"headerlink\" title=\"Mark-Sweep\"></a>Mark-Sweep</h3><p>Major GCMark-SweepMark-Compact--CopyingJVM</p>\n<h3 id=\"Mark-Compact\"><a href=\"#Mark-Compact\" class=\"headerlink\" title=\"Mark-Compact\"></a>Mark-Compact</h3><p>Mark-Sweep-Compact</p>\n<p>GC</p>\n<h1 id=\"JMM\"><a href=\"#JMM\" class=\"headerlink\" title=\"JMM\"></a>JMM</h1><p>JavaJava Memory  Model)<strong></strong></p>\n<p><code></code>java</p>\n<p></p>\n<h2 id=\"violatile\"><a href=\"#violatile\" class=\"headerlink\" title=\"violatile\"></a>violatile</h2><p>javasyncronized</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h1 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A:\"></a>Q&amp;A:</h1><h2 id=\"JVMjava8\"><a href=\"#JVMjava8\" class=\"headerlink\" title=\"JVMjava8\"></a>JVMjava8</h2><h2 id=\"OOMStackOverFlowError\"><a href=\"#OOMStackOverFlowError\" class=\"headerlink\" title=\"OOMStackOverFlowError\"></a>OOMStackOverFlowError</h2><h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2><h2 id=\"JVM\"><a href=\"#JVM\" class=\"headerlink\" title=\"JVM\"></a>JVM</h2>"},{"title":"kafka","date":"2019-12-03T14:34:16.000Z","_content":"\n\n\n<!-- mroe -->\n\n# \n``````Message Queue)\n\n## \n\n1. \n2. \n\n\n\n### \n\n1. : QueueQueueQueueQueue\n    ABCAAC``\n\n2. topictopic\n   \n    1. \n    2. \n    \n    - \n    - \n    \n    ``topic\n\n## \n\nkafka()\n\n1. brokerbrokerpartitionleaderfollowerleader+\n2. ``\n3. zookeeperzookeeperzookeeperok0.9zkkafka7\n\n## \n\n","source":"_posts/kafka.md","raw":"---\ntitle: kafka\ndate: 2019-12-03 22:34:16\ncategories: MiddleWare\ntags: kafka\n---\n\n\n\n<!-- mroe -->\n\n# \n``````Message Queue)\n\n## \n\n1. \n2. \n\n\n\n### \n\n1. : QueueQueueQueueQueue\n    ABCAAC``\n\n2. topictopic\n   \n    1. \n    2. \n    \n    - \n    - \n    \n    ``topic\n\n## \n\nkafka()\n\n1. brokerbrokerpartitionleaderfollowerleader+\n2. ``\n3. zookeeperzookeeperzookeeperok0.9zkkafka7\n\n## \n\n","slug":"kafka","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hv000vk7ih7oej2evb","content":"<p></p>\n<!-- mroe -->\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code></code><code></code><code></code>Message Queue)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>: QueueQueueQueueQueue<br> ABCAAC<code></code></p>\n</li>\n<li><p>topictopic</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p><code></code>topic</p>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kafka()</p>\n<ol>\n<li>brokerbrokerpartitionleaderfollowerleader+</li>\n<li><code></code></li>\n<li>zookeeperzookeeperzookeeperok0.9zkkafka7</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2>","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":"<p></p>\n<!-- mroe -->\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><code></code><code></code><code></code>Message Queue)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p>: QueueQueueQueueQueue<br> ABCAAC<code></code></p>\n</li>\n<li><p>topictopic</p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p><code></code>topic</p>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>kafka()</p>\n<ol>\n<li>brokerbrokerpartitionleaderfollowerleader+</li>\n<li><code></code></li>\n<li>zookeeperzookeeperzookeeperok0.9zkkafka7</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2>"},{"title":"lock","date":"2020-07-20T13:46:41.000Z","_content":"\n\n\n<!--more-->\n\n# \n\n![image.png](https://i.loli.net/2020/07/20/AwVJYTyQqzUpEPl.png)\n\n# |\n\n**JVM**java\n\n- Java`synchronized``Lock`\n- Java****`CAS`Java**CAS**\n\n********\n\n```java\n// synchronized\npublic synchronized void testMehthod(){\n    // do something...\n}\n\n// ReentrantLock\nprivate ReentrantLock lock = new ReentrantLock();\npublic void modifyPublicResources()){\n    try{\n        lock.lock();\n        // do something...\n    }finally{\n        lock.unlock();\n    }\n}\n\n// \nprivate AtomicInteger ai = new AtomicInteger();\natomicInteger.incrementAndGet(); // 1\n```\n\n\n\n# Compare And Swap\n\nCASjava****\n\n- V \n- A\n- B\n\n`V=A`CASBV\n\n## AtomicInteger\n\n```java\npublic class AtomicInteger extends Number implements java.io.Serializable {\n    private static final long serialVersionUID = 6214790243416807050L;\n\n    // setup to use Unsafe.compareAndSwapInt for updates\n    // \n    private static final Unsafe unsafe = Unsafe.getUnsafe();\n    // valueAtomicInteger\n    private static final long valueOffset;\n\n    static {\n        try {\n            valueOffset = unsafe.objectFieldOffset\n                (AtomicInteger.class.getDeclaredField(\"value\"));\n        } catch (Exception ex) { throw new Error(ex); }\n    }\n\t// AtomicIntegerint\n    private volatile int value;\n```\n\n```java\npublic final int getAndIncrement() {\n    return unsafe.getAndAddInt(this, valueOffset, 1);\n}\n```\n\n```java\npublic final int getAndAddInt(Object var1, long var2, int var4) {\n    int var5;\n    do {\n        var5 = this.getIntVolatile(var1, var2);\n    } while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4));\n\n    return var5;\n}\n```\n\n```java\npublic final native boolean compareAndSwapInt(Object var1, long var2, int var4, int var5);\n```\n\n`compareAndSwapInt``native`+JDKCPUcmpxchgAVCAS\n\n- `do-while`CPU\n\n**note:** ABAABACASfalse1A-2B-3A\"\n\n# |\n\n\n\nCPU\n\nreference [here](https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651749434&idx=3&sn=5ffa63ad47fe166f2f1a9f604ed10091&chksm=bd12a5778a652c61509d9e718ab086ff27ad8768586ea9b38c3dcf9e017a8e49bcae3df9bcc8&scene=38#wechat_redirect)\n\n# |\n\n\n\n`ReentrantLock``Sync``AbstractQueuedSnchronizer``Sync``FairSync``NonfairSync``ReentrantLock`\n\n# |\n\n==JDK`synchronized``Lock`\n\n\n\nAQS`ReentrantReadWriteLock``ReadLock``WriteLock`","source":"_posts/lock.md","raw":"---\ntitle: lock\ndate: 2020-07-20 21:46:41\ncategories: Java\ntags: lock\n---\n\n\n\n<!--more-->\n\n# \n\n![image.png](https://i.loli.net/2020/07/20/AwVJYTyQqzUpEPl.png)\n\n# |\n\n**JVM**java\n\n- Java`synchronized``Lock`\n- Java****`CAS`Java**CAS**\n\n********\n\n```java\n// synchronized\npublic synchronized void testMehthod(){\n    // do something...\n}\n\n// ReentrantLock\nprivate ReentrantLock lock = new ReentrantLock();\npublic void modifyPublicResources()){\n    try{\n        lock.lock();\n        // do something...\n    }finally{\n        lock.unlock();\n    }\n}\n\n// \nprivate AtomicInteger ai = new AtomicInteger();\natomicInteger.incrementAndGet(); // 1\n```\n\n\n\n# Compare And Swap\n\nCASjava****\n\n- V \n- A\n- B\n\n`V=A`CASBV\n\n## AtomicInteger\n\n```java\npublic class AtomicInteger extends Number implements java.io.Serializable {\n    private static final long serialVersionUID = 6214790243416807050L;\n\n    // setup to use Unsafe.compareAndSwapInt for updates\n    // \n    private static final Unsafe unsafe = Unsafe.getUnsafe();\n    // valueAtomicInteger\n    private static final long valueOffset;\n\n    static {\n        try {\n            valueOffset = unsafe.objectFieldOffset\n                (AtomicInteger.class.getDeclaredField(\"value\"));\n        } catch (Exception ex) { throw new Error(ex); }\n    }\n\t// AtomicIntegerint\n    private volatile int value;\n```\n\n```java\npublic final int getAndIncrement() {\n    return unsafe.getAndAddInt(this, valueOffset, 1);\n}\n```\n\n```java\npublic final int getAndAddInt(Object var1, long var2, int var4) {\n    int var5;\n    do {\n        var5 = this.getIntVolatile(var1, var2);\n    } while(!this.compareAndSwapInt(var1, var2, var5, var5 + var4));\n\n    return var5;\n}\n```\n\n```java\npublic final native boolean compareAndSwapInt(Object var1, long var2, int var4, int var5);\n```\n\n`compareAndSwapInt``native`+JDKCPUcmpxchgAVCAS\n\n- `do-while`CPU\n\n**note:** ABAABACASfalse1A-2B-3A\"\n\n# |\n\n\n\nCPU\n\nreference [here](https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651749434&idx=3&sn=5ffa63ad47fe166f2f1a9f604ed10091&chksm=bd12a5778a652c61509d9e718ab086ff27ad8768586ea9b38c3dcf9e017a8e49bcae3df9bcc8&scene=38#wechat_redirect)\n\n# |\n\n\n\n`ReentrantLock``Sync``AbstractQueuedSnchronizer``Sync``FairSync``NonfairSync``ReentrantLock`\n\n# |\n\n==JDK`synchronized``Lock`\n\n\n\nAQS`ReentrantReadWriteLock``ReadLock``WriteLock`","slug":"lock","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hx000zk7ih9iz99g9j","content":"<p></p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/07/20/AwVJYTyQqzUpEPl.png\" alt=\"image.png\"></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p><strong>JVM</strong>java</p>\n<ul>\n<li>Java<code>synchronized</code><code>Lock</code></li>\n<li>Java<strong></strong><code>CAS</code>Java<strong>CAS</strong></li>\n</ul>\n<p><strong></strong><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// synchronized</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title\">testMehthod</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReentrantLock</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> ReentrantLock lock = <span class=\"keyword\">new</span> ReentrantLock();</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">modifyPublicResources</span><span class=\"params\">()</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        lock.lock();</span><br><span class=\"line\">        <span class=\"comment\">// do something...</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> AtomicInteger ai = <span class=\"keyword\">new</span> AtomicInteger();</span><br><span class=\"line\">atomicInteger.incrementAndGet(); <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"Compare-And-Swap\"><a href=\"#Compare-And-Swap\" class=\"headerlink\" title=\"Compare And Swap\"></a>Compare And Swap</h1><p>CASjava<strong></strong></p>\n<ul>\n<li>V </li>\n<li>A</li>\n<li>B</li>\n</ul>\n<p><code>V=A</code>CASBV</p>\n<h2 id=\"AtomicInteger\"><a href=\"#AtomicInteger\" class=\"headerlink\" title=\"AtomicInteger\"></a>AtomicInteger</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AtomicInteger</span> <span class=\"keyword\">extends</span> <span class=\"title\">Number</span> <span class=\"keyword\">implements</span> <span class=\"title\">java</span>.<span class=\"title\">io</span>.<span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">6214790243416807050L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// setup to use Unsafe.compareAndSwapInt for updates</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Unsafe unsafe = Unsafe.getUnsafe();</span><br><span class=\"line\">    <span class=\"comment\">// valueAtomicInteger</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> valueOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            valueOffset = unsafe.objectFieldOffset</span><br><span class=\"line\">                (AtomicInteger.class.getDeclaredField(<span class=\"string\">&quot;value&quot;</span>));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception ex) &#123; <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Error(ex); &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">// AtomicIntegerint</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> value;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">getAndIncrement</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> unsafe.getAndAddInt(<span class=\"keyword\">this</span>, valueOffset, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">getAndAddInt</span><span class=\"params\">(Object var1, <span class=\"keyword\">long</span> var2, <span class=\"keyword\">int</span> var4)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> var5;</span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">        var5 = <span class=\"keyword\">this</span>.getIntVolatile(var1, var2);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(!<span class=\"keyword\">this</span>.compareAndSwapInt(var1, var2, var5, var5 + var4));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> var5;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">native</span> <span class=\"keyword\">boolean</span> <span class=\"title\">compareAndSwapInt</span><span class=\"params\">(Object var1, <span class=\"keyword\">long</span> var2, <span class=\"keyword\">int</span> var4, <span class=\"keyword\">int</span> var5)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p><code>compareAndSwapInt</code><code>native</code>+JDKCPUcmpxchgAVCAS</p>\n<ul>\n<li><code>do-while</code>CPU</li>\n</ul>\n<p><strong>note:</strong> ABAABACASfalse1A-2B-3A</p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p></p>\n<p>CPU</p>\n<p>reference <a href=\"https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651749434&idx=3&sn=5ffa63ad47fe166f2f1a9f604ed10091&chksm=bd12a5778a652c61509d9e718ab086ff27ad8768586ea9b38c3dcf9e017a8e49bcae3df9bcc8&scene=38#wechat_redirect\">here</a></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p></p>\n<p><code>ReentrantLock</code><code>Sync</code><code>AbstractQueuedSnchronizer</code><code>Sync</code><code>FairSync</code><code>NonfairSync</code><code>ReentrantLock</code></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p>==JDK<code>synchronized</code><code>Lock</code></p>\n<p></p>\n<p>AQS<code>ReentrantReadWriteLock</code><code>ReadLock</code><code>WriteLock</code></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p></p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><img src=\"https://i.loli.net/2020/07/20/AwVJYTyQqzUpEPl.png\" alt=\"image.png\"></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p><strong>JVM</strong>java</p>\n<ul>\n<li>Java<code>synchronized</code><code>Lock</code></li>\n<li>Java<strong></strong><code>CAS</code>Java<strong>CAS</strong></li>\n</ul>\n<p><strong></strong><strong></strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// synchronized</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">synchronized</span> <span class=\"keyword\">void</span> <span class=\"title\">testMehthod</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ReentrantLock</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> ReentrantLock lock = <span class=\"keyword\">new</span> ReentrantLock();</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">modifyPublicResources</span><span class=\"params\">()</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">        lock.lock();</span><br><span class=\"line\">        <span class=\"comment\">// do something...</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">        lock.unlock();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\"><span class=\"keyword\">private</span> AtomicInteger ai = <span class=\"keyword\">new</span> AtomicInteger();</span><br><span class=\"line\">atomicInteger.incrementAndGet(); <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"Compare-And-Swap\"><a href=\"#Compare-And-Swap\" class=\"headerlink\" title=\"Compare And Swap\"></a>Compare And Swap</h1><p>CASjava<strong></strong></p>\n<ul>\n<li>V </li>\n<li>A</li>\n<li>B</li>\n</ul>\n<p><code>V=A</code>CASBV</p>\n<h2 id=\"AtomicInteger\"><a href=\"#AtomicInteger\" class=\"headerlink\" title=\"AtomicInteger\"></a>AtomicInteger</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AtomicInteger</span> <span class=\"keyword\">extends</span> <span class=\"title\">Number</span> <span class=\"keyword\">implements</span> <span class=\"title\">java</span>.<span class=\"title\">io</span>.<span class=\"title\">Serializable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">6214790243416807050L</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// setup to use Unsafe.compareAndSwapInt for updates</span></span><br><span class=\"line\">    <span class=\"comment\">// </span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> Unsafe unsafe = Unsafe.getUnsafe();</span><br><span class=\"line\">    <span class=\"comment\">// valueAtomicInteger</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> valueOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">static</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            valueOffset = unsafe.objectFieldOffset</span><br><span class=\"line\">                (AtomicInteger.class.getDeclaredField(<span class=\"string\">&quot;value&quot;</span>));</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception ex) &#123; <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> Error(ex); &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t<span class=\"comment\">// AtomicIntegerint</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> value;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">getAndIncrement</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> unsafe.getAndAddInt(<span class=\"keyword\">this</span>, valueOffset, <span class=\"number\">1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">int</span> <span class=\"title\">getAndAddInt</span><span class=\"params\">(Object var1, <span class=\"keyword\">long</span> var2, <span class=\"keyword\">int</span> var4)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> var5;</span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">        var5 = <span class=\"keyword\">this</span>.getIntVolatile(var1, var2);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">while</span>(!<span class=\"keyword\">this</span>.compareAndSwapInt(var1, var2, var5, var5 + var4));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> var5;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"keyword\">native</span> <span class=\"keyword\">boolean</span> <span class=\"title\">compareAndSwapInt</span><span class=\"params\">(Object var1, <span class=\"keyword\">long</span> var2, <span class=\"keyword\">int</span> var4, <span class=\"keyword\">int</span> var5)</span></span>;</span><br></pre></td></tr></table></figure>\n\n<p><code>compareAndSwapInt</code><code>native</code>+JDKCPUcmpxchgAVCAS</p>\n<ul>\n<li><code>do-while</code>CPU</li>\n</ul>\n<p><strong>note:</strong> ABAABACASfalse1A-2B-3A</p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p></p>\n<p>CPU</p>\n<p>reference <a href=\"https://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&mid=2651749434&idx=3&sn=5ffa63ad47fe166f2f1a9f604ed10091&chksm=bd12a5778a652c61509d9e718ab086ff27ad8768586ea9b38c3dcf9e017a8e49bcae3df9bcc8&scene=38#wechat_redirect\">here</a></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p></p>\n<p><code>ReentrantLock</code><code>Sync</code><code>AbstractQueuedSnchronizer</code><code>Sync</code><code>FairSync</code><code>NonfairSync</code><code>ReentrantLock</code></p>\n<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"|\"></a>|</h1><p>==JDK<code>synchronized</code><code>Lock</code></p>\n<p></p>\n<p>AQS<code>ReentrantReadWriteLock</code><code>ReadLock</code><code>WriteLock</code></p>"},{"title":"mybatis","date":"2020-08-05T14:21:19.000Z","_content":"\nMybatisJDBC\n\n<!--more-->\n\n# \n\n```flow\nstart=>start: start\nconfig=>operation: mybatis-config.xml\nbuild=>operation: SqlSessionFactoryBuilder\nfactory=>operation: SqlSessionFactory\nsession=>parallel: SqlSession\nmapper=>operation: Sql Mapper\nend=>end: end\n\nstart->config->build->factory->session\nsession(path1,)->end\nsession(path2,right)->mapper->end\n```\n\n`SqlSessionFactoryBuilder``SqlSessionFactory`****`SqlSessionFactory`**`SqlSession` `SqlSession`session****session****`SqlSession`\n\n## \n\npojo`resultMap`****\n\n`resultType`HashMapkeymap`resultMap``resultType`\n\n## \n\nmybatissql\n\n```xml\n<settings>\n\t<setting name=\"logImpl\" value=\"log4j\"/>\n</settings>\n```\n\n## \n\nmybatis`limit``rowBounts`sql\n\n```sql\nselect * from USER limit #{index},#{size}\n```\n\n# \n\n\n\n## \n\nsession`close`\n\n## \n\n`namespace``Cache`","source":"_posts/mybatis.md","raw":"---\ntitle: mybatis\ndate: 2020-08-05 22:21:19\ncategories: Java\ntags: mybatis\n---\n\nMybatisJDBC\n\n<!--more-->\n\n# \n\n```flow\nstart=>start: start\nconfig=>operation: mybatis-config.xml\nbuild=>operation: SqlSessionFactoryBuilder\nfactory=>operation: SqlSessionFactory\nsession=>parallel: SqlSession\nmapper=>operation: Sql Mapper\nend=>end: end\n\nstart->config->build->factory->session\nsession(path1,)->end\nsession(path2,right)->mapper->end\n```\n\n`SqlSessionFactoryBuilder``SqlSessionFactory`****`SqlSessionFactory`**`SqlSession` `SqlSession`session****session****`SqlSession`\n\n## \n\npojo`resultMap`****\n\n`resultType`HashMapkeymap`resultMap``resultType`\n\n## \n\nmybatissql\n\n```xml\n<settings>\n\t<setting name=\"logImpl\" value=\"log4j\"/>\n</settings>\n```\n\n## \n\nmybatis`limit``rowBounts`sql\n\n```sql\nselect * from USER limit #{index},#{size}\n```\n\n# \n\n\n\n## \n\nsession`close`\n\n## \n\n`namespace``Cache`","slug":"mybatis","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8hy0012k7ihbuwc2v3t","content":"<p>MybatisJDBC</p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: start</span><br><span class=\"line\">config&#x3D;&gt;operation: mybatis-config.xml</span><br><span class=\"line\">build&#x3D;&gt;operation: SqlSessionFactoryBuilder</span><br><span class=\"line\">factory&#x3D;&gt;operation: SqlSessionFactory</span><br><span class=\"line\">session&#x3D;&gt;parallel: SqlSession</span><br><span class=\"line\">mapper&#x3D;&gt;operation: Sql Mapper</span><br><span class=\"line\">end&#x3D;&gt;end: end</span><br><span class=\"line\"></span><br><span class=\"line\">start-&gt;config-&gt;build-&gt;factory-&gt;session</span><br><span class=\"line\">session(path1,)-&gt;end</span><br><span class=\"line\">session(path2,right)-&gt;mapper-&gt;end</span><br></pre></td></tr></table></figure>\n\n<p><code>SqlSessionFactoryBuilder</code><code>SqlSessionFactory</code><strong></strong><code>SqlSessionFactory</code><em></em><code>SqlSession</code> <code>SqlSession</code>session<strong></strong>session<strong></strong><code>SqlSession</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>pojo<code>resultMap</code><strong></strong></p>\n<p><code>resultType</code>HashMapkeymap<code>resultMap</code><code>resultType</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>mybatissql</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;logImpl&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;log4j&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>mybatis<code>limit</code><code>rowBounts</code>sql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> * <span class=\"keyword\">from</span> <span class=\"keyword\">USER</span> <span class=\"keyword\">limit</span> <span class=\"comment\">#&#123;index&#125;,#&#123;size&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>session<code>close</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>namespace</code><code>Cache</code></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>MybatisJDBC</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: start</span><br><span class=\"line\">config&#x3D;&gt;operation: mybatis-config.xml</span><br><span class=\"line\">build&#x3D;&gt;operation: SqlSessionFactoryBuilder</span><br><span class=\"line\">factory&#x3D;&gt;operation: SqlSessionFactory</span><br><span class=\"line\">session&#x3D;&gt;parallel: SqlSession</span><br><span class=\"line\">mapper&#x3D;&gt;operation: Sql Mapper</span><br><span class=\"line\">end&#x3D;&gt;end: end</span><br><span class=\"line\"></span><br><span class=\"line\">start-&gt;config-&gt;build-&gt;factory-&gt;session</span><br><span class=\"line\">session(path1,)-&gt;end</span><br><span class=\"line\">session(path2,right)-&gt;mapper-&gt;end</span><br></pre></td></tr></table></figure>\n\n<p><code>SqlSessionFactoryBuilder</code><code>SqlSessionFactory</code><strong></strong><code>SqlSessionFactory</code><em></em><code>SqlSession</code> <code>SqlSession</code>session<strong></strong>session<strong></strong><code>SqlSession</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>pojo<code>resultMap</code><strong></strong></p>\n<p><code>resultType</code>HashMapkeymap<code>resultMap</code><code>resultType</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>mybatissql</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">settings</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">setting</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;logImpl&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;log4j&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>mybatis<code>limit</code><code>rowBounts</code>sql</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> * <span class=\"keyword\">from</span> <span class=\"keyword\">USER</span> <span class=\"keyword\">limit</span> <span class=\"comment\">#&#123;index&#125;,#&#123;size&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>session<code>close</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>namespace</code><code>Cache</code></p>"},{"title":"nginx","date":"2019-11-02T14:53:32.000Z","_content":"# NIGNX\n\n*Nginx* (engine x) HTTP****webIMAP/POP3/SMTPNginxRambler.ru0.1.02004104\n\nWebIMAP/POP3BSD-like nginx\n\n\n\n- \n- \n- \n- \n\n\n\n## \n\nIP\n\n## \n\nInternetInternetnginx\n\n\n\n\n\n## \n\n\n\n\n\n## \n\n\n\nhtml, css, js\n\njsp, servlet\n\n## \n\n### \n\nnginx\n\n/usr/localnginx/sbin\n\n- nginx\n- \n- \n- nginx\n\n[referenct](https://mp.weixin.qq.com/s/PeNWaCDf_6gp2fCQa0Gvng)\n\n# \n\n1. EPEL\n\n   ```bash\n   sudo yum install -y epel-release\n   sudo yum -y update\n   ```\n\n2. nginx\n\n   ```bash\n   sudo yum instll -y nginx\n   ```\n\n   \n\n   ``_/usr/share/nginx/html_\n\n   ``_/etc/nginx/nginx.conf_\n\n   ``_/etc/nginx/conf.d/_\n\n3. 80443\n\n   \n\n   ```bash\n   sudo firewall-cmd --permanent --zone=public --add-service=http\n   sudo firewall-cmd --permanent --zone=public --add-service=https\n   sudo firewall-cmd --reload\n   ```\n\n4. \n\n   - \n\n     ```bash\n     systemctl start nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl stop nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl restart nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl status nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl enable nginx\n     ```\n\n     `nginx`\n\n     ```bash\n     nginx -t\n     ```\n\n     ```bash\n     nginx -s reload\n     ```\n\n     \n\n   - \n\n     ```bash\n     systemctl disbale nginx\n     ```\n\n5. https\n\n   1. https\n\n   3. nginx\n   \n      domain\n   \n      ```bash\n   mkdir -p /etc/nginx/ssl\n      \n   acme.sh --install-cert -d domain \\\n      --key-file       /etc/nginx/ssl/domain.key  \\\n      --fullchain-file /etc/nginx/ssl/domain.cer \\\n      --reloadcmd     \"service nginx force-reload\"\n      ```\n   \n6. nginx\n\n   **/etc/nginx/nginx.conf**server\n\n   ```markdown\n   server{\n   ...\n   }\n   ```\n\n   **/etc/nginx/conf.d****default.conf**\n\n   ```properties\n   server {\n       listen 80;\n       listen 443 ssl;\n       server_name  domain www.domain;\n       location / {\n            root /usr/share/nginx/html;\n            index  index.html index.htm;\n        }\n   \n       ssl_certificate /etc/nginx/ssl/domain.crt;\n       ssl_certificate_key /etc/nginx/ssl/domain.key;\n       ssl_session_timeout  5m;\n       ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n       ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;\n       ssl_prefer_server_ciphers  on;\n   \n       error_page 497  https://$host$uri?$args;\n   }\n   ```\n   \n\n   \n\n   \n","source":"_posts/nginx.md","raw":"---\ntitle: nginx\ndate: 2019-11-02 22:53:32\ncategories: Network\ntags: network\n---\n# NIGNX\n\n*Nginx* (engine x) HTTP****webIMAP/POP3/SMTPNginxRambler.ru0.1.02004104\n\nWebIMAP/POP3BSD-like nginx\n\n\n\n- \n- \n- \n- \n\n\n\n## \n\nIP\n\n## \n\nInternetInternetnginx\n\n\n\n\n\n## \n\n\n\n\n\n## \n\n\n\nhtml, css, js\n\njsp, servlet\n\n## \n\n### \n\nnginx\n\n/usr/localnginx/sbin\n\n- nginx\n- \n- \n- nginx\n\n[referenct](https://mp.weixin.qq.com/s/PeNWaCDf_6gp2fCQa0Gvng)\n\n# \n\n1. EPEL\n\n   ```bash\n   sudo yum install -y epel-release\n   sudo yum -y update\n   ```\n\n2. nginx\n\n   ```bash\n   sudo yum instll -y nginx\n   ```\n\n   \n\n   ``_/usr/share/nginx/html_\n\n   ``_/etc/nginx/nginx.conf_\n\n   ``_/etc/nginx/conf.d/_\n\n3. 80443\n\n   \n\n   ```bash\n   sudo firewall-cmd --permanent --zone=public --add-service=http\n   sudo firewall-cmd --permanent --zone=public --add-service=https\n   sudo firewall-cmd --reload\n   ```\n\n4. \n\n   - \n\n     ```bash\n     systemctl start nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl stop nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl restart nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl status nginx\n     ```\n\n   - \n\n     ```bash\n     systemctl enable nginx\n     ```\n\n     `nginx`\n\n     ```bash\n     nginx -t\n     ```\n\n     ```bash\n     nginx -s reload\n     ```\n\n     \n\n   - \n\n     ```bash\n     systemctl disbale nginx\n     ```\n\n5. https\n\n   1. https\n\n   3. nginx\n   \n      domain\n   \n      ```bash\n   mkdir -p /etc/nginx/ssl\n      \n   acme.sh --install-cert -d domain \\\n      --key-file       /etc/nginx/ssl/domain.key  \\\n      --fullchain-file /etc/nginx/ssl/domain.cer \\\n      --reloadcmd     \"service nginx force-reload\"\n      ```\n   \n6. nginx\n\n   **/etc/nginx/nginx.conf**server\n\n   ```markdown\n   server{\n   ...\n   }\n   ```\n\n   **/etc/nginx/conf.d****default.conf**\n\n   ```properties\n   server {\n       listen 80;\n       listen 443 ssl;\n       server_name  domain www.domain;\n       location / {\n            root /usr/share/nginx/html;\n            index  index.html index.htm;\n        }\n   \n       ssl_certificate /etc/nginx/ssl/domain.crt;\n       ssl_certificate_key /etc/nginx/ssl/domain.key;\n       ssl_session_timeout  5m;\n       ssl_protocols TLSv1 TLSv1.1 TLSv1.2;\n       ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;\n       ssl_prefer_server_ciphers  on;\n   \n       error_page 497  https://$host$uri?$args;\n   }\n   ```\n   \n\n   \n\n   \n","slug":"nginx","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8i30016k7ih7jbgaat5","content":"<h1 id=\"NIGNX\"><a href=\"#NIGNX\" class=\"headerlink\" title=\"NIGNX\"></a>NIGNX</h1><p><em>Nginx</em> (engine x) HTTP<strong></strong>webIMAP/POP3/SMTPNginxRambler.ru0.1.02004104</p>\n<p>WebIMAP/POP3BSD-like nginx</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>InternetInternetnginx</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>html, css, js</p>\n<p>jsp, servlet</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nginx</p>\n<p>/usr/localnginx/sbin</p>\n<ul>\n<li>nginx</li>\n<li></li>\n<li></li>\n<li>nginx</li>\n</ul>\n<p><a href=\"https://mp.weixin.qq.com/s/PeNWaCDf_6gp2fCQa0Gvng\">referenct</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>EPEL</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y epel-release</span><br><span class=\"line\">sudo yum -y update</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum instll -y nginx</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p><code></code><em>/usr/share/nginx/html</em></p>\n<p><code></code><em>/etc/nginx/nginx.conf</em></p>\n<p><code></code><em>/etc/nginx/conf.d/</em></p>\n</li>\n<li><p>80443</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=http</span><br><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">enable</span> nginx</span><br></pre></td></tr></table></figure>\n\n<p><code>nginx</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl disbale nginx</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol start=\"5\">\n<li><p>https</p>\n<ol>\n<li><p>https</p>\n</li>\n<li><p>nginx</p>\n<p>domain</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /etc/nginx/ssl</span><br><span class=\"line\">   </span><br><span class=\"line\">acme.sh --install-cert -d domain \\</span><br><span class=\"line\">   --key-file       /etc/nginx/ssl/domain.key  \\</span><br><span class=\"line\">   --fullchain-file /etc/nginx/ssl/domain.cer \\</span><br><span class=\"line\">   --reloadcmd     <span class=\"string\">&quot;service nginx force-reload&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>nginx</p>\n<p>**/etc/nginx/nginx.conf**server</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server&#123;</span><br><span class=\"line\">...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>**/etc/nginx/conf.d<strong></strong>default.conf**</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">listen</span> <span class=\"string\">80;</span></span><br><span class=\"line\">    <span class=\"attr\">listen</span> <span class=\"string\">443 ssl;</span></span><br><span class=\"line\">    <span class=\"attr\">server_name</span>  <span class=\"string\">domain www.domain;</span></span><br><span class=\"line\">    <span class=\"attr\">location</span> <span class=\"string\">/ &#123;</span></span><br><span class=\"line\">         <span class=\"attr\">root</span> <span class=\"string\">/usr/share/nginx/html;</span></span><br><span class=\"line\">         <span class=\"attr\">index</span>  <span class=\"string\">index.html index.htm;</span></span><br><span class=\"line\">     <span class=\"attr\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">ssl_certificate</span> <span class=\"string\">/etc/nginx/ssl/domain.crt;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_certificate_key</span> <span class=\"string\">/etc/nginx/ssl/domain.key;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_session_timeout</span>  <span class=\"string\">5m;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_protocols</span> <span class=\"string\">TLSv1 TLSv1.1 TLSv1.2;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_ciphers</span> <span class=\"string\">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_prefer_server_ciphers</span>  <span class=\"string\">on;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">error_page</span> <span class=\"string\">497  https://$host$uri?$args;</span></span><br><span class=\"line\"><span class=\"attr\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n</li>\n</ol>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"","more":"<h1 id=\"NIGNX\"><a href=\"#NIGNX\" class=\"headerlink\" title=\"NIGNX\"></a>NIGNX</h1><p><em>Nginx</em> (engine x) HTTP<strong></strong>webIMAP/POP3/SMTPNginxRambler.ru0.1.02004104</p>\n<p>WebIMAP/POP3BSD-like nginx</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>InternetInternetnginx</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>html, css, js</p>\n<p>jsp, servlet</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>nginx</p>\n<p>/usr/localnginx/sbin</p>\n<ul>\n<li>nginx</li>\n<li></li>\n<li></li>\n<li>nginx</li>\n</ul>\n<p><a href=\"https://mp.weixin.qq.com/s/PeNWaCDf_6gp2fCQa0Gvng\">referenct</a></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ol>\n<li><p>EPEL</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y epel-release</span><br><span class=\"line\">sudo yum -y update</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum instll -y nginx</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<p><code></code><em>/usr/share/nginx/html</em></p>\n<p><code></code><em>/etc/nginx/nginx.conf</em></p>\n<p><code></code><em>/etc/nginx/conf.d/</em></p>\n</li>\n<li><p>80443</p>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=http</span><br><span class=\"line\">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status nginx</span><br></pre></td></tr></table></figure>\n</li>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"built_in\">enable</span> nginx</span><br></pre></td></tr></table></figure>\n\n<p><code>nginx</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -t</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nginx -s reload</span><br></pre></td></tr></table></figure>\n\n\n\n</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl disbale nginx</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<ol start=\"5\">\n<li><p>https</p>\n<ol>\n<li><p>https</p>\n</li>\n<li><p>nginx</p>\n<p>domain</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir -p /etc/nginx/ssl</span><br><span class=\"line\">   </span><br><span class=\"line\">acme.sh --install-cert -d domain \\</span><br><span class=\"line\">   --key-file       /etc/nginx/ssl/domain.key  \\</span><br><span class=\"line\">   --fullchain-file /etc/nginx/ssl/domain.cer \\</span><br><span class=\"line\">   --reloadcmd     <span class=\"string\">&quot;service nginx force-reload&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>nginx</p>\n<p>**/etc/nginx/nginx.conf**server</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server&#123;</span><br><span class=\"line\">...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>**/etc/nginx/conf.d<strong></strong>default.conf**</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">server</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">listen</span> <span class=\"string\">80;</span></span><br><span class=\"line\">    <span class=\"attr\">listen</span> <span class=\"string\">443 ssl;</span></span><br><span class=\"line\">    <span class=\"attr\">server_name</span>  <span class=\"string\">domain www.domain;</span></span><br><span class=\"line\">    <span class=\"attr\">location</span> <span class=\"string\">/ &#123;</span></span><br><span class=\"line\">         <span class=\"attr\">root</span> <span class=\"string\">/usr/share/nginx/html;</span></span><br><span class=\"line\">         <span class=\"attr\">index</span>  <span class=\"string\">index.html index.htm;</span></span><br><span class=\"line\">     <span class=\"attr\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">ssl_certificate</span> <span class=\"string\">/etc/nginx/ssl/domain.crt;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_certificate_key</span> <span class=\"string\">/etc/nginx/ssl/domain.key;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_session_timeout</span>  <span class=\"string\">5m;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_protocols</span> <span class=\"string\">TLSv1 TLSv1.1 TLSv1.2;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_ciphers</span> <span class=\"string\">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4:!DH:!DHE;</span></span><br><span class=\"line\">    <span class=\"attr\">ssl_prefer_server_ciphers</span>  <span class=\"string\">on;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"attr\">error_page</span> <span class=\"string\">497  https://$host$uri?$args;</span></span><br><span class=\"line\"><span class=\"attr\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n</li>\n</ol>\n"},{"title":"observer","date":"2020-06-12T09:12:38.000Z","_content":"\nMQ\n\n<!--more-->\n\n\n\n# \n\nAPI\n\n```java\npublic class WeatherData(){\n    getTemperature(){};\n    getHumidity(){};\n    \n    /**\n    * \n    */\n    measuremetnsChanged(){\n        // our codes go here\n    };\n}\n```\n\n`measuremetnsChanged`\n\n```java\npublic void measuremetnsChanged(){\n    currentConditionsDisplay.update(getTemperature(), getHumiditiy(), getPressure());\n    forecastDisplay.update(getTemperature(), getHumiditiy(), getPressure());\n    ......\n}\n```\n\n# \n\n\n\n\n\n- \n- \n\n\n\n\n\n> +=\n\nsubject\"observer\"\n\n********.\n\nobserver/observer\n\n## \n\n![Screenshot from 2020-06-12 18-03-04.png](https://i.loli.net/2020/06/12/cwTWVXNpIQ5ebGo.png)\n\nsubjectsubjectObserver\n\n```java\npublic CurrentConditionsDisplay(Subject weatherData) {\n    this.weatherData = weatherData;\n    weatherData.registerObserver(this);\n}\n```\n\napijavautil\n\n[](https://github.com/Sebastian-Getts/designPatternsPractice)\n\n## \n\n\n\n# \n\nJavaBeansSwingRMI","source":"_posts/observer.md","raw":"---\ntitle: observer\ndate: 2020-06-12 17:12:38\ncategories: DesignPatterns\ntags: design_patterns\n---\n\nMQ\n\n<!--more-->\n\n\n\n# \n\nAPI\n\n```java\npublic class WeatherData(){\n    getTemperature(){};\n    getHumidity(){};\n    \n    /**\n    * \n    */\n    measuremetnsChanged(){\n        // our codes go here\n    };\n}\n```\n\n`measuremetnsChanged`\n\n```java\npublic void measuremetnsChanged(){\n    currentConditionsDisplay.update(getTemperature(), getHumiditiy(), getPressure());\n    forecastDisplay.update(getTemperature(), getHumiditiy(), getPressure());\n    ......\n}\n```\n\n# \n\n\n\n\n\n- \n- \n\n\n\n\n\n> +=\n\nsubject\"observer\"\n\n********.\n\nobserver/observer\n\n## \n\n![Screenshot from 2020-06-12 18-03-04.png](https://i.loli.net/2020/06/12/cwTWVXNpIQ5ebGo.png)\n\nsubjectsubjectObserver\n\n```java\npublic CurrentConditionsDisplay(Subject weatherData) {\n    this.weatherData = weatherData;\n    weatherData.registerObserver(this);\n}\n```\n\napijavautil\n\n[](https://github.com/Sebastian-Getts/designPatternsPractice)\n\n## \n\n\n\n# \n\nJavaBeansSwingRMI","slug":"observer","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8i40018k7ih3lke7sf5","content":"<p>MQ</p>\n<a id=\"more\"></a>\n\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>API</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> class <span class=\"title\">WeatherData</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    getTemperature()&#123;&#125;;</span><br><span class=\"line\">    getHumidity()&#123;&#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * </span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    measuremetnsChanged()&#123;</span><br><span class=\"line\">        <span class=\"comment\">// our codes go here</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>measuremetnsChanged</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">measuremetnsChanged</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    currentConditionsDisplay.update(getTemperature(), getHumiditiy(), getPressure());</span><br><span class=\"line\">    forecastDisplay.update(getTemperature(), getHumiditiy(), getPressure());</span><br><span class=\"line\">    ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<blockquote>\n<p>+=</p>\n</blockquote>\n<p>subjectobserver</p>\n<p><strong></strong><strong></strong>.</p>\n<p>observer/observer</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://i.loli.net/2020/06/12/cwTWVXNpIQ5ebGo.png\" alt=\"Screenshot from 2020-06-12 18-03-04.png\"></p>\n<p>subjectsubjectObserver</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CurrentConditionsDisplay</span><span class=\"params\">(Subject weatherData)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.weatherData = weatherData;</span><br><span class=\"line\">    weatherData.registerObserver(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>apijavautil</p>\n<p><a href=\"https://github.com/Sebastian-Getts/designPatternsPractice\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>JavaBeansSwingRMI</p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>MQ</p>","more":"<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>API</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> class <span class=\"title\">WeatherData</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    getTemperature()&#123;&#125;;</span><br><span class=\"line\">    getHumidity()&#123;&#125;;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * </span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">    measuremetnsChanged()&#123;</span><br><span class=\"line\">        <span class=\"comment\">// our codes go here</span></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>measuremetnsChanged</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">measuremetnsChanged</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    currentConditionsDisplay.update(getTemperature(), getHumiditiy(), getPressure());</span><br><span class=\"line\">    forecastDisplay.update(getTemperature(), getHumiditiy(), getPressure());</span><br><span class=\"line\">    ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<p></p>\n<blockquote>\n<p>+=</p>\n</blockquote>\n<p>subjectobserver</p>\n<p><strong></strong><strong></strong>.</p>\n<p>observer/observer</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"https://i.loli.net/2020/06/12/cwTWVXNpIQ5ebGo.png\" alt=\"Screenshot from 2020-06-12 18-03-04.png\"></p>\n<p>subjectsubjectObserver</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">CurrentConditionsDisplay</span><span class=\"params\">(Subject weatherData)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.weatherData = weatherData;</span><br><span class=\"line\">    weatherData.registerObserver(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>apijavautil</p>\n<p><a href=\"https://github.com/Sebastian-Getts/designPatternsPractice\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>JavaBeansSwingRMI</p>"},{"title":"redis","date":"2020-06-09T13:54:01.000Z","_content":"\nredisredis[reference](https://github.com/antirez/redis)\n\n<!--more-->\n\n# \n\nredis: ****************nosql\n\n## nosql\n\nnosql\n\n1. \n   - \n   - \n   - \n2.  **memcache**\n3. copy\n\nmysqlMyISAM****Innodb****\n\nmysql10+\n\n### \n\n1. key valuejava\n2. 8/11/\n3. \n4. \n5. \n6. \n7. CAPBASE\n8. Volume, Variety, Veiocity\n\n\n\nMongoDB\n\nMySQL\n\nFastDFS, GFS, HDFS, OSS...\n\nRedisTairMemcache\n\n==== \n\n### \n\nMongoDB\n\n### KV\n\nRedisTair\n\n### \n\nHBase\n\n\n\n### \n\n\n\nNeo4jInfoGrid\n\n# Redis\n\nRemote Dictionary Server. Capi\n\n- rdbaof\n- \n\n## \n\n\n\n```bash\nredis-benchmark -h localhost -p 6379 -100 -n 100000\n```\n\n## \n\n160 \n\n### GEOSPATIAL\n\nGETSET\n\n## springboot\n\n<2.0 jedisBIOjedis pool\n\n>2.0 lettuceNIOnetty\n\n## rdb\n\nrdb\n\nredisrdbrdbredis databse/\n\n```flow\nstart=>start: start\nend=>end: end\ncondition=>condition: rdb\nrdbfile=>inputoutput: dump.rdb\noperation=>operation: go on dealing with\n\nstart->condition\ncondition(yes)->rdbfile->end\ncondition(no)->operation->end\n```\n\n#### \n\n1. save\n2. flushall\n3. redis\n\ndump.rdb\n\n#### rdb\n\n```bash\nconfig get dir\n```\n\n#### \n\n1. \n2. 90srdb60s\n\n#### \n\n1. \n2. fork\n\n## AOF\n\nAppend Only File history\n\n- \n- \n\nredisaofredis\n\naof `redis-check-aof --fix`\n\n### \n\n1. \n2. \n\n### \n\n1. aofrdbrdb\n2. rdbaof\n\n**rdb**\n\n## \n\nredisredis\n\n\n\nreidsredis20G\n\nredis\n\n### \n\n```shell\ninfo replication # \n```\n\n\n\n```shell\nSLAVEOF ip:port # ip:port\n```\n\n****\n\n#### \n\n`info replication`\n\n\n\n-  masterslaver\n- \n\nmaster\n\n### \n\nSentinelRedis2.8\n\nRedisredis\n\n#### \n\n1. \n2. \n\n#### \n\n1. \n2. \n\n## redis\n\n### \n\n```flow\nstart=>start: request\nend=>end: response\ncondition=>condition: redis\nop1=>operation: select in mysql\nstart->condition\ncondition(yes)->end\ncondition(no)->op1->end\n```\n\nredisdaoredis\n\n#### \n\nhash\n\n#### \n\n### \n\n\n\n#### \n\n#### \n\n### \n\n\n\n#### redis\n\n#### \n\n#### \n\n\n\n","source":"_posts/redis.md","raw":"---\ntitle: redis\ndate: 2020-06-09 21:54:01\ncategories: DB\ntags: \n- redis\n- nosql\n---\n\nredisredis[reference](https://github.com/antirez/redis)\n\n<!--more-->\n\n# \n\nredis: ****************nosql\n\n## nosql\n\nnosql\n\n1. \n   - \n   - \n   - \n2.  **memcache**\n3. copy\n\nmysqlMyISAM****Innodb****\n\nmysql10+\n\n### \n\n1. key valuejava\n2. 8/11/\n3. \n4. \n5. \n6. \n7. CAPBASE\n8. Volume, Variety, Veiocity\n\n\n\nMongoDB\n\nMySQL\n\nFastDFS, GFS, HDFS, OSS...\n\nRedisTairMemcache\n\n==== \n\n### \n\nMongoDB\n\n### KV\n\nRedisTair\n\n### \n\nHBase\n\n\n\n### \n\n\n\nNeo4jInfoGrid\n\n# Redis\n\nRemote Dictionary Server. Capi\n\n- rdbaof\n- \n\n## \n\n\n\n```bash\nredis-benchmark -h localhost -p 6379 -100 -n 100000\n```\n\n## \n\n160 \n\n### GEOSPATIAL\n\nGETSET\n\n## springboot\n\n<2.0 jedisBIOjedis pool\n\n>2.0 lettuceNIOnetty\n\n## rdb\n\nrdb\n\nredisrdbrdbredis databse/\n\n```flow\nstart=>start: start\nend=>end: end\ncondition=>condition: rdb\nrdbfile=>inputoutput: dump.rdb\noperation=>operation: go on dealing with\n\nstart->condition\ncondition(yes)->rdbfile->end\ncondition(no)->operation->end\n```\n\n#### \n\n1. save\n2. flushall\n3. redis\n\ndump.rdb\n\n#### rdb\n\n```bash\nconfig get dir\n```\n\n#### \n\n1. \n2. 90srdb60s\n\n#### \n\n1. \n2. fork\n\n## AOF\n\nAppend Only File history\n\n- \n- \n\nredisaofredis\n\naof `redis-check-aof --fix`\n\n### \n\n1. \n2. \n\n### \n\n1. aofrdbrdb\n2. rdbaof\n\n**rdb**\n\n## \n\nredisredis\n\n\n\nreidsredis20G\n\nredis\n\n### \n\n```shell\ninfo replication # \n```\n\n\n\n```shell\nSLAVEOF ip:port # ip:port\n```\n\n****\n\n#### \n\n`info replication`\n\n\n\n-  masterslaver\n- \n\nmaster\n\n### \n\nSentinelRedis2.8\n\nRedisredis\n\n#### \n\n1. \n2. \n\n#### \n\n1. \n2. \n\n## redis\n\n### \n\n```flow\nstart=>start: request\nend=>end: response\ncondition=>condition: redis\nop1=>operation: select in mysql\nstart->condition\ncondition(yes)->end\ncondition(no)->op1->end\n```\n\nredisdaoredis\n\n#### \n\nhash\n\n#### \n\n### \n\n\n\n#### \n\n#### \n\n### \n\n\n\n#### redis\n\n#### \n\n#### \n\n\n\n","slug":"redis","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8i6001ck7ih9uish91v","content":"<p>redisredis<a href=\"https://github.com/antirez/redis\">reference</a></p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>redis: <strong></strong><strong></strong><strong></strong><strong></strong>nosql</p>\n<h2 id=\"nosql\"><a href=\"#nosql\" class=\"headerlink\" title=\"nosql\"></a>nosql</h2><p>nosql</p>\n<ol>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li> <strong>memcache</strong></li>\n<li>copy</li>\n</ol>\n<p>mysqlMyISAM<strong></strong>Innodb<strong></strong></p>\n<p>mysql10+</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>key valuejava</li>\n<li>8/11/</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>CAPBASE</li>\n<li>Volume, Variety, Veiocity</li>\n</ol>\n<p></p>\n<p>MongoDB</p>\n<p>MySQL</p>\n<p>FastDFS, GFS, HDFS, OSS</p>\n<p>RedisTairMemcache</p>\n<p>==== </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MongoDB</p>\n<h3 id=\"KV\"><a href=\"#KV\" class=\"headerlink\" title=\"KV\"></a>KV</h3><p>RedisTair</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>HBase</p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>Neo4jInfoGrid</p>\n<h1 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h1><p>Remote Dictionary Server. Capi</p>\n<ul>\n<li>rdbaof</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis-benchmark -h localhost -p 6379 -100 -n 100000</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>160 </p>\n<h3 id=\"GEOSPATIAL\"><a href=\"#GEOSPATIAL\" class=\"headerlink\" title=\"GEOSPATIAL\"></a>GEOSPATIAL</h3><p>GETSET</p>\n<h2 id=\"springboot\"><a href=\"#springboot\" class=\"headerlink\" title=\"springboot\"></a>springboot</h2><p>&lt;2.0 jedisBIOjedis pool</p>\n<p>&gt;2.0 lettuceNIOnetty</p>\n<h2 id=\"rdb\"><a href=\"#rdb\" class=\"headerlink\" title=\"rdb\"></a>rdb</h2><p>rdb</p>\n<p>redisrdbrdbredis databse/</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: start</span><br><span class=\"line\">end&#x3D;&gt;end: end</span><br><span class=\"line\">condition&#x3D;&gt;condition: rdb</span><br><span class=\"line\">rdbfile&#x3D;&gt;inputoutput: dump.rdb</span><br><span class=\"line\">operation&#x3D;&gt;operation: go on dealing with</span><br><span class=\"line\"></span><br><span class=\"line\">start-&gt;condition</span><br><span class=\"line\">condition(yes)-&gt;rdbfile-&gt;end</span><br><span class=\"line\">condition(no)-&gt;operation-&gt;end</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>save</li>\n<li>flushall</li>\n<li>redis</li>\n</ol>\n<p>dump.rdb</p>\n<h4 id=\"rdb\"><a href=\"#rdb\" class=\"headerlink\" title=\"rdb\"></a>rdb</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config get dir</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>90srdb60s</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>fork</li>\n</ol>\n<h2 id=\"AOF\"><a href=\"#AOF\" class=\"headerlink\" title=\"AOF\"></a>AOF</h2><p>Append Only File history</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>redisaofredis</p>\n<p>aof <code>redis-check-aof --fix</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li></li>\n</ol>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>aofrdbrdb</li>\n<li>rdbaof</li>\n</ol>\n<p><strong>rdb</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>redisredis</p>\n<p></p>\n<p>reidsredis20G</p>\n<p>redis</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info replication # </span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SLAVEOF ip:port # ip:port</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>info replication</code></p>\n<p></p>\n<ul>\n<li> masterslaver</li>\n<li></li>\n</ul>\n<p>master</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SentinelRedis2.8</p>\n<p>Redisredis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: request</span><br><span class=\"line\">end&#x3D;&gt;end: response</span><br><span class=\"line\">condition&#x3D;&gt;condition: redis</span><br><span class=\"line\">op1&#x3D;&gt;operation: select in mysql</span><br><span class=\"line\">start-&gt;condition</span><br><span class=\"line\">condition(yes)-&gt;end</span><br><span class=\"line\">condition(no)-&gt;op1-&gt;end</span><br></pre></td></tr></table></figure>\n\n<p>redisdaoredis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>hash</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>redisredis<a href=\"https://github.com/antirez/redis\">reference</a></p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>redis: <strong></strong><strong></strong><strong></strong><strong></strong>nosql</p>\n<h2 id=\"nosql\"><a href=\"#nosql\" class=\"headerlink\" title=\"nosql\"></a>nosql</h2><p>nosql</p>\n<ol>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li> <strong>memcache</strong></li>\n<li>copy</li>\n</ol>\n<p>mysqlMyISAM<strong></strong>Innodb<strong></strong></p>\n<p>mysql10+</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>key valuejava</li>\n<li>8/11/</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>CAPBASE</li>\n<li>Volume, Variety, Veiocity</li>\n</ol>\n<p></p>\n<p>MongoDB</p>\n<p>MySQL</p>\n<p>FastDFS, GFS, HDFS, OSS</p>\n<p>RedisTairMemcache</p>\n<p>==== </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MongoDB</p>\n<h3 id=\"KV\"><a href=\"#KV\" class=\"headerlink\" title=\"KV\"></a>KV</h3><p>RedisTair</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>HBase</p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>Neo4jInfoGrid</p>\n<h1 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h1><p>Remote Dictionary Server. Capi</p>\n<ul>\n<li>rdbaof</li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">redis-benchmark -h localhost -p 6379 -100 -n 100000</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>160 </p>\n<h3 id=\"GEOSPATIAL\"><a href=\"#GEOSPATIAL\" class=\"headerlink\" title=\"GEOSPATIAL\"></a>GEOSPATIAL</h3><p>GETSET</p>\n<h2 id=\"springboot\"><a href=\"#springboot\" class=\"headerlink\" title=\"springboot\"></a>springboot</h2><p>&lt;2.0 jedisBIOjedis pool</p>\n<p>&gt;2.0 lettuceNIOnetty</p>\n<h2 id=\"rdb\"><a href=\"#rdb\" class=\"headerlink\" title=\"rdb\"></a>rdb</h2><p>rdb</p>\n<p>redisrdbrdbredis databse/</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: start</span><br><span class=\"line\">end&#x3D;&gt;end: end</span><br><span class=\"line\">condition&#x3D;&gt;condition: rdb</span><br><span class=\"line\">rdbfile&#x3D;&gt;inputoutput: dump.rdb</span><br><span class=\"line\">operation&#x3D;&gt;operation: go on dealing with</span><br><span class=\"line\"></span><br><span class=\"line\">start-&gt;condition</span><br><span class=\"line\">condition(yes)-&gt;rdbfile-&gt;end</span><br><span class=\"line\">condition(no)-&gt;operation-&gt;end</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>save</li>\n<li>flushall</li>\n<li>redis</li>\n</ol>\n<p>dump.rdb</p>\n<h4 id=\"rdb\"><a href=\"#rdb\" class=\"headerlink\" title=\"rdb\"></a>rdb</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">config get dir</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>90srdb60s</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li>fork</li>\n</ol>\n<h2 id=\"AOF\"><a href=\"#AOF\" class=\"headerlink\" title=\"AOF\"></a>AOF</h2><p>Append Only File history</p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<p>redisaofredis</p>\n<p>aof <code>redis-check-aof --fix</code></p>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li></li>\n</ol>\n<h3 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>aofrdbrdb</li>\n<li>rdbaof</li>\n</ol>\n<p><strong>rdb</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>redisredis</p>\n<p></p>\n<p>reidsredis20G</p>\n<p>redis</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info replication # </span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SLAVEOF ip:port # ip:port</span><br></pre></td></tr></table></figure>\n\n<p><strong></strong></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><code>info replication</code></p>\n<p></p>\n<ul>\n<li> masterslaver</li>\n<li></li>\n</ul>\n<p>master</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SentinelRedis2.8</p>\n<p>Redisredis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">start&#x3D;&gt;start: request</span><br><span class=\"line\">end&#x3D;&gt;end: response</span><br><span class=\"line\">condition&#x3D;&gt;condition: redis</span><br><span class=\"line\">op1&#x3D;&gt;operation: select in mysql</span><br><span class=\"line\">start-&gt;condition</span><br><span class=\"line\">condition(yes)-&gt;end</span><br><span class=\"line\">condition(no)-&gt;op1-&gt;end</span><br></pre></td></tr></table></figure>\n\n<p>redisdaoredis</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>hash</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>"},{"title":"springAOP","date":"2020-03-28T06:43:58.000Z","_content":"\nAOP, \n\n<!--more-->\n\n# \n\nSpringAOPbean\n\n# \n\nAOP\n\nSpring*@Before*, *@After*...5l@Before, @After, @AfterReturning, @AfterThrowing@Around****\n\n\n\n`JointPoint`\n\n## @PointCut\n\n\n\n```java\n@Pointcut(\"execution(public int org.example.aop.MathCalculate.*(..)) \")\npublic void pointCut() {\n}\n```\n\nMathCalculate`MathCalculate.*``(..)`\n\n\n\n## @Before\n\n\n\n```java\n@Before(\"pointCut()\")\npublic void logStart(JoinPoint joinPoint) {\n    System.out.println(joinPoint.getSignature().getName() + \"logStart()..\" + \"....\" + Arrays.asList(joinPoint.getArgs()));\n}\n```\n\n\n\n## @After\n\n****`finally`\n\n```java\n@After(\"pointCut()\")\npublic void logEnd(JoinPoint joinPoint) {\n    System.out.println(joinPoint.getSignature().getName() + \"@After.\" + \". .\" + Arrays.asList(joinPoint.getArgs()));\n}\n```\n\n\n\n## @AfterReturning\n\n\n\n```java\n@AfterReturning(value = \"pointCut()\", returning = \"object\")\npublic void logReturn(JoinPoint joinPoint, Object object) {\n    System.out.println(joinPoint.getSignature().getName() + \"@AfterReturning...\" + object);\n}\n```\n\n\n\n## @AfterThrowing\n\nSpring\n\n```java\n@AfterThrowing(value = \"pointCut()\", throwing = \"exception\")\npublic void logException(JoinPoint joinPoint, Exception exception) {\n    System.out.println(\" \" + joinPoint.getSignature().getName() + \".....\" + exception);\n}\n```\n\n\n\n## @Around\n\n\n\nJointPoint`ProceedingJoinPoint`\n\n```java\n@Around(value = \"pointCut()\")\npublic Object logAround(ProceedingJoinPoint proceedingJoinPoint) {\n    Object result;\n    try {\n        result = proceedingJoinPoint.proceed();\n        System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around ..\" + \"....\" + Arrays.asList(proceedingJoinPoint.getArgs()));\n\n        System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around...\" + result);\n    } catch (Throwable throwable) {\n        System.out.println(\" \" + proceedingJoinPoint.getSignature().getName() + \"....Around  .\" + throwable);\n        throw new RuntimeException(throwable);\n    }\n    System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around.\" + \". .\" + Arrays.asList(proceedingJoinPoint.getArgs()));\n    return result;\n}\n```\n\n## \n\n  *too young to navie* \n\n- Spring**@Aspect**\n- @Before\n- aop **@EnableAspectJAutoProxy**\n\n# \n\n## @EnableAspectJAutoProxy","source":"_posts/springAOP.md","raw":"---\ntitle: springAOP\ndate: 2020-03-28 14:43:58\ncategories: Spring\ntags: aop\n---\n\nAOP, \n\n<!--more-->\n\n# \n\nSpringAOPbean\n\n# \n\nAOP\n\nSpring*@Before*, *@After*...5l@Before, @After, @AfterReturning, @AfterThrowing@Around****\n\n\n\n`JointPoint`\n\n## @PointCut\n\n\n\n```java\n@Pointcut(\"execution(public int org.example.aop.MathCalculate.*(..)) \")\npublic void pointCut() {\n}\n```\n\nMathCalculate`MathCalculate.*``(..)`\n\n\n\n## @Before\n\n\n\n```java\n@Before(\"pointCut()\")\npublic void logStart(JoinPoint joinPoint) {\n    System.out.println(joinPoint.getSignature().getName() + \"logStart()..\" + \"....\" + Arrays.asList(joinPoint.getArgs()));\n}\n```\n\n\n\n## @After\n\n****`finally`\n\n```java\n@After(\"pointCut()\")\npublic void logEnd(JoinPoint joinPoint) {\n    System.out.println(joinPoint.getSignature().getName() + \"@After.\" + \". .\" + Arrays.asList(joinPoint.getArgs()));\n}\n```\n\n\n\n## @AfterReturning\n\n\n\n```java\n@AfterReturning(value = \"pointCut()\", returning = \"object\")\npublic void logReturn(JoinPoint joinPoint, Object object) {\n    System.out.println(joinPoint.getSignature().getName() + \"@AfterReturning...\" + object);\n}\n```\n\n\n\n## @AfterThrowing\n\nSpring\n\n```java\n@AfterThrowing(value = \"pointCut()\", throwing = \"exception\")\npublic void logException(JoinPoint joinPoint, Exception exception) {\n    System.out.println(\" \" + joinPoint.getSignature().getName() + \".....\" + exception);\n}\n```\n\n\n\n## @Around\n\n\n\nJointPoint`ProceedingJoinPoint`\n\n```java\n@Around(value = \"pointCut()\")\npublic Object logAround(ProceedingJoinPoint proceedingJoinPoint) {\n    Object result;\n    try {\n        result = proceedingJoinPoint.proceed();\n        System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around ..\" + \"....\" + Arrays.asList(proceedingJoinPoint.getArgs()));\n\n        System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around...\" + result);\n    } catch (Throwable throwable) {\n        System.out.println(\" \" + proceedingJoinPoint.getSignature().getName() + \"....Around  .\" + throwable);\n        throw new RuntimeException(throwable);\n    }\n    System.out.println(proceedingJoinPoint.getSignature().getName() + \"Around.\" + \". .\" + Arrays.asList(proceedingJoinPoint.getArgs()));\n    return result;\n}\n```\n\n## \n\n  *too young to navie* \n\n- Spring**@Aspect**\n- @Before\n- aop **@EnableAspectJAutoProxy**\n\n# \n\n## @EnableAspectJAutoProxy","slug":"springAOP","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8i7001fk7ihcnk20qdq","content":"<p>AOP, </p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>SpringAOPbean</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>AOP</p>\n<p>Spring*@Before*, <em>@After</em>5l@Before, @After, @AfterReturning, @AfterThrowing@Around<strong></strong></p>\n<p></p>\n<p><code>JointPoint</code></p>\n<h2 id=\"PointCut\"><a href=\"#PointCut\" class=\"headerlink\" title=\"@PointCut\"></a>@PointCut</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Pointcut(&quot;execution(public int org.example.aop.MathCalculate.*(..)) &quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">pointCut</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>MathCalculate<code>MathCalculate.*</code><code>(..)</code></p>\n<h2 id=\"Before\"><a href=\"#Before\" class=\"headerlink\" title=\"@Before\"></a>@Before</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Before(&quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logStart</span><span class=\"params\">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;logStart()..&quot;</span> + <span class=\"string\">&quot;....&quot;</span> + Arrays.asList(joinPoint.getArgs()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"After\"><a href=\"#After\" class=\"headerlink\" title=\"@After\"></a>@After</h2><p><strong></strong><code>finally</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@After(&quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logEnd</span><span class=\"params\">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;@After.&quot;</span> + <span class=\"string\">&quot;. .&quot;</span> + Arrays.asList(joinPoint.getArgs()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"AfterReturning\"><a href=\"#AfterReturning\" class=\"headerlink\" title=\"@AfterReturning\"></a>@AfterReturning</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@AfterReturning(value = &quot;pointCut()&quot;, returning = &quot;object&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logReturn</span><span class=\"params\">(JoinPoint joinPoint, Object object)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;@AfterReturning...&quot;</span> + object);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"AfterThrowing\"><a href=\"#AfterThrowing\" class=\"headerlink\" title=\"@AfterThrowing\"></a>@AfterThrowing</h2><p>Spring</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@AfterThrowing(value = &quot;pointCut()&quot;, throwing = &quot;exception&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logException</span><span class=\"params\">(JoinPoint joinPoint, Exception exception)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; &quot;</span> + joinPoint.getSignature().getName() + <span class=\"string\">&quot;.....&quot;</span> + exception);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Around\"><a href=\"#Around\" class=\"headerlink\" title=\"@Around\"></a>@Around</h2><p></p>\n<p>JointPoint<code>ProceedingJoinPoint</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Around(value = &quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">logAround</span><span class=\"params\">(ProceedingJoinPoint proceedingJoinPoint)</span> </span>&#123;</span><br><span class=\"line\">    Object result;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        result = proceedingJoinPoint.proceed();</span><br><span class=\"line\">        System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around ..&quot;</span> + <span class=\"string\">&quot;....&quot;</span> + Arrays.asList(proceedingJoinPoint.getArgs()));</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around...&quot;</span> + result);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Throwable throwable) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; &quot;</span> + proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;....Around  .&quot;</span> + throwable);</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(throwable);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around.&quot;</span> + <span class=\"string\">&quot;. .&quot;</span> + Arrays.asList(proceedingJoinPoint.getArgs()));</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  <em>too young to navie</em> </p>\n<ul>\n<li>Spring**@Aspect**</li>\n<li>@Before</li>\n<li>aop <strong>@EnableAspectJAutoProxy</strong></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"EnableAspectJAutoProxy\"><a href=\"#EnableAspectJAutoProxy\" class=\"headerlink\" title=\"@EnableAspectJAutoProxy\"></a>@EnableAspectJAutoProxy</h2>","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>AOP, </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>SpringAOPbean</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>AOP</p>\n<p>Spring*@Before*, <em>@After</em>5l@Before, @After, @AfterReturning, @AfterThrowing@Around<strong></strong></p>\n<p></p>\n<p><code>JointPoint</code></p>\n<h2 id=\"PointCut\"><a href=\"#PointCut\" class=\"headerlink\" title=\"@PointCut\"></a>@PointCut</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Pointcut(&quot;execution(public int org.example.aop.MathCalculate.*(..)) &quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">pointCut</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>MathCalculate<code>MathCalculate.*</code><code>(..)</code></p>\n<h2 id=\"Before\"><a href=\"#Before\" class=\"headerlink\" title=\"@Before\"></a>@Before</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Before(&quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logStart</span><span class=\"params\">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;logStart()..&quot;</span> + <span class=\"string\">&quot;....&quot;</span> + Arrays.asList(joinPoint.getArgs()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"After\"><a href=\"#After\" class=\"headerlink\" title=\"@After\"></a>@After</h2><p><strong></strong><code>finally</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@After(&quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logEnd</span><span class=\"params\">(JoinPoint joinPoint)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;@After.&quot;</span> + <span class=\"string\">&quot;. .&quot;</span> + Arrays.asList(joinPoint.getArgs()));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"AfterReturning\"><a href=\"#AfterReturning\" class=\"headerlink\" title=\"@AfterReturning\"></a>@AfterReturning</h2><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@AfterReturning(value = &quot;pointCut()&quot;, returning = &quot;object&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logReturn</span><span class=\"params\">(JoinPoint joinPoint, Object object)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(joinPoint.getSignature().getName() + <span class=\"string\">&quot;@AfterReturning...&quot;</span> + object);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"AfterThrowing\"><a href=\"#AfterThrowing\" class=\"headerlink\" title=\"@AfterThrowing\"></a>@AfterThrowing</h2><p>Spring</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@AfterThrowing(value = &quot;pointCut()&quot;, throwing = &quot;exception&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logException</span><span class=\"params\">(JoinPoint joinPoint, Exception exception)</span> </span>&#123;</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot; &quot;</span> + joinPoint.getSignature().getName() + <span class=\"string\">&quot;.....&quot;</span> + exception);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Around\"><a href=\"#Around\" class=\"headerlink\" title=\"@Around\"></a>@Around</h2><p></p>\n<p>JointPoint<code>ProceedingJoinPoint</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Around(value = &quot;pointCut()&quot;)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Object <span class=\"title\">logAround</span><span class=\"params\">(ProceedingJoinPoint proceedingJoinPoint)</span> </span>&#123;</span><br><span class=\"line\">    Object result;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        result = proceedingJoinPoint.proceed();</span><br><span class=\"line\">        System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around ..&quot;</span> + <span class=\"string\">&quot;....&quot;</span> + Arrays.asList(proceedingJoinPoint.getArgs()));</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around...&quot;</span> + result);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (Throwable throwable) &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot; &quot;</span> + proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;....Around  .&quot;</span> + throwable);</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(throwable);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    System.out.println(proceedingJoinPoint.getSignature().getName() + <span class=\"string\">&quot;Around.&quot;</span> + <span class=\"string\">&quot;. .&quot;</span> + Arrays.asList(proceedingJoinPoint.getArgs()));</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  <em>too young to navie</em> </p>\n<ul>\n<li>Spring**@Aspect**</li>\n<li>@Before</li>\n<li>aop <strong>@EnableAspectJAutoProxy</strong></li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"EnableAspectJAutoProxy\"><a href=\"#EnableAspectJAutoProxy\" class=\"headerlink\" title=\"@EnableAspectJAutoProxy\"></a>@EnableAspectJAutoProxy</h2>"},{"title":"uml","date":"2020-01-12T15:14:16.000Z","_content":"\nThe **Unified Modeling Language(UML)** is a general-purpose, developmental, modeling language in the field of software engineering that is intended to provide a standard way to visualize the design of a system.\n\n<!-- more -->\n\n# \n\nUML(Class Relationships)\n\n[reference1](https://www.visual-paradigm.com/cn/guide/), [reference2](https://support.typora.io/Draw-Diagrams-With-Markdown/)\n\n## Class Relationships\n\nA class may be involved in one or more relationships with other classes.\n\n## Inheritance(or Generalization)\n\n- Represents an \"is-a\" relationship\n- An abstract class name is shown *in italics*\n- SubClass1 and SubClass2 are specializations of Super Class\n- **A solid line with a hollow arrowhead that point <u>from the child to the parent class</u>**\n\n```mermaid\nclassDiagram\nClass <|-- SubClass1\nClass <|-- SubClass2 \n```\n\n\n\n---\n\n## Simple Association\n\n- A structural link between two peer classes\n- There is an association between Class1 and Class2\n- **A solid line connecting two classes**\n\n```mermaid\nclassDiagram\nClass1 .. Class2\n```\n\n\n\n---\n\n## Aggregation\n\nA special type of association. It represents a \"part of\" relationship.\n\n- Class2 is part of Class1.\n- Many instances(denoted by the *) of Class2 can be associated with Class1\n- Objects of Class1 and Class2 have separate lifetimes\n- **A solid line with an unfilled diamond at the association end connected to the class of composite**\n\n```mermaid\nclassDiagram\nClass1 o-- Class2\n```\n\n---\n\n## Composition\n\nA special type of aggregation **where parts are destroyed when the whole is destroyed.**\n\n- Objects of Class2 live and die with Class1\n- Class2 cannot stand by itself\n- **A solid line with a filled diamond at the association connected to the class of composite**\n\n```mermaid\nclassDiagram\nClass1 *-- Class2\n```\n\n---\n\n## Dependency\n\n- Exists between two classes if the changes to the definition of one may cause changes to the other (but not the other way around)\n- Class1 depends on Class2\n- A dashed line with an open arrow\n\n```mermaid\nclassDiagram\nClass1 ..> Class2\n```\n\n\n\n","source":"_posts/uml.md","raw":"---\ntitle: uml\ndate: 2020-01-12 23:14:16\ncategories: Utils\ntags: utils\n---\n\nThe **Unified Modeling Language(UML)** is a general-purpose, developmental, modeling language in the field of software engineering that is intended to provide a standard way to visualize the design of a system.\n\n<!-- more -->\n\n# \n\nUML(Class Relationships)\n\n[reference1](https://www.visual-paradigm.com/cn/guide/), [reference2](https://support.typora.io/Draw-Diagrams-With-Markdown/)\n\n## Class Relationships\n\nA class may be involved in one or more relationships with other classes.\n\n## Inheritance(or Generalization)\n\n- Represents an \"is-a\" relationship\n- An abstract class name is shown *in italics*\n- SubClass1 and SubClass2 are specializations of Super Class\n- **A solid line with a hollow arrowhead that point <u>from the child to the parent class</u>**\n\n```mermaid\nclassDiagram\nClass <|-- SubClass1\nClass <|-- SubClass2 \n```\n\n\n\n---\n\n## Simple Association\n\n- A structural link between two peer classes\n- There is an association between Class1 and Class2\n- **A solid line connecting two classes**\n\n```mermaid\nclassDiagram\nClass1 .. Class2\n```\n\n\n\n---\n\n## Aggregation\n\nA special type of association. It represents a \"part of\" relationship.\n\n- Class2 is part of Class1.\n- Many instances(denoted by the *) of Class2 can be associated with Class1\n- Objects of Class1 and Class2 have separate lifetimes\n- **A solid line with an unfilled diamond at the association end connected to the class of composite**\n\n```mermaid\nclassDiagram\nClass1 o-- Class2\n```\n\n---\n\n## Composition\n\nA special type of aggregation **where parts are destroyed when the whole is destroyed.**\n\n- Objects of Class2 live and die with Class1\n- Class2 cannot stand by itself\n- **A solid line with a filled diamond at the association connected to the class of composite**\n\n```mermaid\nclassDiagram\nClass1 *-- Class2\n```\n\n---\n\n## Dependency\n\n- Exists between two classes if the changes to the definition of one may cause changes to the other (but not the other way around)\n- Class1 depends on Class2\n- A dashed line with an open arrow\n\n```mermaid\nclassDiagram\nClass1 ..> Class2\n```\n\n\n\n","slug":"uml","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8i9001ik7ih428m4krm","content":"<p>The <strong>Unified Modeling Language(UML)</strong> is a general-purpose, developmental, modeling language in the field of software engineering that is intended to provide a standard way to visualize the design of a system.</p>\n<a id=\"more\"></a>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>UML(Class Relationships)</p>\n<p><a href=\"https://www.visual-paradigm.com/cn/guide/\">reference1</a>, <a href=\"https://support.typora.io/Draw-Diagrams-With-Markdown/\">reference2</a></p>\n<h2 id=\"Class-Relationships\"><a href=\"#Class-Relationships\" class=\"headerlink\" title=\"Class Relationships\"></a>Class Relationships</h2><p>A class may be involved in one or more relationships with other classes.</p>\n<h2 id=\"Inheritance-or-Generalization\"><a href=\"#Inheritance-or-Generalization\" class=\"headerlink\" title=\"Inheritance(or Generalization)\"></a>Inheritance(or Generalization)</h2><ul>\n<li>Represents an is-a relationship</li>\n<li>An abstract class name is shown <em>in italics</em></li>\n<li>SubClass1 and SubClass2 are specializations of Super Class</li>\n<li><strong>A solid line with a hollow arrowhead that point <u>from the child to the parent class</u></strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class &lt;|-- SubClass1</span><br><span class=\"line\">Class &lt;|-- SubClass2 </span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Simple-Association\"><a href=\"#Simple-Association\" class=\"headerlink\" title=\"Simple Association\"></a>Simple Association</h2><ul>\n<li>A structural link between two peer classes</li>\n<li>There is an association between Class1 and Class2</li>\n<li><strong>A solid line connecting two classes</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 .. Class2</span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Aggregation\"><a href=\"#Aggregation\" class=\"headerlink\" title=\"Aggregation\"></a>Aggregation</h2><p>A special type of association. It represents a part of relationship.</p>\n<ul>\n<li>Class2 is part of Class1.</li>\n<li>Many instances(denoted by the *) of Class2 can be associated with Class1</li>\n<li>Objects of Class1 and Class2 have separate lifetimes</li>\n<li><strong>A solid line with an unfilled diamond at the association end connected to the class of composite</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 o-- Class2</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Composition\"><a href=\"#Composition\" class=\"headerlink\" title=\"Composition\"></a>Composition</h2><p>A special type of aggregation <strong>where parts are destroyed when the whole is destroyed.</strong></p>\n<ul>\n<li>Objects of Class2 live and die with Class1</li>\n<li>Class2 cannot stand by itself</li>\n<li><strong>A solid line with a filled diamond at the association connected to the class of composite</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 *-- Class2</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Dependency\"><a href=\"#Dependency\" class=\"headerlink\" title=\"Dependency\"></a>Dependency</h2><ul>\n<li>Exists between two classes if the changes to the definition of one may cause changes to the other (but not the other way around)</li>\n<li>Class1 depends on Class2</li>\n<li>A dashed line with an open arrow</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 ..&gt; Class2</span><br></pre></td></tr></table></figure>\n\n\n\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>The <strong>Unified Modeling Language(UML)</strong> is a general-purpose, developmental, modeling language in the field of software engineering that is intended to provide a standard way to visualize the design of a system.</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>UML(Class Relationships)</p>\n<p><a href=\"https://www.visual-paradigm.com/cn/guide/\">reference1</a>, <a href=\"https://support.typora.io/Draw-Diagrams-With-Markdown/\">reference2</a></p>\n<h2 id=\"Class-Relationships\"><a href=\"#Class-Relationships\" class=\"headerlink\" title=\"Class Relationships\"></a>Class Relationships</h2><p>A class may be involved in one or more relationships with other classes.</p>\n<h2 id=\"Inheritance-or-Generalization\"><a href=\"#Inheritance-or-Generalization\" class=\"headerlink\" title=\"Inheritance(or Generalization)\"></a>Inheritance(or Generalization)</h2><ul>\n<li>Represents an is-a relationship</li>\n<li>An abstract class name is shown <em>in italics</em></li>\n<li>SubClass1 and SubClass2 are specializations of Super Class</li>\n<li><strong>A solid line with a hollow arrowhead that point <u>from the child to the parent class</u></strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class &lt;|-- SubClass1</span><br><span class=\"line\">Class &lt;|-- SubClass2 </span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Simple-Association\"><a href=\"#Simple-Association\" class=\"headerlink\" title=\"Simple Association\"></a>Simple Association</h2><ul>\n<li>A structural link between two peer classes</li>\n<li>There is an association between Class1 and Class2</li>\n<li><strong>A solid line connecting two classes</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 .. Class2</span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"Aggregation\"><a href=\"#Aggregation\" class=\"headerlink\" title=\"Aggregation\"></a>Aggregation</h2><p>A special type of association. It represents a part of relationship.</p>\n<ul>\n<li>Class2 is part of Class1.</li>\n<li>Many instances(denoted by the *) of Class2 can be associated with Class1</li>\n<li>Objects of Class1 and Class2 have separate lifetimes</li>\n<li><strong>A solid line with an unfilled diamond at the association end connected to the class of composite</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 o-- Class2</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Composition\"><a href=\"#Composition\" class=\"headerlink\" title=\"Composition\"></a>Composition</h2><p>A special type of aggregation <strong>where parts are destroyed when the whole is destroyed.</strong></p>\n<ul>\n<li>Objects of Class2 live and die with Class1</li>\n<li>Class2 cannot stand by itself</li>\n<li><strong>A solid line with a filled diamond at the association connected to the class of composite</strong></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 *-- Class2</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"Dependency\"><a href=\"#Dependency\" class=\"headerlink\" title=\"Dependency\"></a>Dependency</h2><ul>\n<li>Exists between two classes if the changes to the definition of one may cause changes to the other (but not the other way around)</li>\n<li>Class1 depends on Class2</li>\n<li>A dashed line with an open arrow</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">classDiagram</span><br><span class=\"line\">Class1 ..&gt; Class2</span><br></pre></td></tr></table></figure>"},{"title":"volatile","date":"2020-07-20T13:23:51.000Z","_content":"\nJava`being stored in main memory`volatileCPUvolatileCPU\n\n<!--more-->\n\n# Visibility problems\n\n`volatile`CPUCPUCPUCPU\n\n`volatile`JavaCPUCPU\n\n```java\npublic class ShareObject{\n    public int counter = 0;\n}\n```\n\n112\n\ncounter`volatile`CPUcounterCPUJVMVisibility problem****\n\n# Visibility Guarantee\n\n`volatile`counter`volatile``volatile`\n\n```java\npublic class ShareObject{\n    // volatile\n    public volatile int counter = 0 ;\n}\n```\n\n1212`volatile`\n\n## Full Visibility Guarantee\n\n`volatile``volatile`\n\n- A`volatile`B`volatile`AB`volatile`\n\n- A`volatile`A\n\n\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n    \n    // daysvolatile\n    public void update(int years, int months, int days){\n        this.years = year;\n        this.months = months;\n        this.days = days;    \n    }\n}\n```\n\nFull Visibility Guaranteedaysmonthsyears\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n\n    public int totalDays(){\n        int total = this.days;\n        total += months * 30;\n        total += years * 365;\n        return total;   \n    }\n\n    public void update(int years, int months, int days){\n        this.years = years;\n        this.months = months;\n        this.days = days;\n}\n}\n```\n\n*totalDays()*`days``total` ,`days``volatile``days`monthsyears`volatile``volatile`****`volatile`\n\n# Instruction Reordering\n\nJVMCPU\n\n```java\nint a = 1;\nint b = 2;\na++;\nb++;\n```\n\n\n\n```java\nint a  = 1;\na++;\nint b = 2;\nb++\n```\n\n`volatile`\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n    \n    public void update(int years, int months, int days){\n        this.years = years;\n        this.months = months;\n        this.days = days;\n    }\n}\n```\n\nJVM\n\n```java\n    public void update(int years, int months, int days){\n        // days\n        this.days = days;\n        this.years = years;\n        this.months = months;\n    }\n```\n\ndaysmonthsyears\n\n## Volatile Happens-Before Guarantee\n\n`volatile`\n\n- /`volatile`\n- /`volatile`\n\n# Volatile is Not Always Enough\n\ncountercounter``**syncronized**`lock`\n","source":"_posts/volatile.md","raw":"---\ntitle: volatile\ndate: 2020-07-20 21:23:51\ncategories: Java\ntags: lock\n---\n\nJava`being stored in main memory`volatileCPUvolatileCPU\n\n<!--more-->\n\n# Visibility problems\n\n`volatile`CPUCPUCPUCPU\n\n`volatile`JavaCPUCPU\n\n```java\npublic class ShareObject{\n    public int counter = 0;\n}\n```\n\n112\n\ncounter`volatile`CPUcounterCPUJVMVisibility problem****\n\n# Visibility Guarantee\n\n`volatile`counter`volatile``volatile`\n\n```java\npublic class ShareObject{\n    // volatile\n    public volatile int counter = 0 ;\n}\n```\n\n1212`volatile`\n\n## Full Visibility Guarantee\n\n`volatile``volatile`\n\n- A`volatile`B`volatile`AB`volatile`\n\n- A`volatile`A\n\n\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n    \n    // daysvolatile\n    public void update(int years, int months, int days){\n        this.years = year;\n        this.months = months;\n        this.days = days;    \n    }\n}\n```\n\nFull Visibility Guaranteedaysmonthsyears\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n\n    public int totalDays(){\n        int total = this.days;\n        total += months * 30;\n        total += years * 365;\n        return total;   \n    }\n\n    public void update(int years, int months, int days){\n        this.years = years;\n        this.months = months;\n        this.days = days;\n}\n}\n```\n\n*totalDays()*`days``total` ,`days``volatile``days`monthsyears`volatile``volatile`****`volatile`\n\n# Instruction Reordering\n\nJVMCPU\n\n```java\nint a = 1;\nint b = 2;\na++;\nb++;\n```\n\n\n\n```java\nint a  = 1;\na++;\nint b = 2;\nb++\n```\n\n`volatile`\n\n```java\npublic class MyClass{\n    private int years;\n    private int months;\n    private volatile int days;\n    \n    public void update(int years, int months, int days){\n        this.years = years;\n        this.months = months;\n        this.days = days;\n    }\n}\n```\n\nJVM\n\n```java\n    public void update(int years, int months, int days){\n        // days\n        this.days = days;\n        this.years = years;\n        this.months = months;\n    }\n```\n\ndaysmonthsyears\n\n## Volatile Happens-Before Guarantee\n\n`volatile`\n\n- /`volatile`\n- /`volatile`\n\n# Volatile is Not Always Enough\n\ncountercounter``**syncronized**`lock`\n","slug":"volatile","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8ic001nk7ihenuz6qs1","content":"<p>Java<code>being stored in main memory</code>volatileCPUvolatileCPU</p>\n<a id=\"more\"></a>\n\n<h1 id=\"Visibility-problems\"><a href=\"#Visibility-problems\" class=\"headerlink\" title=\"Visibility problems\"></a>Visibility problems</h1><p><code>volatile</code>CPUCPUCPUCPU</p>\n<p><code>volatile</code>JavaCPUCPU</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ShareObject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>112</p>\n<p>counter<code>volatile</code>CPUcounterCPUJVMVisibility problem<strong></strong></p>\n<h1 id=\"Visibility-Guarantee\"><a href=\"#Visibility-Guarantee\" class=\"headerlink\" title=\"Visibility Guarantee\"></a>Visibility Guarantee</h1><p><code>volatile</code>counter<code>volatile</code><code>volatile</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ShareObject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// volatile</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">0</span> ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>1212<code>volatile</code></p>\n<h2 id=\"Full-Visibility-Guarantee\"><a href=\"#Full-Visibility-Guarantee\" class=\"headerlink\" title=\"Full Visibility Guarantee\"></a>Full Visibility Guarantee</h2><p><code>volatile</code><code>volatile</code></p>\n<ul>\n<li><p>A<code>volatile</code>B<code>volatile</code>AB<code>volatile</code></p>\n</li>\n<li><p>A<code>volatile</code>A</p>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// daysvolatile</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = year;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Full Visibility Guaranteedaysmonthsyears</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">totalDays</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> total = <span class=\"keyword\">this</span>.days;</span><br><span class=\"line\">        total += months * <span class=\"number\">30</span>;</span><br><span class=\"line\">        total += years * <span class=\"number\">365</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total;   </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>totalDays()<em><code>days</code><code>total</code> ,<code>days</code><code>volatile</code><code>days</code>monthsyears<code>volatile</code><code>volatile</code></em></em>**<code>volatile</code></p>\n<h1 id=\"Instruction-Reordering\"><a href=\"#Instruction-Reordering\" class=\"headerlink\" title=\"Instruction Reordering\"></a>Instruction Reordering</h1><p>JVMCPU</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\">a++;</span><br><span class=\"line\">b++;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a  = <span class=\"number\">1</span>;</span><br><span class=\"line\">a++;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\">b++</span><br></pre></td></tr></table></figure>\n\n<p><code>volatile</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>JVM</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// days</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>daysmonthsyears</p>\n<h2 id=\"Volatile-Happens-Before-Guarantee\"><a href=\"#Volatile-Happens-Before-Guarantee\" class=\"headerlink\" title=\"Volatile Happens-Before Guarantee\"></a>Volatile Happens-Before Guarantee</h2><p><code>volatile</code></p>\n<ul>\n<li>/<code>volatile</code></li>\n<li>/<code>volatile</code></li>\n</ul>\n<h1 id=\"Volatile-is-Not-Always-Enough\"><a href=\"#Volatile-is-Not-Always-Enough\" class=\"headerlink\" title=\"Volatile is Not Always Enough\"></a>Volatile is Not Always Enough</h1><p>countercounter<code></code><strong>syncronized</strong><code>lock</code></p>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>Java<code>being stored in main memory</code>volatileCPUvolatileCPU</p>","more":"<h1 id=\"Visibility-problems\"><a href=\"#Visibility-problems\" class=\"headerlink\" title=\"Visibility problems\"></a>Visibility problems</h1><p><code>volatile</code>CPUCPUCPUCPU</p>\n<p><code>volatile</code>JavaCPUCPU</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ShareObject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>112</p>\n<p>counter<code>volatile</code>CPUcounterCPUJVMVisibility problem<strong></strong></p>\n<h1 id=\"Visibility-Guarantee\"><a href=\"#Visibility-Guarantee\" class=\"headerlink\" title=\"Visibility Guarantee\"></a>Visibility Guarantee</h1><p><code>volatile</code>counter<code>volatile</code><code>volatile</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ShareObject</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// volatile</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> counter = <span class=\"number\">0</span> ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>1212<code>volatile</code></p>\n<h2 id=\"Full-Visibility-Guarantee\"><a href=\"#Full-Visibility-Guarantee\" class=\"headerlink\" title=\"Full Visibility Guarantee\"></a>Full Visibility Guarantee</h2><p><code>volatile</code><code>volatile</code></p>\n<ul>\n<li><p>A<code>volatile</code>B<code>volatile</code>AB<code>volatile</code></p>\n</li>\n<li><p>A<code>volatile</code>A</p>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// daysvolatile</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = year;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Full Visibility Guaranteedaysmonthsyears</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">totalDays</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> total = <span class=\"keyword\">this</span>.days;</span><br><span class=\"line\">        total += months * <span class=\"number\">30</span>;</span><br><span class=\"line\">        total += years * <span class=\"number\">365</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> total;   </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><em>totalDays()<em><code>days</code><code>total</code> ,<code>days</code><code>volatile</code><code>days</code>monthsyears<code>volatile</code><code>volatile</code></em></em>**<code>volatile</code></p>\n<h1 id=\"Instruction-Reordering\"><a href=\"#Instruction-Reordering\" class=\"headerlink\" title=\"Instruction Reordering\"></a>Instruction Reordering</h1><p>JVMCPU</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\">a++;</span><br><span class=\"line\">b++;</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> a  = <span class=\"number\">1</span>;</span><br><span class=\"line\">a++;</span><br><span class=\"line\"><span class=\"keyword\">int</span> b = <span class=\"number\">2</span>;</span><br><span class=\"line\">b++</span><br></pre></td></tr></table></figure>\n\n<p><code>volatile</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyClass</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> years;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> months;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span> <span class=\"keyword\">int</span> days;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>JVM</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">update</span><span class=\"params\">(<span class=\"keyword\">int</span> years, <span class=\"keyword\">int</span> months, <span class=\"keyword\">int</span> days)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// days</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.days = days;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.years = years;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.months = months;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>daysmonthsyears</p>\n<h2 id=\"Volatile-Happens-Before-Guarantee\"><a href=\"#Volatile-Happens-Before-Guarantee\" class=\"headerlink\" title=\"Volatile Happens-Before Guarantee\"></a>Volatile Happens-Before Guarantee</h2><p><code>volatile</code></p>\n<ul>\n<li>/<code>volatile</code></li>\n<li>/<code>volatile</code></li>\n</ul>\n<h1 id=\"Volatile-is-Not-Always-Enough\"><a href=\"#Volatile-is-Not-Always-Enough\" class=\"headerlink\" title=\"Volatile is Not Always Enough\"></a>Volatile is Not Always Enough</h1><p>countercounter<code></code><strong>syncronized</strong><code>lock</code></p>"},{"title":"mq","date":"2020-07-20T13:04:40.000Z","_content":"\nmqmq\n\n<!--more-->\n\n# MQ\n\n\n\n1. ````\n\n   ``\n\n2. `A`BC\n\n   `D``A`__AD__`A``A`\n\n## \n\n-   \n\n-   \n\n-   \n\n# \n\n|    | Topic                                                | Queue                                                |\n| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |\n|    | - |  |\n|    |                                                        | Queuemq                    |\n|  |                        |                                                  |\n|    |  |  |\n\n# JMS\n\nJavaJava Message ServiceJavaEEAPIiJava\n\nJMSMQ\n\n## MESSAGE\n\nJMS message +  + \n\n### \n\n\n\n- JMSDestination QueueTopic\n\n- JMSDeliveryMode JMS\n\n- JMSExpiration \n\n- JMSPriority 0-45-9\n\n- JMSMessgeID ID\n\n### \n\n5\n\n- TextMessage  \n\n- MapMessage mapkeyStringJava\n\n- BytesMessage \n\n- StreamMessage \n\n- ObjectMessage Java\n\n\n\n### \n\n\n\n```java\nTextMessage tm = session.createTextMessage(\"wa wa\");\ntm.setStringProperty(\"c01\",\"vip\"); // \n\n\nTextMessage tms = (TextMessage) messge;\nSystem.out.println(tms.getStringProperty(\"c01\")); // \n```\n\n# \n\nMQ************\n\n##  PERSISTENT\n\nredisrdbaof\n\n### QUEUE\n\n#### \n\n1.  \n\n   > messaegeProducer.setDeliveryMode(DeliveryMode.*NON_PRESISTENT*);\n\n2.  \n\n   > messageProducer.setDelieveryMode(DeliveryMode._PRESISTENT_);\n\n#### \n\nactiveMQMQ\n\n\n\n********\n\n\n\n### TOPIC\n\ntopictopic\n\n1. MQ\n\n2. \n\n3. \n\n##  TRANSACTION\n\nACID\n\n```java\n// session \nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n```\n\n### \n\n- false `send`\n\n- true `send``commit`\n\ntrue\n\n```java\ntry{\n    // ok session.commit;\n}catch (Exception e){\n    // error\n    session.rollback();\n}finally{\n    if(null != session){\n        session.close();\n}\n}\n```\n\n### \n\nsession`true``commit`\n\n##  ACKNOWLEDGE\n\n\n\n#### \n\n```java\n// session \nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n```\n\n- **AUTO_ACKNOWLEDGE**  \n\n-  **CLIENT_ACKNOWLEDGE** \n\n-  **DUPS_OK_ACKNOWLEDGE**\n\n\n\n```java\nTextMessage tm = (TextMessage)messageConsumer.receive(4000L);\nif(null != tm){\n    tm.acknowledge();\n}else{\n    break;\n}\n// ...\n```\n\n### \n\n```java\n// session \nSession session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\n```\n\n`commit`\n\n## \n\n****\n\n- **Session****acknowledge**)\n\n- ****\n\n## \n\nJMS Pub/Sub**topic**publishersubscribepublishersubscribe\n\n### \n\nMQ\n\n### \n\nMQIDIDMQMQID \n\n# BROKER\n\n\n\nActiveMQ****ActiveMQMQJava\n\nlinuxMQMQ  springboottomcat.\n\n## \n\nActiveMQbroker\n\n`ActiveMQ`****1. 2. producerbroker\n\nproducerproducerclientbroker100%``\n\n# ACTIVEMQ\n\nQ: 61616tcp\n\nNIO\n\nTCP, NIO, UDP, SSL, VMjava\n\n|    |                                 |\n| ------ | ----------------------------------- |\n| TCP    |             |\n| NIO    | TCP |\n| HTP(s) | HTTP(s)                         |\n\n## NIO\n\nNIO`activemq.xml`\n\n```xml\n<broker>\n...\n    <transportConnectors>\n        <transportConnector name=\"nio\" uri=\"nio://192.168.111.136\"/>\n    </transportConnectors>\n...\n</broker>\n```\n\n\n\n```java\npublic stati final String ACTIVEMQ_URL = \"nio://192.168.111.136\";\n\n\npublic static void main(String[] args){\n    ActiveMQConnectionFactory af = new ActiveMQConnectionFactory(ACTIVEMQ_URL);\n    ......\n}\n```\n\n### \n\nQ: urinioTCPNIOIO`openwireTCP`NIO\n\n`BIO+TCP``NIO+TCP``NIO+TCP/Mqtt/stomp`\n\nA: `auto`[reference](https://activemq.apache.org/auto)\n\n```xml\n<transportConnector name=\"auto\" uri=\"auto://localhost:5761\"/>\n```\n\n**note:** activeMQ`Network`\n\n# ACTIVEMQ\n\nMQ``MQi\n\nDB`KahaDB`, `LevelDB`, `JDBC`\n\nQ: AMQ\n\n## KahaDB\n\nActiveMQ5.4Redisaof\n\n\n\n```xml\n<persistenceAdapter>\n    <kahaDB directory=\"${activemq.data}/kahadb\"/>\n</persistenceAdpter>\n```\n\n### \n\nreference [here](https:/activemq.apache.org/kahadb)\n\n********\n\nKahadb4lockdb-1.log, db.data, db.free, db.redo, lock. 41\n\n#### db\\<Number\\>.log\n\nNumber1\n\n#### db.data\n\n`BTree`B-TreeB-Tree`db-\\<Number>.log`\n\n#### db.free\n\n`db.data`**ID**. linuxbash`free`\n\n#### db.redo\n\nKahaDBBTree\n\n#### lock\n\nmysqlkahadbbroker\n\n## JDBC\n\nmysql/oraclejdbcJournalkahaDBJDBC\n\n## LevelDB\n\n## JDBC Message store with ActiveMQ Journal\n\n\n\n# Q&A\n\n1. \n\n2. Async Sends\n\n3. \n\n4. \n\n5. ActiveMQ\n\n6. \n\n7. \n\n## \n\nzookeeper + (replicated-leveldb-store)\n\n## \n\n \n\n\n\n```java\nActiveMQConnectionFacotry acf = new ActiveMQConnectionFactory(URL);\n// \nacf.setUseAsyncSend(true);\nActiveMQMessageProducer amp = (ActiveMQMessageProducer)session.createProducer(queue);\n...\nTextMessage message = session.createTextMessage();\n// message\nmessage.setJMSMessageID(UUID.randomUUID().toString());\n\n// send\namp.send(message, new AsyncCallback(){\n    @Override\n    public void onSucces(){\n\n        System.out.println(message.getJMSmessageID+\" succeed\")\n    }\n    @Override\n    public void onException(JMSException exception){\n        // \n        System.out.println(message.getJMSmessageID+\" fail\")\n    }\n})\n```\n\n## \n\n[](http://activemq.apache.org/delay-and-schedule-message-delivery.html)\n\n| Property name          | type   | description        |\n| ---------------------- | ------ | ------------------ |\n| AMQ\\_SCHEDULED\\_DELAY  | long   |      |\n| AMQ\\_SCHEDULED\\_PERIOD | long   |  |\n| AMQ\\_SCHEDULED\\_REPEAT | int    |        |\n| AMQ\\_SCHEDULED\\_CRON   | String | Cron         |\n\n`activemq.xml`*schedulerSupport**true*Java*ScheduledMessage*\n\n```java\nlong delay = 3 * 1000; //3\nlong period = 4 * 1000;\nint repeat = 5;\n\nTextMessage message = session.createTextMessage();\nmessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\nmessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_PERIOD, delay);\nmessage.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_REPEAT, delay);\n\nmessageProducer.send(mesage);\n...\n```\n\n## ActiveMQ\n\n- \n\n- \n\n- Posion ACK\n\nreference [here](activemq.apache.org/redelivery-policy)\n\ncommit6MQDLQDead Letter Queue\n\n## \n\n**note**: MQ\n\n- \n\n- redis**id**\\<id, message\\>K-Vredisredis","source":"_posts/mq.md","raw":"---\ntitle: mq\ndate: 2020-07-20 21:04:40\ncategories: MiddleWare\ntags: activemq\n---\n\nmqmq\n\n<!--more-->\n\n# MQ\n\n\n\n1. ````\n\n   ``\n\n2. `A`BC\n\n   `D``A`__AD__`A``A`\n\n## \n\n-   \n\n-   \n\n-   \n\n# \n\n|    | Topic                                                | Queue                                                |\n| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |\n|    | - |  |\n|    |                                                        | Queuemq                    |\n|  |                        |                                                  |\n|    |  |  |\n\n# JMS\n\nJavaJava Message ServiceJavaEEAPIiJava\n\nJMSMQ\n\n## MESSAGE\n\nJMS message +  + \n\n### \n\n\n\n- JMSDestination QueueTopic\n\n- JMSDeliveryMode JMS\n\n- JMSExpiration \n\n- JMSPriority 0-45-9\n\n- JMSMessgeID ID\n\n### \n\n5\n\n- TextMessage  \n\n- MapMessage mapkeyStringJava\n\n- BytesMessage \n\n- StreamMessage \n\n- ObjectMessage Java\n\n\n\n### \n\n\n\n```java\nTextMessage tm = session.createTextMessage(\"wa wa\");\ntm.setStringProperty(\"c01\",\"vip\"); // \n\n\nTextMessage tms = (TextMessage) messge;\nSystem.out.println(tms.getStringProperty(\"c01\")); // \n```\n\n# \n\nMQ************\n\n##  PERSISTENT\n\nredisrdbaof\n\n### QUEUE\n\n#### \n\n1.  \n\n   > messaegeProducer.setDeliveryMode(DeliveryMode.*NON_PRESISTENT*);\n\n2.  \n\n   > messageProducer.setDelieveryMode(DeliveryMode._PRESISTENT_);\n\n#### \n\nactiveMQMQ\n\n\n\n********\n\n\n\n### TOPIC\n\ntopictopic\n\n1. MQ\n\n2. \n\n3. \n\n##  TRANSACTION\n\nACID\n\n```java\n// session \nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n```\n\n### \n\n- false `send`\n\n- true `send``commit`\n\ntrue\n\n```java\ntry{\n    // ok session.commit;\n}catch (Exception e){\n    // error\n    session.rollback();\n}finally{\n    if(null != session){\n        session.close();\n}\n}\n```\n\n### \n\nsession`true``commit`\n\n##  ACKNOWLEDGE\n\n\n\n#### \n\n```java\n// session \nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n```\n\n- **AUTO_ACKNOWLEDGE**  \n\n-  **CLIENT_ACKNOWLEDGE** \n\n-  **DUPS_OK_ACKNOWLEDGE**\n\n\n\n```java\nTextMessage tm = (TextMessage)messageConsumer.receive(4000L);\nif(null != tm){\n    tm.acknowledge();\n}else{\n    break;\n}\n// ...\n```\n\n### \n\n```java\n// session \nSession session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\n```\n\n`commit`\n\n## \n\n****\n\n- **Session****acknowledge**)\n\n- ****\n\n## \n\nJMS Pub/Sub**topic**publishersubscribepublishersubscribe\n\n### \n\nMQ\n\n### \n\nMQIDIDMQMQID \n\n# BROKER\n\n\n\nActiveMQ****ActiveMQMQJava\n\nlinuxMQMQ  springboottomcat.\n\n## \n\nActiveMQbroker\n\n`ActiveMQ`****1. 2. producerbroker\n\nproducerproducerclientbroker100%``\n\n# ACTIVEMQ\n\nQ: 61616tcp\n\nNIO\n\nTCP, NIO, UDP, SSL, VMjava\n\n|    |                                 |\n| ------ | ----------------------------------- |\n| TCP    |             |\n| NIO    | TCP |\n| HTP(s) | HTTP(s)                         |\n\n## NIO\n\nNIO`activemq.xml`\n\n```xml\n<broker>\n...\n    <transportConnectors>\n        <transportConnector name=\"nio\" uri=\"nio://192.168.111.136\"/>\n    </transportConnectors>\n...\n</broker>\n```\n\n\n\n```java\npublic stati final String ACTIVEMQ_URL = \"nio://192.168.111.136\";\n\n\npublic static void main(String[] args){\n    ActiveMQConnectionFactory af = new ActiveMQConnectionFactory(ACTIVEMQ_URL);\n    ......\n}\n```\n\n### \n\nQ: urinioTCPNIOIO`openwireTCP`NIO\n\n`BIO+TCP``NIO+TCP``NIO+TCP/Mqtt/stomp`\n\nA: `auto`[reference](https://activemq.apache.org/auto)\n\n```xml\n<transportConnector name=\"auto\" uri=\"auto://localhost:5761\"/>\n```\n\n**note:** activeMQ`Network`\n\n# ACTIVEMQ\n\nMQ``MQi\n\nDB`KahaDB`, `LevelDB`, `JDBC`\n\nQ: AMQ\n\n## KahaDB\n\nActiveMQ5.4Redisaof\n\n\n\n```xml\n<persistenceAdapter>\n    <kahaDB directory=\"${activemq.data}/kahadb\"/>\n</persistenceAdpter>\n```\n\n### \n\nreference [here](https:/activemq.apache.org/kahadb)\n\n********\n\nKahadb4lockdb-1.log, db.data, db.free, db.redo, lock. 41\n\n#### db\\<Number\\>.log\n\nNumber1\n\n#### db.data\n\n`BTree`B-TreeB-Tree`db-\\<Number>.log`\n\n#### db.free\n\n`db.data`**ID**. linuxbash`free`\n\n#### db.redo\n\nKahaDBBTree\n\n#### lock\n\nmysqlkahadbbroker\n\n## JDBC\n\nmysql/oraclejdbcJournalkahaDBJDBC\n\n## LevelDB\n\n## JDBC Message store with ActiveMQ Journal\n\n\n\n# Q&A\n\n1. \n\n2. Async Sends\n\n3. \n\n4. \n\n5. ActiveMQ\n\n6. \n\n7. \n\n## \n\nzookeeper + (replicated-leveldb-store)\n\n## \n\n \n\n\n\n```java\nActiveMQConnectionFacotry acf = new ActiveMQConnectionFactory(URL);\n// \nacf.setUseAsyncSend(true);\nActiveMQMessageProducer amp = (ActiveMQMessageProducer)session.createProducer(queue);\n...\nTextMessage message = session.createTextMessage();\n// message\nmessage.setJMSMessageID(UUID.randomUUID().toString());\n\n// send\namp.send(message, new AsyncCallback(){\n    @Override\n    public void onSucces(){\n\n        System.out.println(message.getJMSmessageID+\" succeed\")\n    }\n    @Override\n    public void onException(JMSException exception){\n        // \n        System.out.println(message.getJMSmessageID+\" fail\")\n    }\n})\n```\n\n## \n\n[](http://activemq.apache.org/delay-and-schedule-message-delivery.html)\n\n| Property name          | type   | description        |\n| ---------------------- | ------ | ------------------ |\n| AMQ\\_SCHEDULED\\_DELAY  | long   |      |\n| AMQ\\_SCHEDULED\\_PERIOD | long   |  |\n| AMQ\\_SCHEDULED\\_REPEAT | int    |        |\n| AMQ\\_SCHEDULED\\_CRON   | String | Cron         |\n\n`activemq.xml`*schedulerSupport**true*Java*ScheduledMessage*\n\n```java\nlong delay = 3 * 1000; //3\nlong period = 4 * 1000;\nint repeat = 5;\n\nTextMessage message = session.createTextMessage();\nmessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\nmessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_PERIOD, delay);\nmessage.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_REPEAT, delay);\n\nmessageProducer.send(mesage);\n...\n```\n\n## ActiveMQ\n\n- \n\n- \n\n- Posion ACK\n\nreference [here](activemq.apache.org/redelivery-policy)\n\ncommit6MQDLQDead Letter Queue\n\n## \n\n**note**: MQ\n\n- \n\n- redis**id**\\<id, message\\>K-Vredisredis","slug":"mq","published":1,"updated":"2020-11-08T07:20:16.385Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckioma8iw002ok7ih2ugs8yu1","content":"<p>mqmq</p>\n<a id=\"more\"></a>\n\n<h1 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h1><p></p>\n<ol>\n<li><p><code></code><code></code></p>\n<p><code></code></p>\n</li>\n<li><p><code>A</code>BC</p>\n<p><code>D</code><code>A</code>__AD__<code>A</code><code>A</code></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p>  </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>  </p>\n</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th>Topic</th>\n<th>Queue</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>-</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>Queuemq</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"JMS\"><a href=\"#JMS\" class=\"headerlink\" title=\"JMS\"></a>JMS</h1><p>JavaJava Message ServiceJavaEEAPIiJava</p>\n<p>JMSMQ</p>\n<h2 id=\"MESSAGE\"><a href=\"#MESSAGE\" class=\"headerlink\" title=\"MESSAGE\"></a>MESSAGE</h2><p>JMS message +  + </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><p>JMSDestination QueueTopic</p>\n</li>\n<li><p>JMSDeliveryMode JMS</p>\n</li>\n<li><p>JMSExpiration </p>\n</li>\n<li><p>JMSPriority 0-45-9</p>\n</li>\n<li><p>JMSMessgeID ID</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>5</p>\n<ul>\n<li><p>TextMessage  </p>\n</li>\n<li><p>MapMessage mapkeyStringJava</p>\n</li>\n<li><p>BytesMessage </p>\n</li>\n<li><p>StreamMessage </p>\n</li>\n<li><p>ObjectMessage Java</p>\n</li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TextMessage tm = session.createTextMessage(<span class=\"string\">&quot;wa wa&quot;</span>);</span><br><span class=\"line\">tm.setStringProperty(<span class=\"string\">&quot;c01&quot;</span>,<span class=\"string\">&quot;vip&quot;</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">TextMessage tms = (TextMessage) messge;</span><br><span class=\"line\">System.out.println(tms.getStringProperty(<span class=\"string\">&quot;c01&quot;</span>)); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>MQ<strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"-PERSISTENT\"><a href=\"#-PERSISTENT\" class=\"headerlink\" title=\" PERSISTENT\"></a> PERSISTENT</h2><p>redisrdbaof</p>\n<h3 id=\"QUEUE\"><a href=\"#QUEUE\" class=\"headerlink\" title=\"QUEUE\"></a>QUEUE</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> </p>\n<blockquote>\n<p>messaegeProducer.setDeliveryMode(DeliveryMode.<em>NON_PRESISTENT</em>);</p>\n</blockquote>\n</li>\n<li><p> </p>\n<blockquote>\n<p>messageProducer.setDelieveryMode(DeliveryMode.<em>PRESISTENT</em>);</p>\n</blockquote>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>activeMQMQ</p>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<h3 id=\"TOPIC\"><a href=\"#TOPIC\" class=\"headerlink\" title=\"TOPIC\"></a>TOPIC</h3><p>topictopic</p>\n<ol>\n<li><p>MQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"-TRANSACTION\"><a href=\"#-TRANSACTION\" class=\"headerlink\" title=\" TRANSACTION\"></a> TRANSACTION</h2><p>ACID</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>false <code>send</code></p>\n</li>\n<li><p>true <code>send</code><code>commit</code></p>\n</li>\n</ul>\n<p>true</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ok session.commit;</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span> (Exception e)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// error</span></span><br><span class=\"line\">    session.rollback();</span><br><span class=\"line\">&#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != session)&#123;</span><br><span class=\"line\">        session.close();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>session<code>true</code><code>commit</code></p>\n<h2 id=\"-ACKNOWLEDGE\"><a href=\"#-ACKNOWLEDGE\" class=\"headerlink\" title=\" ACKNOWLEDGE\"></a> ACKNOWLEDGE</h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><strong>AUTO_ACKNOWLEDGE</strong>  </p>\n</li>\n<li><p> <strong>CLIENT_ACKNOWLEDGE</strong> </p>\n</li>\n<li><p> <strong>DUPS_OK_ACKNOWLEDGE</strong></p>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TextMessage tm = (TextMessage)messageConsumer.receive(<span class=\"number\">4000L</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != tm)&#123;</span><br><span class=\"line\">    tm.acknowledge();</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">true</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<p><code>commit</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li><p><strong>Session</strong><strong>acknowledge</strong>)</p>\n</li>\n<li><p><strong></strong></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JMS Pub/Sub<strong>topic</strong>publishersubscribepublishersubscribe</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MQ</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MQIDIDMQMQID </p>\n<h1 id=\"BROKER\"><a href=\"#BROKER\" class=\"headerlink\" title=\"BROKER\"></a>BROKER</h1><p></p>\n<p>ActiveMQ<strong></strong>ActiveMQMQJava</p>\n<p>linuxMQMQ  springboottomcat.</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ActiveMQbroker</p>\n<p><code>ActiveMQ</code><strong></strong>1. 2. producerbroker</p>\n<p>producerproducerclientbroker100%<code></code></p>\n<h1 id=\"ACTIVEMQ\"><a href=\"#ACTIVEMQ\" class=\"headerlink\" title=\"ACTIVEMQ\"></a>ACTIVEMQ</h1><p>Q: 61616tcp</p>\n<p>NIO</p>\n<p>TCP, NIO, UDP, SSL, VMjava</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>TCP</td>\n<td></td>\n</tr>\n<tr>\n<td>NIO</td>\n<td>TCP</td>\n</tr>\n<tr>\n<td>HTP(s)</td>\n<td>HTTP(s)</td>\n</tr>\n</tbody></table>\n<h2 id=\"NIO\"><a href=\"#NIO\" class=\"headerlink\" title=\"NIO\"></a>NIO</h2><p>NIO<code>activemq.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">broker</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transportConnectors</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">transportConnector</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;nio&quot;</span> <span class=\"attr\">uri</span>=<span class=\"string\">&quot;nio://192.168.111.136&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">transportConnectors</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">broker</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> stati <span class=\"keyword\">final</span> String ACTIVEMQ_URL = <span class=\"string\">&quot;nio://192.168.111.136&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">    ActiveMQConnectionFactory af = <span class=\"keyword\">new</span> ActiveMQConnectionFactory(ACTIVEMQ_URL);</span><br><span class=\"line\">    ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Q: urinioTCPNIOIO<code>openwireTCP</code>NIO</p>\n<p><code>BIO+TCP</code><code>NIO+TCP</code><code>NIO+TCP/Mqtt/stomp</code></p>\n<p>A: <code>auto</code><a href=\"https://activemq.apache.org/auto\">reference</a></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transportConnector</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">uri</span>=<span class=\"string\">&quot;auto://localhost:5761&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>note:</strong> activeMQ<code>Network</code></p>\n<h1 id=\"ACTIVEMQ\"><a href=\"#ACTIVEMQ\" class=\"headerlink\" title=\"ACTIVEMQ\"></a>ACTIVEMQ</h1><p>MQ<code></code>MQi</p>\n<p>DB<code>KahaDB</code>, <code>LevelDB</code>, <code>JDBC</code></p>\n<p>Q: AMQ</p>\n<h2 id=\"KahaDB\"><a href=\"#KahaDB\" class=\"headerlink\" title=\"KahaDB\"></a>KahaDB</h2><p>ActiveMQ5.4Redisaof</p>\n<p></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">persistenceAdapter</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">kahaDB</span> <span class=\"attr\">directory</span>=<span class=\"string\">&quot;$&#123;activemq.data&#125;/kahadb&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">persistenceAdpter</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>reference <a href=\"https://activemq.apache.org/kahadb\">here</a></p>\n<p><strong></strong><strong></strong></p>\n<p>Kahadb4lockdb-1.log, db.data, db.free, db.redo, lock. 41</p>\n<h4 id=\"db-lt-Number-gt-log\"><a href=\"#db-lt-Number-gt-log\" class=\"headerlink\" title=\"db&lt;Number&gt;.log\"></a>db&lt;Number&gt;.log</h4><p>Number1</p>\n<h4 id=\"db-data\"><a href=\"#db-data\" class=\"headerlink\" title=\"db.data\"></a>db.data</h4><p><code>BTree</code>B-TreeB-Tree<code>db-\\&lt;Number&gt;.log</code></p>\n<h4 id=\"db-free\"><a href=\"#db-free\" class=\"headerlink\" title=\"db.free\"></a>db.free</h4><p><code>db.data</code><strong>ID</strong>. linuxbash<code>free</code></p>\n<h4 id=\"db-redo\"><a href=\"#db-redo\" class=\"headerlink\" title=\"db.redo\"></a>db.redo</h4><p>KahaDBBTree</p>\n<h4 id=\"lock\"><a href=\"#lock\" class=\"headerlink\" title=\"lock\"></a>lock</h4><p>mysqlkahadbbroker</p>\n<h2 id=\"JDBC\"><a href=\"#JDBC\" class=\"headerlink\" title=\"JDBC\"></a>JDBC</h2><p>mysql/oraclejdbcJournalkahaDBJDBC</p>\n<h2 id=\"LevelDB\"><a href=\"#LevelDB\" class=\"headerlink\" title=\"LevelDB\"></a>LevelDB</h2><h2 id=\"JDBC-Message-store-with-ActiveMQ-Journal\"><a href=\"#JDBC-Message-store-with-ActiveMQ-Journal\" class=\"headerlink\" title=\"JDBC Message store with ActiveMQ Journal\"></a>JDBC Message store with ActiveMQ Journal</h2><p></p>\n<h1 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A\"></a>Q&amp;A</h1><ol>\n<li><p></p>\n</li>\n<li><p>Async Sends</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>ActiveMQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zookeeper + (replicated-leveldb-store)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ActiveMQConnectionFacotry acf = <span class=\"keyword\">new</span> ActiveMQConnectionFactory(URL);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">acf.setUseAsyncSend(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">ActiveMQMessageProducer amp = (ActiveMQMessageProducer)session.createProducer(queue);</span><br><span class=\"line\">...</span><br><span class=\"line\">TextMessage message = session.createTextMessage();</span><br><span class=\"line\"><span class=\"comment\">// message</span></span><br><span class=\"line\">message.setJMSMessageID(UUID.randomUUID().toString());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// send</span></span><br><span class=\"line\">amp.send(message, <span class=\"keyword\">new</span> AsyncCallback()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onSucces</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(message.getJMSmessageID+<span class=\"string\">&quot; succeed&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onException</span><span class=\"params\">(JMSException exception)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        System.out.println(message.getJMSmessageID+<span class=\"string\">&quot; fail&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://activemq.apache.org/delay-and-schedule-message-delivery.html\"></a></p>\n<table>\n<thead>\n<tr>\n<th>Property name</th>\n<th>type</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>AMQ_SCHEDULED_DELAY</td>\n<td>long</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_PERIOD</td>\n<td>long</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_REPEAT</td>\n<td>int</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_CRON</td>\n<td>String</td>\n<td>Cron</td>\n</tr>\n</tbody></table>\n<p><code>activemq.xml</code><em>schedulerSupport</em><em>true</em>Java<em>ScheduledMessage</em></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">long</span> delay = <span class=\"number\">3</span> * <span class=\"number\">1000</span>; <span class=\"comment\">//3</span></span><br><span class=\"line\"><span class=\"keyword\">long</span> period = <span class=\"number\">4</span> * <span class=\"number\">1000</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> repeat = <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">TextMessage message = session.createTextMessage();</span><br><span class=\"line\">message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);</span><br><span class=\"line\">message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_PERIOD, delay);</span><br><span class=\"line\">message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_REPEAT, delay);</span><br><span class=\"line\"></span><br><span class=\"line\">messageProducer.send(mesage);</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ActiveMQ\"><a href=\"#ActiveMQ\" class=\"headerlink\" title=\"ActiveMQ\"></a>ActiveMQ</h2><ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>Posion ACK</p>\n</li>\n</ul>\n<p>reference <a href=\"activemq.apache.org/redelivery-policy\">here</a></p>\n<p>commit6MQDLQDead Letter Queue</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>note</strong>: MQ</p>\n<ul>\n<li><p></p>\n</li>\n<li><p>redis<strong>id</strong>&lt;id, message&gt;K-Vredisredis</p>\n</li>\n</ul>\n","site":{"data":{}},"thumbnailImageUrl":null,"excerpt":"<p>mqmq</p>","more":"<h1 id=\"MQ\"><a href=\"#MQ\" class=\"headerlink\" title=\"MQ\"></a>MQ</h1><p></p>\n<ol>\n<li><p><code></code><code></code></p>\n<p><code></code></p>\n</li>\n<li><p><code>A</code>BC</p>\n<p><code>D</code><code>A</code>__AD__<code>A</code><code>A</code></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p>  </p>\n</li>\n<li><p>  </p>\n</li>\n<li><p>  </p>\n</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><table>\n<thead>\n<tr>\n<th></th>\n<th>Topic</th>\n<th>Queue</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>-</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>Queuemq</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h1 id=\"JMS\"><a href=\"#JMS\" class=\"headerlink\" title=\"JMS\"></a>JMS</h1><p>JavaJava Message ServiceJavaEEAPIiJava</p>\n<p>JMSMQ</p>\n<h2 id=\"MESSAGE\"><a href=\"#MESSAGE\" class=\"headerlink\" title=\"MESSAGE\"></a>MESSAGE</h2><p>JMS message +  + </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><p>JMSDestination QueueTopic</p>\n</li>\n<li><p>JMSDeliveryMode JMS</p>\n</li>\n<li><p>JMSExpiration </p>\n</li>\n<li><p>JMSPriority 0-45-9</p>\n</li>\n<li><p>JMSMessgeID ID</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>5</p>\n<ul>\n<li><p>TextMessage  </p>\n</li>\n<li><p>MapMessage mapkeyStringJava</p>\n</li>\n<li><p>BytesMessage </p>\n</li>\n<li><p>StreamMessage </p>\n</li>\n<li><p>ObjectMessage Java</p>\n</li>\n</ul>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TextMessage tm = session.createTextMessage(<span class=\"string\">&quot;wa wa&quot;</span>);</span><br><span class=\"line\">tm.setStringProperty(<span class=\"string\">&quot;c01&quot;</span>,<span class=\"string\">&quot;vip&quot;</span>); <span class=\"comment\">// </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">TextMessage tms = (TextMessage) messge;</span><br><span class=\"line\">System.out.println(tms.getStringProperty(<span class=\"string\">&quot;c01&quot;</span>)); <span class=\"comment\">// </span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>MQ<strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"-PERSISTENT\"><a href=\"#-PERSISTENT\" class=\"headerlink\" title=\" PERSISTENT\"></a> PERSISTENT</h2><p>redisrdbaof</p>\n<h3 id=\"QUEUE\"><a href=\"#QUEUE\" class=\"headerlink\" title=\"QUEUE\"></a>QUEUE</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> </p>\n<blockquote>\n<p>messaegeProducer.setDeliveryMode(DeliveryMode.<em>NON_PRESISTENT</em>);</p>\n</blockquote>\n</li>\n<li><p> </p>\n<blockquote>\n<p>messageProducer.setDelieveryMode(DeliveryMode.<em>PRESISTENT</em>);</p>\n</blockquote>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>activeMQMQ</p>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<h3 id=\"TOPIC\"><a href=\"#TOPIC\" class=\"headerlink\" title=\"TOPIC\"></a>TOPIC</h3><p>topictopic</p>\n<ol>\n<li><p>MQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"-TRANSACTION\"><a href=\"#-TRANSACTION\" class=\"headerlink\" title=\" TRANSACTION\"></a> TRANSACTION</h2><p>ACID</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>false <code>send</code></p>\n</li>\n<li><p>true <code>send</code><code>commit</code></p>\n</li>\n</ul>\n<p>true</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ok session.commit;</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">catch</span> (Exception e)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// error</span></span><br><span class=\"line\">    session.rollback();</span><br><span class=\"line\">&#125;<span class=\"keyword\">finally</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != session)&#123;</span><br><span class=\"line\">        session.close();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>session<code>true</code><code>commit</code></p>\n<h2 id=\"-ACKNOWLEDGE\"><a href=\"#-ACKNOWLEDGE\" class=\"headerlink\" title=\" ACKNOWLEDGE\"></a> ACKNOWLEDGE</h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">false</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p><strong>AUTO_ACKNOWLEDGE</strong>  </p>\n</li>\n<li><p> <strong>CLIENT_ACKNOWLEDGE</strong> </p>\n</li>\n<li><p> <strong>DUPS_OK_ACKNOWLEDGE</strong></p>\n</li>\n</ul>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TextMessage tm = (TextMessage)messageConsumer.receive(<span class=\"number\">4000L</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != tm)&#123;</span><br><span class=\"line\">    tm.acknowledge();</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// session </span></span><br><span class=\"line\">Session session = connection.createSession(<span class=\"keyword\">true</span>, Session.AUTO_ACKNOWLEDGE);</span><br></pre></td></tr></table></figure>\n\n<p><code>commit</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li><p><strong>Session</strong><strong>acknowledge</strong>)</p>\n</li>\n<li><p><strong></strong></p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JMS Pub/Sub<strong>topic</strong>publishersubscribepublishersubscribe</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MQ</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>MQIDIDMQMQID </p>\n<h1 id=\"BROKER\"><a href=\"#BROKER\" class=\"headerlink\" title=\"BROKER\"></a>BROKER</h1><p></p>\n<p>ActiveMQ<strong></strong>ActiveMQMQJava</p>\n<p>linuxMQMQ  springboottomcat.</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>ActiveMQbroker</p>\n<p><code>ActiveMQ</code><strong></strong>1. 2. producerbroker</p>\n<p>producerproducerclientbroker100%<code></code></p>\n<h1 id=\"ACTIVEMQ\"><a href=\"#ACTIVEMQ\" class=\"headerlink\" title=\"ACTIVEMQ\"></a>ACTIVEMQ</h1><p>Q: 61616tcp</p>\n<p>NIO</p>\n<p>TCP, NIO, UDP, SSL, VMjava</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>TCP</td>\n<td></td>\n</tr>\n<tr>\n<td>NIO</td>\n<td>TCP</td>\n</tr>\n<tr>\n<td>HTP(s)</td>\n<td>HTTP(s)</td>\n</tr>\n</tbody></table>\n<h2 id=\"NIO\"><a href=\"#NIO\" class=\"headerlink\" title=\"NIO\"></a>NIO</h2><p>NIO<code>activemq.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">broker</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transportConnectors</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">transportConnector</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;nio&quot;</span> <span class=\"attr\">uri</span>=<span class=\"string\">&quot;nio://192.168.111.136&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">transportConnectors</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">broker</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> stati <span class=\"keyword\">final</span> String ACTIVEMQ_URL = <span class=\"string\">&quot;nio://192.168.111.136&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</span><br><span class=\"line\">    ActiveMQConnectionFactory af = <span class=\"keyword\">new</span> ActiveMQConnectionFactory(ACTIVEMQ_URL);</span><br><span class=\"line\">    ......</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Q: urinioTCPNIOIO<code>openwireTCP</code>NIO</p>\n<p><code>BIO+TCP</code><code>NIO+TCP</code><code>NIO+TCP/Mqtt/stomp</code></p>\n<p>A: <code>auto</code><a href=\"https://activemq.apache.org/auto\">reference</a></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">transportConnector</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">uri</span>=<span class=\"string\">&quot;auto://localhost:5761&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>note:</strong> activeMQ<code>Network</code></p>\n<h1 id=\"ACTIVEMQ\"><a href=\"#ACTIVEMQ\" class=\"headerlink\" title=\"ACTIVEMQ\"></a>ACTIVEMQ</h1><p>MQ<code></code>MQi</p>\n<p>DB<code>KahaDB</code>, <code>LevelDB</code>, <code>JDBC</code></p>\n<p>Q: AMQ</p>\n<h2 id=\"KahaDB\"><a href=\"#KahaDB\" class=\"headerlink\" title=\"KahaDB\"></a>KahaDB</h2><p>ActiveMQ5.4Redisaof</p>\n<p></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">persistenceAdapter</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">kahaDB</span> <span class=\"attr\">directory</span>=<span class=\"string\">&quot;$&#123;activemq.data&#125;/kahadb&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">persistenceAdpter</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>reference <a href=\"https://activemq.apache.org/kahadb\">here</a></p>\n<p><strong></strong><strong></strong></p>\n<p>Kahadb4lockdb-1.log, db.data, db.free, db.redo, lock. 41</p>\n<h4 id=\"db-lt-Number-gt-log\"><a href=\"#db-lt-Number-gt-log\" class=\"headerlink\" title=\"db&lt;Number&gt;.log\"></a>db&lt;Number&gt;.log</h4><p>Number1</p>\n<h4 id=\"db-data\"><a href=\"#db-data\" class=\"headerlink\" title=\"db.data\"></a>db.data</h4><p><code>BTree</code>B-TreeB-Tree<code>db-\\&lt;Number&gt;.log</code></p>\n<h4 id=\"db-free\"><a href=\"#db-free\" class=\"headerlink\" title=\"db.free\"></a>db.free</h4><p><code>db.data</code><strong>ID</strong>. linuxbash<code>free</code></p>\n<h4 id=\"db-redo\"><a href=\"#db-redo\" class=\"headerlink\" title=\"db.redo\"></a>db.redo</h4><p>KahaDBBTree</p>\n<h4 id=\"lock\"><a href=\"#lock\" class=\"headerlink\" title=\"lock\"></a>lock</h4><p>mysqlkahadbbroker</p>\n<h2 id=\"JDBC\"><a href=\"#JDBC\" class=\"headerlink\" title=\"JDBC\"></a>JDBC</h2><p>mysql/oraclejdbcJournalkahaDBJDBC</p>\n<h2 id=\"LevelDB\"><a href=\"#LevelDB\" class=\"headerlink\" title=\"LevelDB\"></a>LevelDB</h2><h2 id=\"JDBC-Message-store-with-ActiveMQ-Journal\"><a href=\"#JDBC-Message-store-with-ActiveMQ-Journal\" class=\"headerlink\" title=\"JDBC Message store with ActiveMQ Journal\"></a>JDBC Message store with ActiveMQ Journal</h2><p></p>\n<h1 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A\"></a>Q&amp;A</h1><ol>\n<li><p></p>\n</li>\n<li><p>Async Sends</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>ActiveMQ</p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>zookeeper + (replicated-leveldb-store)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> </p>\n<p></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ActiveMQConnectionFacotry acf = <span class=\"keyword\">new</span> ActiveMQConnectionFactory(URL);</span><br><span class=\"line\"><span class=\"comment\">// </span></span><br><span class=\"line\">acf.setUseAsyncSend(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">ActiveMQMessageProducer amp = (ActiveMQMessageProducer)session.createProducer(queue);</span><br><span class=\"line\">...</span><br><span class=\"line\">TextMessage message = session.createTextMessage();</span><br><span class=\"line\"><span class=\"comment\">// message</span></span><br><span class=\"line\">message.setJMSMessageID(UUID.randomUUID().toString());</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// send</span></span><br><span class=\"line\">amp.send(message, <span class=\"keyword\">new</span> AsyncCallback()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onSucces</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(message.getJMSmessageID+<span class=\"string\">&quot; succeed&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onException</span><span class=\"params\">(JMSException exception)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        System.out.println(message.getJMSmessageID+<span class=\"string\">&quot; fail&quot;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://activemq.apache.org/delay-and-schedule-message-delivery.html\"></a></p>\n<table>\n<thead>\n<tr>\n<th>Property name</th>\n<th>type</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>AMQ_SCHEDULED_DELAY</td>\n<td>long</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_PERIOD</td>\n<td>long</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_REPEAT</td>\n<td>int</td>\n<td></td>\n</tr>\n<tr>\n<td>AMQ_SCHEDULED_CRON</td>\n<td>String</td>\n<td>Cron</td>\n</tr>\n</tbody></table>\n<p><code>activemq.xml</code><em>schedulerSupport</em><em>true</em>Java<em>ScheduledMessage</em></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">long</span> delay = <span class=\"number\">3</span> * <span class=\"number\">1000</span>; <span class=\"comment\">//3</span></span><br><span class=\"line\"><span class=\"keyword\">long</span> period = <span class=\"number\">4</span> * <span class=\"number\">1000</span>;</span><br><span class=\"line\"><span class=\"keyword\">int</span> repeat = <span class=\"number\">5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">TextMessage message = session.createTextMessage();</span><br><span class=\"line\">message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);</span><br><span class=\"line\">message.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_PERIOD, delay);</span><br><span class=\"line\">message.setIntProperty(ScheduledMessage.AMQ_SCHEDULED_REPEAT, delay);</span><br><span class=\"line\"></span><br><span class=\"line\">messageProducer.send(mesage);</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ActiveMQ\"><a href=\"#ActiveMQ\" class=\"headerlink\" title=\"ActiveMQ\"></a>ActiveMQ</h2><ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>Posion ACK</p>\n</li>\n</ul>\n<p>reference <a href=\"activemq.apache.org/redelivery-policy\">here</a></p>\n<p>commit6MQDLQDead Letter Queue</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>note</strong>: MQ</p>\n<ul>\n<li><p></p>\n</li>\n<li><p>redis<strong>id</strong>&lt;id, message&gt;K-Vredisredis</p>\n</li>\n</ul>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckioma8gy0001k7ih59es6tvc","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8hn000jk7ih3hr400bl"},{"post_id":"ckioma8h20003k7ih5dv6gau3","category_id":"ckioma8hh000ck7ihcuuzfzvs","_id":"ckioma8ht000qk7ihbacq2sub"},{"post_id":"ckioma8hm000ik7ih8grfhtuz","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8hv000uk7ih6kvu74h0"},{"post_id":"ckioma8hq000mk7ihffdx388q","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8hw000xk7ihe1nt43lk"},{"post_id":"ckioma8h80007k7ihd2hz89qs","category_id":"ckioma8hh000ck7ihcuuzfzvs","_id":"ckioma8hy0011k7iharni1y06"},{"post_id":"ckioma8he0009k7ihffg4d5o6","category_id":"ckioma8hh000ck7ihcuuzfzvs","_id":"ckioma8i20013k7ihdw5me2bs"},{"post_id":"ckioma8hx000zk7ih9iz99g9j","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8i40019k7ih3rr70x1m"},{"post_id":"ckioma8hj000gk7ih99uvhiff","category_id":"ckioma8hw000wk7ihcniga5r3","_id":"ckioma8i7001dk7ihdb957mg7"},{"post_id":"ckioma8hy0012k7ihbuwc2v3t","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8i8001gk7ih3wvz3uff"},{"post_id":"ckioma8i30016k7ih7jbgaat5","category_id":"ckioma8i20014k7ih6f0a8eh4","_id":"ckioma8ia001jk7ihb5r42o50"},{"post_id":"ckioma8hs000ok7ih4dtmevog","category_id":"ckioma8i20014k7ih6f0a8eh4","_id":"ckioma8id001ok7ihh1wu7067"},{"post_id":"ckioma8i40018k7ih3lke7sf5","category_id":"ckioma8hw000wk7ihcniga5r3","_id":"ckioma8if001pk7ih95m76e9i"},{"post_id":"ckioma8hu000sk7ihe0ol5tuv","category_id":"ckioma8i5001ak7ihhccq6tg5","_id":"ckioma8ig001sk7ih697tbahg"},{"post_id":"ckioma8ic001nk7ihenuz6qs1","category_id":"ckioma8h40004k7ihgn67217r","_id":"ckioma8ih001uk7ihbgmc35os"},{"post_id":"ckioma8hv000vk7ih7oej2evb","category_id":"ckioma8ia001kk7ih11cv21n7","_id":"ckioma8ii001xk7ihcxox4u1j"},{"post_id":"ckioma8i6001ck7ih9uish91v","category_id":"ckioma8if001qk7ihgdpxe2rw","_id":"ckioma8ii001yk7ihc0w4hkra"},{"post_id":"ckioma8i7001fk7ihcnk20qdq","category_id":"ckioma8ih001vk7ihazbdf9zi","_id":"ckioma8ik0023k7iheifhd2fu"},{"post_id":"ckioma8i9001ik7ih428m4krm","category_id":"ckioma8ii001zk7ihadzy7f2p","_id":"ckioma8im0026k7ihfm3b75r2"},{"post_id":"ckioma8iw002ok7ih2ugs8yu1","category_id":"ckioma8ia001kk7ih11cv21n7","_id":"ckioma8iy002qk7ihar7ub287"}],"PostTag":[{"post_id":"ckioma8gy0001k7ih59es6tvc","tag_id":"ckioma8h60005k7ih22zr50w0","_id":"ckioma8hi000ek7ihat076u8t"},{"post_id":"ckioma8h20003k7ih5dv6gau3","tag_id":"ckioma8hh000dk7ih4gqz3fnz","_id":"ckioma8hr000nk7ih07mtg8yg"},{"post_id":"ckioma8h80007k7ihd2hz89qs","tag_id":"ckioma8hh000dk7ih4gqz3fnz","_id":"ckioma8hu000tk7ihcbkseuj3"},{"post_id":"ckioma8he0009k7ihffg4d5o6","tag_id":"ckioma8hh000dk7ih4gqz3fnz","_id":"ckioma8hy0010k7ih1mw76qf1"},{"post_id":"ckioma8hg000bk7ih0kmw8iba","tag_id":"ckioma8hw000yk7ihcksx8rr0","_id":"ckioma8i30017k7ih9zhv6tq8"},{"post_id":"ckioma8hj000gk7ih99uvhiff","tag_id":"ckioma8i20015k7ih7v336i6g","_id":"ckioma8i7001ek7ihftwj72bk"},{"post_id":"ckioma8i40018k7ih3lke7sf5","tag_id":"ckioma8i20015k7ih7v336i6g","_id":"ckioma8i9001hk7ih40w33n0j"},{"post_id":"ckioma8hm000ik7ih8grfhtuz","tag_id":"ckioma8i5001bk7ih59bi0bgu","_id":"ckioma8ic001mk7ihheyqa7q8"},{"post_id":"ckioma8hq000mk7ihffdx388q","tag_id":"ckioma8ib001lk7ih43m96vcd","_id":"ckioma8ig001tk7ihgaeu7rp1"},{"post_id":"ckioma8hs000ok7ih4dtmevog","tag_id":"ckioma8ig001rk7ih4aye8fm9","_id":"ckioma8ij0021k7ihhigcds5n"},{"post_id":"ckioma8hs000ok7ih4dtmevog","tag_id":"ckioma8ih001wk7ih7dy5cpac","_id":"ckioma8ik0022k7ih5drtalki"},{"post_id":"ckioma8hu000sk7ihe0ol5tuv","tag_id":"ckioma8ij0020k7ih4oe8c65r","_id":"ckioma8ik0025k7ih1bwid1t9"},{"post_id":"ckioma8hv000vk7ih7oej2evb","tag_id":"ckioma8ik0024k7ih1f3w8bm6","_id":"ckioma8im0028k7ih8ja94fw9"},{"post_id":"ckioma8hx000zk7ih9iz99g9j","tag_id":"ckioma8im0027k7ihepoi4898","_id":"ckioma8in002ak7ih4nbyeg0z"},{"post_id":"ckioma8hy0012k7ihbuwc2v3t","tag_id":"ckioma8im0029k7ih34g04cc1","_id":"ckioma8io002ck7ih2c34bk7x"},{"post_id":"ckioma8i30016k7ih7jbgaat5","tag_id":"ckioma8in002bk7ih8lk89ls0","_id":"ckioma8io002ek7ihcqfe7vn3"},{"post_id":"ckioma8i6001ck7ih9uish91v","tag_id":"ckioma8io002dk7ih1njq5i49","_id":"ckioma8iq002hk7ih4gxu6b34"},{"post_id":"ckioma8i6001ck7ih9uish91v","tag_id":"ckioma8ip002fk7ihab019mcp","_id":"ckioma8is002ik7ih5cfqbzi8"},{"post_id":"ckioma8i7001fk7ihcnk20qdq","tag_id":"ckioma8ip002gk7ih1esg48ro","_id":"ckioma8it002kk7ihgmxs06px"},{"post_id":"ckioma8i9001ik7ih428m4krm","tag_id":"ckioma8is002jk7ihc0oiayt1","_id":"ckioma8it002mk7ih1k31b20l"},{"post_id":"ckioma8ic001nk7ihenuz6qs1","tag_id":"ckioma8im0027k7ihepoi4898","_id":"ckioma8iu002nk7ih2knkbari"},{"post_id":"ckioma8iw002ok7ih2ugs8yu1","tag_id":"ckioma8iy002pk7ih75ox01xv","_id":"ckioma8iy002rk7ihgnyw7ou9"}],"Tag":[{"name":"bitwise","_id":"ckioma8h60005k7ih22zr50w0"},{"name":"algorithm","_id":"ckioma8hh000dk7ih4gqz3fnz"},{"name":"LeetCode","_id":"ckioma8hw000yk7ihcksx8rr0"},{"name":"design_patterns","_id":"ckioma8i20015k7ih7v336i6g"},{"name":"hashmap, data structure","_id":"ckioma8i5001bk7ih59bi0bgu"},{"name":"datastructure","_id":"ckioma8ib001lk7ih43m96vcd"},{"name":"http","_id":"ckioma8ig001rk7ih4aye8fm9"},{"name":"https","_id":"ckioma8ih001wk7ih7dy5cpac"},{"name":"jvm","_id":"ckioma8ij0020k7ih4oe8c65r"},{"name":"kafka","_id":"ckioma8ik0024k7ih1f3w8bm6"},{"name":"lock","_id":"ckioma8im0027k7ihepoi4898"},{"name":"mybatis","_id":"ckioma8im0029k7ih34g04cc1"},{"name":"network","_id":"ckioma8in002bk7ih8lk89ls0"},{"name":"redis","_id":"ckioma8io002dk7ih1njq5i49"},{"name":"nosql","_id":"ckioma8ip002fk7ihab019mcp"},{"name":"aop","_id":"ckioma8ip002gk7ih1esg48ro"},{"name":"utils","_id":"ckioma8is002jk7ihc0oiayt1"},{"name":"activemq","_id":"ckioma8iy002pk7ih75ox01xv"}]}}